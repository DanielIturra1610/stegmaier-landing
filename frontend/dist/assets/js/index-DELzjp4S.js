var e,t,r,s,a,n,i,o,l,c,d,u,m,h,x,p,g,f,b,v,y,j,w,N,k,C,S,E,_,M,I,O,T,L,A,D,P,R,z,$,q,F,B,W,V,U,H,G,Q,X,K,Y,J,Z,ee,te,re,se,ae,ne,ie,oe,le,ce,de,ue,me,he,xe,pe=Object.defineProperty,ge=Object.defineProperties,fe=Object.getOwnPropertyDescriptors,be=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,je=e=>{throw TypeError(e)},we=Math.pow,Ne=(e,t,r)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ke=(e,t)=>{for(var r in t||(t={}))ve.call(t,r)&&Ne(e,r,t[r]);if(be)for(var r of be(t))ye.call(t,r)&&Ne(e,r,t[r]);return e},Ce=(e,t)=>ge(e,fe(t)),Se=(e,t)=>{var r={};for(var s in e)ve.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&be)for(var s of be(e))t.indexOf(s)<0&&ye.call(e,s)&&(r[s]=e[s]);return r},Ee=(e,t,r)=>Ne(e,"symbol"!=typeof t?t+"":t,r),_e=(e,t,r)=>t.has(e)||je("Cannot "+r),Me=(e,t,r)=>(_e(e,t,"read from private field"),r?r.call(e):t.get(e)),Ie=(e,t,r)=>t.has(e)?je("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Oe=(e,t,r,s)=>(_e(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Te=(e,t,r)=>(_e(e,t,"access private method"),r),Le=(e,t,r,s)=>({set _(s){Oe(e,t,s,r)},get _(){return Me(e,t,s)}}),Ae=(e,t,r)=>new Promise((s,a)=>{var n=e=>{try{o(r.next(e))}catch(Dn){a(Dn)}},i=e=>{try{o(r.throw(e))}catch(Dn){a(Dn)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,i);o((r=r.apply(e,t)).next())});import{r as De,a as Pe,g as Re}from"./vendor-eVk5PToZ.js";import{r as ze,u as $e,L as qe,a as Fe,b as Be,R as We,c as Ve,N as Ue,d as He,O as Ge,e as Qe,f as Xe,g as Ke,h as Ye,i as Je,B as Ze}from"./router-CPjigj1O.js";import{c as et,R as tt,A as rt,C as st,X as at,Y as nt,T as it,a as ot,L as lt,b as ct,d as dt,B as ut,e as mt}from"./charts-zw_PrQD-.js";import{m as ht,u as xt,a as pt,C as gt,A as ft,P as bt,B as vt,S as yt,G as jt,b as wt,c as Nt,L as kt,d as Ct,e as St,f as Et,g as _t,M as Mt,U as It,F as Ot,h as Tt,i as Lt,R as At,j as Dt,k as Pt,l as Rt,n as zt,Q as $t,o as qt,p as Ft,q as Bt,r as Wt,s as Vt,t as Ut,v as Ht,w as Gt,x as Qt,y as Xt,H as Kt,W as Yt,z as Jt,D as Zt,E as er,I as tr,J as rr,K as sr,N as ar,O as nr,T as ir,V as or,X as lr,Y as cr,Z as dr,_ as ur,$ as mr,a0 as hr,a1 as xr,a2 as pr,a3 as gr,a4 as fr,a5 as br,a6 as vr,a7 as yr,a8 as jr,a9 as wr,aa as Nr,ab as kr,ac as Cr,ad as Sr,ae as Er,af as _r}from"./ui-0dkY2OU3.js";import{c as Mr,a as Ir,F as Or,b as Tr,d as Lr,E as Ar,e as Dr,u as Pr}from"./forms-BM3oarEZ.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Rr,zr,$r={exports:{}},qr={};var Fr,Br=(zr||(zr=1,$r.exports=function(){if(Rr)return qr;Rr=1;var e=De(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function i(e,r,i){var o,l={},c=null,d=null;for(o in void 0!==i&&(c=""+i),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)s.call(r,o)&&!n.hasOwnProperty(o)&&(l[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps)void 0===l[o]&&(l[o]=r[o]);return{$$typeof:t,type:e,key:c,ref:d,props:l,_owner:a.current}}return qr.Fragment=r,qr.jsx=i,qr.jsxs=i,qr}()),$r.exports),Wr={};const Vr=Re(function(){if(Fr)return Wr;Fr=1;var e=Pe();return Wr.createRoot=e.createRoot,Wr.hydrateRoot=e.hydrateRoot,Wr}());var Ur=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hr="undefined"==typeof window||"Deno"in globalThis;function Gr(){}function Qr(e){return"number"==typeof e&&e>=0&&e!==1/0}function Xr(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Kr(e,t){return"function"==typeof e?e(t):e}function Yr(e,t){return"function"==typeof e?e(t):e}function Jr(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:n,queryKey:i,stale:o}=e;if(i)if(s){if(t.queryHash!==es(i,t.options))return!1}else if(!rs(t.queryKey,i))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!a||a===t.state.fetchStatus)&&!(n&&!n(t)))}function Zr(e,t){const{exact:r,status:s,predicate:a,mutationKey:n}=e;if(n){if(!t.options.mutationKey)return!1;if(r){if(ts(t.options.mutationKey)!==ts(n))return!1}else if(!rs(t.options.mutationKey,n))return!1}return(!s||t.state.status===s)&&!(a&&!a(t))}function es(e,t){return((null==t?void 0:t.queryKeyHashFn)||ts)(e)}function ts(e){return JSON.stringify(e,(e,t)=>is(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function rs(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(r=>rs(e[r],t[r])))}function ss(e,t){if(e===t)return e;const r=ns(e)&&ns(t);if(r||is(e)&&is(t)){const s=r?e:Object.keys(e),a=s.length,n=r?t:Object.keys(t),i=n.length,o=r?[]:{},l=new Set(s);let c=0;for(let d=0;d<i;d++){const s=r?d:n[d];(!r&&l.has(s)||r)&&void 0===e[s]&&void 0===t[s]?(o[s]=void 0,c++):(o[s]=ss(e[s],t[s]),o[s]===e[s]&&void 0!==e[s]&&c++)}return a===i&&c===a?e:o}return t}function as(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ns(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function is(e){if(!os(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!os(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function os(e){return"[object Object]"===Object.prototype.toString.call(e)}function ls(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?ss(e,t):t}function cs(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function ds(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var us=Symbol();function ms(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==us?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var hs=new(s=class extends Ur{constructor(){super(),Ie(this,e),Ie(this,t),Ie(this,r),Oe(this,r,e=>{if(!Hr&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Me(this,t)||this.setEventListener(Me(this,r))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=Me(this,t))||e.call(this),Oe(this,t,void 0))}setEventListener(e){var s;Oe(this,r,e),null==(s=Me(this,t))||s.call(this),Oe(this,t,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(t){Me(this,e)!==t&&(Oe(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var t;return"boolean"==typeof Me(this,e)?Me(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,r=new WeakMap,s),xs=new(o=class extends Ur{constructor(){super(),Ie(this,a,!0),Ie(this,n),Ie(this,i),Oe(this,i,e=>{if(!Hr&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Me(this,n)||this.setEventListener(Me(this,i))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=Me(this,n))||e.call(this),Oe(this,n,void 0))}setEventListener(e){var t;Oe(this,i,e),null==(t=Me(this,n))||t.call(this),Oe(this,n,e(this.setOnline.bind(this)))}setOnline(e){Me(this,a)!==e&&(Oe(this,a,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return Me(this,a)}},a=new WeakMap,n=new WeakMap,i=new WeakMap,o);function ps(){let e,t;const r=new Promise((r,s)=>{e=r,t=s});function s(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{s({status:"fulfilled",value:t}),e(t)},r.reject=e=>{s({status:"rejected",reason:e}),t(e)},r}function gs(e){return Math.min(1e3*we(2,e),3e4)}function fs(e){return"online"!==(null!=e?e:"online")||xs.isOnline()}var bs=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function vs(e){let t,r=!1,s=0;const a=ps(),n=()=>"pending"!==a.status,i=()=>hs.isFocused()&&("always"===e.networkMode||xs.isOnline())&&e.canRun(),o=()=>fs(e.networkMode)&&e.canRun(),l=e=>{n()||(null==t||t(),a.resolve(e))},c=e=>{n()||(null==t||t(),a.reject(e))},d=()=>new Promise(r=>{var s;t=e=>{(n()||i())&&r(e)},null==(s=e.onPause)||s.call(e)}).then(()=>{var r;t=void 0,n()||null==(r=e.onContinue)||r.call(e)}),u=()=>{if(n())return;let t;const a=0===s?e.initialPromise:void 0;try{t=null!=a?a:e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{var a,o,l;if(n())return;const m=null!=(a=e.retry)?a:Hr?0:3,h=null!=(o=e.retryDelay)?o:gs,x="function"==typeof h?h(s,t):h,p=!0===m||"number"==typeof m&&s<m||"function"==typeof m&&m(s,t);var g;!r&&p?(s++,null==(l=e.onFail)||l.call(e,s,t),(g=x,new Promise(e=>{setTimeout(e,g)})).then(()=>i()?void 0:d()).then(()=>{r?c(t):u()})):c(t)})};return{promise:a,status:()=>a.status,cancel:t=>{var r;n()||(c(new bs(t)),null==(r=e.abort)||r.call(e))},continue:()=>(null==t||t(),a),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:o,start:()=>(o()?u():d().then(u),a)}}var ys=e=>setTimeout(e,0);var js=function(){let e=[],t=0,r=e=>{e()},s=e=>{e()},a=ys;const n=s=>{t?e.push(s):a(()=>{r(s)})};return{batch:n=>{let i;t++;try{i=n()}finally{t--,t||(()=>{const t=e;e=[],t.length&&a(()=>{s(()=>{t.forEach(e=>{r(e)})})})})()}return i},batchCalls:e=>(...t)=>{n(()=>{e(...t)})},schedule:n,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{s=e},setScheduler:e=>{a=e}}}(),ws=(c=class{constructor(){Ie(this,l)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qr(this.gcTime)&&Oe(this,l,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!=e?e:Hr?1/0:3e5)}clearGcTimeout(){Me(this,l)&&(clearTimeout(Me(this,l)),Oe(this,l,void 0))}},l=new WeakMap,c),Ns=(v=class extends ws{constructor(e){var t;super(),Ie(this,f),Ie(this,d),Ie(this,u),Ie(this,m),Ie(this,h),Ie(this,x),Ie(this,p),Ie(this,g),Oe(this,g,!1),Oe(this,p,e.defaultOptions),this.setOptions(e.options),this.observers=[],Oe(this,h,e.client),Oe(this,m,Me(this,h).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Oe(this,d,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,s=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=s?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=null!=(t=e.state)?t:Me(this,d),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=Me(this,x))?void 0:e.promise}setOptions(e){this.options=ke(ke({},Me(this,p)),e),this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||Me(this,m).remove(this)}setData(e,t){const r=ls(this.state.data,e,this.options);return Te(this,f,b).call(this,{data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){Te(this,f,b).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,r;const s=null==(t=Me(this,x))?void 0:t.promise;return null==(r=Me(this,x))||r.cancel(e),s?s.then(Gr).catch(Gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Me(this,d))}isActive(){return this.observers.some(e=>!1!==Yr(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===us||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Kr(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Xr(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null==t||t.refetch({cancelRefetch:!1}),null==(e=Me(this,x))||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null==t||t.refetch({cancelRefetch:!1}),null==(e=Me(this,x))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Me(this,m).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Me(this,x)&&(Me(this,g)?Me(this,x).cancel({revert:!0}):Me(this,x).cancelRetry()),this.scheduleGc()),Me(this,m).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Te(this,f,b).call(this,{type:"invalidate"})}fetch(e,t){return Ae(this,null,function*(){var r,s,a,n,i,o,l,c,d,p,v,y;if("idle"!==this.state.fetchStatus&&"rejected"!==(null==(r=Me(this,x))?void 0:r.status()))if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(Me(this,x))return Me(this,x).continueRetry(),Me(this,x).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const j=new AbortController,w=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(Oe(this,g,!0),j.signal)})},N=()=>{const e=ms(this.options,t),r=(()=>{const e={client:Me(this,h),queryKey:this.queryKey,meta:this.meta};return w(e),e})();return Oe(this,g,!1),this.options.persister?this.options.persister(e,r,this):e(r)},k=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Me(this,h),state:this.state,fetchFn:N};return w(e),e})();null==(s=this.options.behavior)||s.onFetch(k,this),Oe(this,u,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(a=k.fetchOptions)?void 0:a.meta)||Te(this,f,b).call(this,{type:"fetch",meta:null==(n=k.fetchOptions)?void 0:n.meta}),Oe(this,x,vs({initialPromise:null==t?void 0:t.initialPromise,fn:k.fetchFn,abort:j.abort.bind(j),onFail:(e,t)=>{Te(this,f,b).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Te(this,f,b).call(this,{type:"pause"})},onContinue:()=>{Te(this,f,b).call(this,{type:"continue"})},retry:k.options.retry,retryDelay:k.options.retryDelay,networkMode:k.options.networkMode,canRun:()=>!0}));try{const e=yield Me(this,x).start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),null==(o=(i=Me(this,m).config).onSuccess)||o.call(i,e,this),null==(c=(l=Me(this,m).config).onSettled)||c.call(l,e,this.state.error,this),e}catch(C){if(C instanceof bs){if(C.silent)return Me(this,x).promise;if(C.revert){if(this.setState(Ce(ke({},Me(this,u)),{fetchStatus:"idle"})),void 0===this.state.data)throw C;return this.state.data}}throw Te(this,f,b).call(this,{type:"error",error:C}),null==(p=(d=Me(this,m).config).onError)||p.call(d,C,this),null==(y=(v=Me(this,m).config).onSettled)||y.call(v,this.state.data,C,this),C}finally{this.scheduleGc()}})}},d=new WeakMap,u=new WeakMap,m=new WeakMap,h=new WeakMap,x=new WeakMap,p=new WeakMap,g=new WeakMap,f=new WeakSet,b=function(e){this.state=(t=>{var r,s;switch(e.type){case"failed":return Ce(ke({},t),{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return Ce(ke({},t),{fetchStatus:"paused"});case"continue":return Ce(ke({},t),{fetchStatus:"fetching"});case"fetch":return Ce(ke(ke({},t),ks(t.data,this.options)),{fetchMeta:null!=(r=e.meta)?r:null});case"success":const a=ke(Ce(ke({},t),{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(s=e.dataUpdatedAt)?s:Date.now(),error:null,isInvalidated:!1,status:"success"}),!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});return Oe(this,u,e.manual?a:void 0),a;case"error":const n=e.error;return Ce(ke({},t),{error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"});case"invalidate":return Ce(ke({},t),{isInvalidated:!0});case"setState":return ke(ke({},t),e.state)}})(this.state),js.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),Me(this,m).notify({query:this,type:"updated",action:e})})},v);function ks(e,t){return ke({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fs(t.networkMode)?"fetching":"paused"},void 0===e&&{error:null,status:"pending"})}var Cs=(j=class extends Ur{constructor(e={}){super(),Ie(this,y),this.config=e,Oe(this,y,new Map)}build(e,t,r){var s;const a=t.queryKey,n=null!=(s=t.queryHash)?s:es(a,t);let i=this.get(n);return i||(i=new Ns({client:e,queryKey:a,queryHash:n,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(i)),i}add(e){Me(this,y).has(e.queryHash)||(Me(this,y).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Me(this,y).get(e.queryHash);t&&(e.destroy(),t===e&&Me(this,y).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){js.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Me(this,y).get(e)}getAll(){return[...Me(this,y).values()]}find(e){const t=ke({exact:!0},e);return this.getAll().find(e=>Jr(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Jr(e,t)):t}notify(e){js.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){js.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){js.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},y=new WeakMap,j),Ss=(E=class extends ws{constructor(e){super(),Ie(this,C),Ie(this,w),Ie(this,N),Ie(this,k),this.mutationId=e.mutationId,Oe(this,N,e.mutationCache),Oe(this,w,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Me(this,w).includes(e)||(Me(this,w).push(e),this.clearGcTimeout(),Me(this,N).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Oe(this,w,Me(this,w).filter(t=>t!==e)),this.scheduleGc(),Me(this,N).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Me(this,w).length||("pending"===this.state.status?this.scheduleGc():Me(this,N).remove(this))}continue(){var e,t;return null!=(t=null==(e=Me(this,k))?void 0:e.continue())?t:this.execute(this.state.variables)}execute(e){return Ae(this,null,function*(){var t,r,s,a,n,i,o,l,c,d,u,m,h,x,p,g,f,b,v,y,j;const w=()=>{Te(this,C,S).call(this,{type:"continue"})};Oe(this,k,vs({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{Te(this,C,S).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Te(this,C,S).call(this,{type:"pause"})},onContinue:w,retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Me(this,N).canRun(this)}));const E="pending"===this.state.status,_=!Me(this,k).canStart();try{if(E)w();else{Te(this,C,S).call(this,{type:"pending",variables:e,isPaused:_}),yield null==(s=(r=Me(this,N).config).onMutate)?void 0:s.call(r,e,this);const t=yield null==(n=(a=this.options).onMutate)?void 0:n.call(a,e);t!==this.state.context&&Te(this,C,S).call(this,{type:"pending",context:t,variables:e,isPaused:_})}const t=yield Me(this,k).start();return yield null==(o=(i=Me(this,N).config).onSuccess)?void 0:o.call(i,t,e,this.state.context,this),yield null==(c=(l=this.options).onSuccess)?void 0:c.call(l,t,e,this.state.context),yield null==(u=(d=Me(this,N).config).onSettled)?void 0:u.call(d,t,null,this.state.variables,this.state.context,this),yield null==(h=(m=this.options).onSettled)?void 0:h.call(m,t,null,e,this.state.context),Te(this,C,S).call(this,{type:"success",data:t}),t}catch(M){try{throw yield null==(p=(x=Me(this,N).config).onError)?void 0:p.call(x,M,e,this.state.context,this),yield null==(f=(g=this.options).onError)?void 0:f.call(g,M,e,this.state.context),yield null==(v=(b=Me(this,N).config).onSettled)?void 0:v.call(b,void 0,M,this.state.variables,this.state.context,this),yield null==(j=(y=this.options).onSettled)?void 0:j.call(y,void 0,M,e,this.state.context),M}finally{Te(this,C,S).call(this,{type:"error",error:M})}}finally{Me(this,N).runNext(this)}})}},w=new WeakMap,N=new WeakMap,k=new WeakMap,C=new WeakSet,S=function(e){this.state=(t=>{switch(e.type){case"failed":return Ce(ke({},t),{failureCount:e.failureCount,failureReason:e.error});case"pause":return Ce(ke({},t),{isPaused:!0});case"continue":return Ce(ke({},t),{isPaused:!1});case"pending":return Ce(ke({},t),{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return Ce(ke({},t),{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return Ce(ke({},t),{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),js.batch(()=>{Me(this,w).forEach(t=>{t.onMutationUpdate(e)}),Me(this,N).notify({mutation:this,type:"updated",action:e})})},E);var Es=(O=class extends Ur{constructor(e={}){super(),Ie(this,_),Ie(this,M),Ie(this,I),this.config=e,Oe(this,_,new Set),Oe(this,M,new Map),Oe(this,I,0)}build(e,t,r){const s=new Ss({mutationCache:this,mutationId:++Le(this,I)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){Me(this,_).add(e);const t=_s(e);if("string"==typeof t){const r=Me(this,M).get(t);r?r.push(e):Me(this,M).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Me(this,_).delete(e)){const t=_s(e);if("string"==typeof t){const r=Me(this,M).get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&Me(this,M).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=_s(e);if("string"==typeof t){const r=Me(this,M).get(t),s=null==r?void 0:r.find(e=>"pending"===e.state.status);return!s||s===e}return!0}runNext(e){var t,r;const s=_s(e);if("string"==typeof s){const a=null==(t=Me(this,M).get(s))?void 0:t.find(t=>t!==e&&t.state.isPaused);return null!=(r=null==a?void 0:a.continue())?r:Promise.resolve()}return Promise.resolve()}clear(){js.batch(()=>{Me(this,_).forEach(e=>{this.notify({type:"removed",mutation:e})}),Me(this,_).clear(),Me(this,M).clear()})}getAll(){return Array.from(Me(this,_))}find(e){const t=ke({exact:!0},e);return this.getAll().find(e=>Zr(t,e))}findAll(e={}){return this.getAll().filter(t=>Zr(e,t))}notify(e){js.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return js.batch(()=>Promise.all(e.map(e=>e.continue().catch(Gr))))}},_=new WeakMap,M=new WeakMap,I=new WeakMap,O);function _s(e){var t;return null==(t=e.options.scope)?void 0:t.id}function Ms(e){return{onFetch:(t,r)=>{var s,a,n,i,o;const l=t.options,c=null==(n=null==(a=null==(s=t.fetchOptions)?void 0:s.meta)?void 0:a.fetchMore)?void 0:n.direction,d=(null==(i=t.state.data)?void 0:i.pages)||[],u=(null==(o=t.state.data)?void 0:o.pageParams)||[];let m={pages:[],pageParams:[]},h=0;const x=()=>Ae(null,null,function*(){var r;let s=!1;const a=ms(t.options,t.fetchOptions),n=(e,r,n)=>Ae(null,null,function*(){if(s)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:r,direction:n?"backward":"forward",meta:t.options.meta};var a;return a=e,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(t.signal.aborted?s=!0:t.signal.addEventListener("abort",()=>{s=!0}),t.signal)}),e})(),o=yield a(i),{maxPages:l}=t.options,c=n?ds:cs;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,r,l)}});if(c&&d.length){const e="backward"===c,t={pages:d,pageParams:u},r=(e?Os:Is)(l,t);m=yield n(t,r,e)}else{const t=null!=e?e:d.length;do{const e=0===h?null!=(r=u[0])?r:l.initialPageParam:Is(l,m);if(h>0&&null==e)break;m=yield n(m,e),h++}while(h<t)}return m});t.options.persister?t.fetchFn=()=>{var e,s;return null==(s=(e=t.options).persister)?void 0:s.call(e,x,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=x}}}function Is(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Os(e,{pages:t,pageParams:r}){var s;return t.length>0?null==(s=e.getPreviousPageParam)?void 0:s.call(e,t[0],t,r[0],r):void 0}var Ts=(q=class{constructor(e={}){Ie(this,T),Ie(this,L),Ie(this,A),Ie(this,D),Ie(this,P),Ie(this,R),Ie(this,z),Ie(this,$),Oe(this,T,e.queryCache||new Cs),Oe(this,L,e.mutationCache||new Es),Oe(this,A,e.defaultOptions||{}),Oe(this,D,new Map),Oe(this,P,new Map),Oe(this,R,0)}mount(){Le(this,R)._++,1===Me(this,R)&&(Oe(this,z,hs.subscribe(e=>Ae(this,null,function*(){e&&(yield this.resumePausedMutations(),Me(this,T).onFocus())}))),Oe(this,$,xs.subscribe(e=>Ae(this,null,function*(){e&&(yield this.resumePausedMutations(),Me(this,T).onOnline())}))))}unmount(){var e,t;Le(this,R)._--,0===Me(this,R)&&(null==(e=Me(this,z))||e.call(this),Oe(this,z,void 0),null==(t=Me(this,$))||t.call(this),Oe(this,$,void 0))}isFetching(e){return Me(this,T).findAll(Ce(ke({},e),{fetchStatus:"fetching"})).length}isMutating(e){return Me(this,L).findAll(Ce(ke({},e),{status:"pending"})).length}getQueryData(e){var t;const r=this.defaultQueryOptions({queryKey:e});return null==(t=Me(this,T).get(r.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Me(this,T).build(this,t),s=r.state.data;return void 0===s?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Kr(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return Me(this,T).findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=Me(this,T).get(s.queryHash),n=function(e,t){return"function"==typeof e?e(t):e}(t,null==a?void 0:a.state.data);if(void 0!==n)return Me(this,T).build(this,s).setData(n,Ce(ke({},r),{manual:!0}))}setQueriesData(e,t,r){return js.batch(()=>Me(this,T).findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){var t;const r=this.defaultQueryOptions({queryKey:e});return null==(t=Me(this,T).get(r.queryHash))?void 0:t.state}removeQueries(e){const t=Me(this,T);js.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const r=Me(this,T);return js.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(ke({type:"active"},e),t)))}cancelQueries(e,t={}){const r=ke({revert:!0},t),s=js.batch(()=>Me(this,T).findAll(e).map(e=>e.cancel(r)));return Promise.all(s).then(Gr).catch(Gr)}invalidateQueries(e,t={}){return js.batch(()=>{var r,s;return Me(this,T).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null==e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries(Ce(ke({},e),{type:null!=(s=null!=(r=null==e?void 0:e.refetchType)?r:null==e?void 0:e.type)?s:"active"}),t)})}refetchQueries(e,t={}){var r;const s=Ce(ke({},t),{cancelRefetch:null==(r=t.cancelRefetch)||r}),a=js.batch(()=>Me(this,T).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,s);return s.throwOnError||(t=t.catch(Gr)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(a).then(Gr)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=Me(this,T).build(this,t);return r.isStaleByTime(Kr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Gr).catch(Gr)}fetchInfiniteQuery(e){return e.behavior=Ms(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Gr).catch(Gr)}ensureInfiniteQueryData(e){return e.behavior=Ms(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xs.isOnline()?Me(this,L).resumePausedMutations():Promise.resolve()}getQueryCache(){return Me(this,T)}getMutationCache(){return Me(this,L)}getDefaultOptions(){return Me(this,A)}setDefaultOptions(e){Oe(this,A,e)}setQueryDefaults(e,t){Me(this,D).set(ts(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Me(this,D).values()],r={};return t.forEach(t=>{rs(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){Me(this,P).set(ts(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Me(this,P).values()],r={};return t.forEach(t=>{rs(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t=Ce(ke(ke(ke({},Me(this,A).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return t.queryHash||(t.queryHash=es(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===us&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:Ce(ke(ke(ke({},Me(this,A).mutations),(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){Me(this,T).clear(),Me(this,L).clear()}},T=new WeakMap,L=new WeakMap,A=new WeakMap,D=new WeakMap,P=new WeakMap,R=new WeakMap,z=new WeakMap,$=new WeakMap,q),Ls=(me=class extends Ur{constructor(e,t){super(),Ie(this,re),Ie(this,F),Ie(this,B),Ie(this,W),Ie(this,V),Ie(this,U),Ie(this,H),Ie(this,G),Ie(this,Q),Ie(this,X),Ie(this,K),Ie(this,Y),Ie(this,J),Ie(this,Z),Ie(this,ee),Ie(this,te,new Set),this.options=t,Oe(this,F,e),Oe(this,Q,null),Oe(this,G,ps()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(Me(this,B).addObserver(this),As(Me(this,B),this.options)?Te(this,re,se).call(this):this.updateResult(),Te(this,re,oe).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ds(Me(this,B),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ds(Me(this,B),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Te(this,re,le).call(this),Te(this,re,ce).call(this),Me(this,B).removeObserver(this)}setOptions(e){const t=this.options,r=Me(this,B);if(this.options=Me(this,F).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof Yr(this.options.enabled,Me(this,B)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Te(this,re,de).call(this),Me(this,B).setOptions(this.options),t._defaulted&&!as(this.options,t)&&Me(this,F).getQueryCache().notify({type:"observerOptionsUpdated",query:Me(this,B),observer:this});const s=this.hasListeners();s&&Ps(Me(this,B),r,this.options,t)&&Te(this,re,se).call(this),this.updateResult(),!s||Me(this,B)===r&&Yr(this.options.enabled,Me(this,B))===Yr(t.enabled,Me(this,B))&&Kr(this.options.staleTime,Me(this,B))===Kr(t.staleTime,Me(this,B))||Te(this,re,ae).call(this);const a=Te(this,re,ne).call(this);!s||Me(this,B)===r&&Yr(this.options.enabled,Me(this,B))===Yr(t.enabled,Me(this,B))&&a===Me(this,ee)||Te(this,re,ie).call(this,a)}getOptimisticResult(e){const t=Me(this,F).getQueryCache().build(Me(this,F),e),r=this.createResult(t,e);return function(e,t){if(!as(e.getCurrentResult(),t))return!0;return!1}(this,r)&&(Oe(this,V,r),Oe(this,H,this.options),Oe(this,U,Me(this,B).state)),r}getCurrentResult(){return Me(this,V)}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),null==t||t(r),"promise"!==r||this.options.experimental_prefetchInRender||"pending"!==Me(this,G).status||Me(this,G).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,r))})}trackProp(e){Me(this,te).add(e)}getCurrentQuery(){return Me(this,B)}refetch(e={}){var t=Se(e,[]);return this.fetch(ke({},t))}fetchOptimistic(e){const t=Me(this,F).defaultQueryOptions(e),r=Me(this,F).getQueryCache().build(Me(this,F),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return Te(this,re,se).call(this,Ce(ke({},e),{cancelRefetch:null==(t=e.cancelRefetch)||t})).then(()=>(this.updateResult(),Me(this,V)))}createResult(e,t){var r;const s=Me(this,B),a=this.options,n=Me(this,V),i=Me(this,U),o=Me(this,H),l=e!==s?e.state:Me(this,W),{state:c}=e;let d,u=ke({},c),m=!1;if(t._optimisticResults){const r=this.hasListeners(),n=!r&&As(e,t),i=r&&Ps(e,s,t,a);(n||i)&&(u=ke(ke({},u),ks(c.data,e.options))),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:x,status:p}=u;d=u.data;let g=!1;if(void 0!==t.placeholderData&&void 0===d&&"pending"===p){let e;(null==n?void 0:n.isPlaceholderData)&&t.placeholderData===(null==o?void 0:o.placeholderData)?(e=n.data,g=!0):e="function"==typeof t.placeholderData?t.placeholderData(null==(r=Me(this,Y))?void 0:r.state.data,Me(this,Y)):t.placeholderData,void 0!==e&&(p="success",d=ls(null==n?void 0:n.data,e,t),m=!0)}if(t.select&&void 0!==d&&!g)if(n&&d===(null==i?void 0:i.data)&&t.select===Me(this,X))d=Me(this,K);else try{Oe(this,X,t.select),d=t.select(d),d=ls(null==n?void 0:n.data,d,t),Oe(this,K,d),Oe(this,Q,null)}catch(N){Oe(this,Q,N)}Me(this,Q)&&(h=Me(this,Q),d=Me(this,K),x=Date.now(),p="error");const f="fetching"===u.fetchStatus,b="pending"===p,v="error"===p,y=b&&f,j=void 0!==d,w={status:p,fetchStatus:u.fetchStatus,isPending:b,isSuccess:"success"===p,isError:v,isInitialLoading:y,isLoading:y,data:d,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:x,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:f,isRefetching:f&&!b,isLoadingError:v&&!j,isPaused:"paused"===u.fetchStatus,isPlaceholderData:m,isRefetchError:v&&j,isStale:Rs(e,t),refetch:this.refetch,promise:Me(this,G),isEnabled:!1!==Yr(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===w.status?e.reject(w.error):void 0!==w.data&&e.resolve(w.data)},r=()=>{const e=Oe(this,G,w.promise=ps());t(e)},a=Me(this,G);switch(a.status){case"pending":e.queryHash===s.queryHash&&t(a);break;case"fulfilled":"error"!==w.status&&w.data===a.value||r();break;case"rejected":"error"===w.status&&w.error===a.reason||r()}}return w}updateResult(){const e=Me(this,V),t=this.createResult(Me(this,B),this.options);if(Oe(this,U,Me(this,B).state),Oe(this,H,this.options),void 0!==Me(this,U).data&&Oe(this,Y,Me(this,B)),as(t,e))return;Oe(this,V,t);Te(this,re,ue).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!Me(this,te).size)return!0;const s=new Set(null!=r?r:Me(this,te));return this.options.throwOnError&&s.add("error"),Object.keys(Me(this,V)).some(t=>{const r=t;return Me(this,V)[r]!==e[r]&&s.has(r)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Te(this,re,oe).call(this)}},F=new WeakMap,B=new WeakMap,W=new WeakMap,V=new WeakMap,U=new WeakMap,H=new WeakMap,G=new WeakMap,Q=new WeakMap,X=new WeakMap,K=new WeakMap,Y=new WeakMap,J=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,re=new WeakSet,se=function(e){Te(this,re,de).call(this);let t=Me(this,B).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(Gr)),t},ae=function(){Te(this,re,le).call(this);const e=Kr(this.options.staleTime,Me(this,B));if(Hr||Me(this,V).isStale||!Qr(e))return;const t=Xr(Me(this,V).dataUpdatedAt,e);Oe(this,J,setTimeout(()=>{Me(this,V).isStale||this.updateResult()},t+1))},ne=function(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval(Me(this,B)):this.options.refetchInterval)&&e},ie=function(e){Te(this,re,ce).call(this),Oe(this,ee,e),!Hr&&!1!==Yr(this.options.enabled,Me(this,B))&&Qr(Me(this,ee))&&0!==Me(this,ee)&&Oe(this,Z,setInterval(()=>{(this.options.refetchIntervalInBackground||hs.isFocused())&&Te(this,re,se).call(this)},Me(this,ee)))},oe=function(){Te(this,re,ae).call(this),Te(this,re,ie).call(this,Te(this,re,ne).call(this))},le=function(){Me(this,J)&&(clearTimeout(Me(this,J)),Oe(this,J,void 0))},ce=function(){Me(this,Z)&&(clearInterval(Me(this,Z)),Oe(this,Z,void 0))},de=function(){const e=Me(this,F).getQueryCache().build(Me(this,F),this.options);if(e===Me(this,B))return;const t=Me(this,B);Oe(this,B,e),Oe(this,W,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))},ue=function(e){js.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(Me(this,V))}),Me(this,F).getQueryCache().notify({query:Me(this,B),type:"observerResultsUpdated"})})},me);function As(e,t){return function(e,t){return!1!==Yr(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Ds(e,t,t.refetchOnMount)}function Ds(e,t,r){if(!1!==Yr(t.enabled,e)&&"static"!==Kr(t.staleTime,e)){const s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&Rs(e,t)}return!1}function Ps(e,t,r,s){return(e!==t||!1===Yr(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&Rs(e,r)}function Rs(e,t){return!1!==Yr(t.enabled,e)&&e.isStaleByTime(Kr(t.staleTime,e))}var zs=ze.createContext(void 0),$s=({client:e,children:t})=>(ze.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Br.jsx(zs.Provider,{value:e,children:t})),qs=ze.createContext(!1);qs.Provider;var Fs=ze.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),Bs=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ws(e,t,r){var s,a,n,i,o;const l=ze.useContext(qs),c=ze.useContext(Fs),d=(()=>{const e=ze.useContext(zs);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e})(),u=d.defaultQueryOptions(e);null==(a=null==(s=d.getDefaultOptions().queries)?void 0:s._experimental_beforeQuery)||a.call(s,u),u._optimisticResults=l?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),r=e.staleTime;e.staleTime="function"==typeof r?(...e)=>t(r(...e)):t(r),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}})(u),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(u,c),(e=>{ze.useEffect(()=>{e.clearReset()},[e])})(c);const m=!d.getQueryCache().get(u.queryHash),[h]=ze.useState(()=>new t(d,u)),x=h.getOptimisticResult(u),p=!l&&!1!==e.subscribed;if(ze.useSyncExternalStore(ze.useCallback(e=>{const t=p?h.subscribe(js.batchCalls(e)):Gr;return h.updateResult(),t},[h,p]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),ze.useEffect(()=>{h.setOptions(u)},[u,h]),((e,t)=>(null==e?void 0:e.suspense)&&t.isPending)(u,x))throw Bs(u,h,c);if((({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&void 0===e.data||function(e,t){return"function"==typeof e?e(...t):!!e}(r,[e.error,s])))({result:x,errorResetBoundary:c,throwOnError:u.throwOnError,query:d.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw x.error;if(null==(i=null==(n=d.getDefaultOptions().queries)?void 0:n._experimental_afterQuery)||i.call(n,u,x),u.experimental_prefetchInRender&&!Hr&&((e,t)=>e.isLoading&&e.isFetching&&!t)(x,l)){const e=m?Bs(u,h,c):null==(o=d.getQueryCache().get(u.queryHash))?void 0:o.promise;null==e||e.catch(Gr).finally(()=>{h.updateResult()})}return u.notifyOnChangeProps?x:h.trackResult(x)}function Vs(e,t){return Ws(e,Ls)}var Us=function(){return null};function Hs(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Gs(...e){return t=>{let r=!1;const s=e.map(e=>{const s=Hs(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){const r=s[t];"function"==typeof r?r():Hs(e[t],null)}}}}function Qs(...e){return ze.useCallback(Gs(...e),e)}function Xs(e){const t=Ys(e),r=ze.forwardRef((e,r)=>{const s=e,{children:a}=s,n=Se(s,["children"]),i=ze.Children.toArray(a),o=i.find(Zs);if(o){const e=o.props.children,s=i.map(t=>t===o?ze.Children.count(e)>1?ze.Children.only(null):ze.isValidElement(e)?e.props.children:null:t);return Br.jsx(t,Ce(ke({},n),{ref:r,children:ze.isValidElement(e)?ze.cloneElement(e,void 0,s):null}))}return Br.jsx(t,Ce(ke({},n),{ref:r,children:a}))});return r.displayName=`${e}.Slot`,r}var Ks=Xs("Slot");function Ys(e){const t=ze.forwardRef((e,t)=>{const r=e,{children:s}=r,a=Se(r,["children"]);if(ze.isValidElement(s)){const e=function(e){var t,r;let s=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,a=s&&"isReactWarning"in s&&s.isReactWarning;if(a)return e.ref;if(s=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(s),r=function(e,t){const r=ke({},t);for(const s in t){const a=e[s],n=t[s];/^on[A-Z]/.test(s)?a&&n?r[s]=(...e)=>{const t=n(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]=ke(ke({},a),n):"className"===s&&(r[s]=[a,n].filter(Boolean).join(" "))}return ke(ke({},e),r)}(a,s.props);return s.type!==ze.Fragment&&(r.ref=t?Gs(t,e):e),ze.cloneElement(s,r)}return ze.Children.count(s)>1?ze.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Js=Symbol("radix.slottable");function Zs(e){return ze.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Js}const ea={default:"bg-stegmaier-blue text-white hover:bg-stegmaier-blue-dark",secondary:"bg-stegmaier-gray-light text-stegmaier-blue hover:bg-slate-200",ghost:"bg-transparent text-stegmaier-blue hover:bg-stegmaier-blue-light/30","ghost-dark":"bg-transparent text-white hover:bg-white/10",link:"bg-transparent underline-offset-4 text-stegmaier-blue hover:underline"},ta={sm:"px-3 py-1.5 text-sm",md:"px-5 py-2 text-sm",lg:"px-6 py-3 text-base"},ra=e=>{var t=e,{children:r,className:s,variant:a="default",size:n="md",asChild:i=!1}=t,o=Se(t,["children","className","variant","size","asChild"]);const l=i?Ks:"button";return Br.jsx(l,Ce(ke({className:et("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-stegmaier-blue-dark disabled:opacity-50 disabled:pointer-events-none",ea[a],ta[n],s)},o),{children:r}))};function sa(){for(var e,t,r=0,s="";r<arguments.length;)(e=arguments[r++])&&(t=aa(e))&&(s&&(s+=" "),s+=t);return s}function aa(e){if("string"==typeof e)return e;for(var t,r="",s=0;s<e.length;s++)e[s]&&(t=aa(e[s]))&&(r&&(r+=" "),r+=t);return r}function na(e){var t=function(e){var t=e.theme,r=e.prefix,s={nextPart:new Map,validators:[]},a=function(e,t){if(!t)return e;return e.map(function(e){return[e[0],e[1].map(function(e){return"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(function(e){var r=e[0],s=e[1];return[t+r,s]})):e})]})}(Object.entries(e.classGroups),r);return a.forEach(function(e){var r=e[0];la(e[1],s,r,t)}),s}(e),r=e.conflictingClassGroups,s=e.conflictingClassGroupModifiers,a=void 0===s?{}:s;return{getClassGroupId:function(e){var r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),ia(r,t)||function(e){if(oa.test(e)){var t=oa.exec(e)[1],r=null==t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}(e)},getConflictingClassGroupIds:function(e,t){var s=r[e]||[];return t&&a[e]?[].concat(s,a[e]):s}}}function ia(e,t){var r;if(0===e.length)return t.classGroupId;var s=e[0],a=t.nextPart.get(s),n=a?ia(e.slice(1),a):void 0;if(n)return n;if(0!==t.validators.length){var i=e.join("-");return null==(r=t.validators.find(function(e){return(0,e.validator)(i)}))?void 0:r.classGroupId}}var oa=/^\[(.+)\]$/;function la(e,t,r,s){e.forEach(function(e){if("string"!=typeof e){if("function"==typeof e)return e.isThemeGetter?void la(e(s),t,r,s):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(function(e){var a=e[0];la(e[1],ca(t,a),r,s)})}else{(""===e?t:ca(t,e)).classGroupId=r}})}function ca(e,t){var r=e;return t.split("-").forEach(function(e){r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r}function da(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,s=new Map;function a(a,n){r.set(a,n),++t>e&&(t=0,s=r,r=new Map)}return{get:function(e){var t=r.get(e);return void 0!==t?t:void 0!==(t=s.get(e))?(a(e,t),t):void 0},set:function(e,t){r.has(e)?r.set(e,t):a(e,t)}}}function ua(e){var t=e.separator||":",r=1===t.length,s=t[0],a=t.length;return function(e){for(var n,i=[],o=0,l=0,c=0;c<e.length;c++){var d=e[c];if(0===o){if(d===s&&(r||e.slice(c,c+a)===t)){i.push(e.slice(l,c)),l=c+a;continue}if("/"===d){n=c;continue}}"["===d?o++:"]"===d&&o--}var u=0===i.length?e:e.substring(l),m=u.startsWith("!");return{modifiers:i,hasImportantModifier:m,baseClassName:m?u.substring(1):u,maybePostfixModifierPosition:n&&n>l?n-l:void 0}}}var ma=/\s+/;function ha(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s,a,n,i=function(e){var r=t[0],l=t.slice(1).reduce(function(e,t){return t(e)},r());return s=function(e){return ke({cache:da(e.cacheSize),splitModifiers:ua(e)},na(e))}(l),a=s.cache.get,n=s.cache.set,i=o,o(e)};function o(e){var t=a(e);if(t)return t;var r=function(e,t){var r=t.splitModifiers,s=t.getClassGroupId,a=t.getConflictingClassGroupIds,n=new Set;return e.trim().split(ma).map(function(e){var t=r(e),a=t.modifiers,n=t.hasImportantModifier,i=t.baseClassName,o=t.maybePostfixModifierPosition,l=s(o?i.substring(0,o):i),c=Boolean(o);if(!l){if(!o)return{isTailwindClass:!1,originalClassName:e};if(!(l=s(i)))return{isTailwindClass:!1,originalClassName:e};c=!1}var d=function(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(e){"["===e[0]?(t.push.apply(t,r.sort().concat([e])),r=[]):r.push(e)}),t.push.apply(t,r.sort()),t}(a).join(":");return{isTailwindClass:!0,modifierId:n?d+"!":d,classGroupId:l,originalClassName:e,hasPostfixModifier:c}}).reverse().filter(function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,r=e.classGroupId,s=e.hasPostfixModifier,i=t+r;return!n.has(i)&&(n.add(i),a(r,s).forEach(function(e){return n.add(t+e)}),!0)}).reverse().map(function(e){return e.originalClassName}).join(" ")}(e,s);return n(e,r),r}return function(){return i(sa.apply(null,arguments))}}function xa(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var pa=/^\[(?:([a-z-]+):)?(.+)\]$/i,ga=/^\d+\/\d+$/,fa=new Set(["px","full","screen"]),ba=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,va=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ya=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ja(e){return Ea(e)||fa.has(e)||ga.test(e)||wa(e)}function wa(e){return Aa(e,"length",Da)}function Na(e){return Aa(e,"size",Pa)}function ka(e){return Aa(e,"position",Pa)}function Ca(e){return Aa(e,"url",Ra)}function Sa(e){return Aa(e,"number",Ea)}function Ea(e){return!Number.isNaN(Number(e))}function _a(e){return e.endsWith("%")&&Ea(e.slice(0,-1))}function Ma(e){return za(e)||Aa(e,"number",za)}function Ia(e){return pa.test(e)}function Oa(){return!0}function Ta(e){return ba.test(e)}function La(e){return Aa(e,"",$a)}function Aa(e,t,r){var s=pa.exec(e);return!!s&&(s[1]?s[1]===t:r(s[2]))}function Da(e){return va.test(e)}function Pa(){return!1}function Ra(e){return e.startsWith("url(")}function za(e){return Number.isInteger(Number(e))}function $a(e){return ya.test(e)}function qa(){var e=xa("colors"),t=xa("spacing"),r=xa("blur"),s=xa("brightness"),a=xa("borderColor"),n=xa("borderRadius"),i=xa("borderSpacing"),o=xa("borderWidth"),l=xa("contrast"),c=xa("grayscale"),d=xa("hueRotate"),u=xa("invert"),m=xa("gap"),h=xa("gradientColorStops"),x=xa("gradientColorStopPositions"),p=xa("inset"),g=xa("margin"),f=xa("opacity"),b=xa("padding"),v=xa("saturate"),y=xa("scale"),j=xa("sepia"),w=xa("skew"),N=xa("space"),k=xa("translate"),C=function(){return["auto",Ia,t]},S=function(){return[Ia,t]},E=function(){return["",ja]},_=function(){return["auto",Ea,Ia]},M=function(){return["","0",Ia]},I=function(){return[Ea,Sa]},O=function(){return[Ea,Ia]};return{cacheSize:500,theme:{colors:[Oa],spacing:[ja],blur:["none","",Ta,Ia],brightness:I(),borderColor:[e],borderRadius:["none","","full",Ta,Ia],borderSpacing:S(),borderWidth:E(),contrast:I(),grayscale:M(),hueRotate:O(),invert:M(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[_a,wa],inset:C(),margin:C(),opacity:I(),padding:S(),saturate:I(),scale:I(),sepia:M(),skew:O(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",Ia]}],container:["container"],columns:[{columns:[Ta]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[Ia])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ma]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ia]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Ma]}],"grid-cols":[{"grid-cols":[Oa]}],"col-start-end":[{col:["auto",{span:["full",Ma]},Ia]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[Oa]}],"row-start-end":[{row:["auto",{span:[Ma]},Ia]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ia]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ia]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ia,t]}],"min-w":[{"min-w":["min","max","fit",Ia,ja]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ta]},Ta,Ia]}],h:[{h:[Ia,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ia,ja]}],"max-h":[{"max-h":[Ia,t,"min","max","fit"]}],"font-size":[{text:["base",Ta,wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sa]}],"font-family":[{font:[Oa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ia]}],"line-clamp":[{"line-clamp":["none",Ea,Sa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ia,ja]}],"list-image":[{"list-image":["none",Ia]}],"list-style-type":[{list:["none","disc","decimal",Ia]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[f]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[f]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ja]}],"underline-offset":[{"underline-offset":["auto",Ia,ja]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ia]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ia]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[f]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[ka])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Na]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ca]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[f]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[f]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[Ia,ja]}],"outline-w":[{outline:[ja]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[f]}],"ring-offset-w":[{"ring-offset":[ja]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ta,La]}],"shadow-color":[{shadow:[Oa]}],opacity:[{opacity:[f]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ta,Ia]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[v]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[f]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ia]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Ia]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ia]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[Ma,Ia]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ia]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ia]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ia]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ja,Sa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Fa=ha(qa);function Ba(...e){return Fa(et(e))}const Wa=({standard:e,label:t,size:r="md",variant:s="primary",className:a})=>Br.jsxs(ht.div,{initial:"rest",whileHover:"hover",variants:{rest:{scale:1},hover:{scale:1.05,transition:{duration:.3,type:"spring",stiffness:300}}},className:Ba("relative rounded-full flex flex-col items-center justify-center border-2 shadow-card",{sm:"h-14 w-14 text-xs",md:"h-20 w-20 text-sm",lg:"h-24 w-24 text-base"}[r],{primary:"bg-primary-600 text-white border-primary-300",accent:"bg-accent-500 text-white border-accent-300",gold:"bg-gold-500 text-white border-gold-300",info:"bg-blue-500 text-white border-blue-300",success:"bg-green-500 text-white border-green-300"}[s],a),children:[Br.jsx("div",{className:"absolute inset-0.5 rounded-full bg-white/10"}),Br.jsx("span",{className:"text-white font-heading font-bold",children:"ISO"}),Br.jsx("span",{className:"font-heading font-semibold",children:e}),t&&Br.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-white text-gray-800 px-2 py-0.5 rounded text-2xs font-medium whitespace-nowrap",children:t})]}),Va=({fromSection:e,toSection:t,height:r=40})=>Br.jsx("div",{className:"relative overflow-hidden pointer-events-none",style:{position:"absolute",bottom:"0px",left:"0",width:"100%",height:`${r}px`,zIndex:1},children:(()=>{const r=(()=>{const r={"hero-services":{from:"rgba(var(--color-primary-800), 0.3)",to:"rgba(var(--color-primary-750), 0.2)"},"services-process":{from:"rgba(var(--color-primary-700), 0.2)",to:"rgba(var(--color-primary-650), 0.1)"},"process-testimonials":{from:"rgba(var(--color-primary-700), 0.1)",to:"rgba(var(--color-primary-750), 0.2)"},"testimonials-contact":{from:"rgba(var(--color-primary-700), 0.2)",to:"rgba(var(--color-primary-800), 0.3)"},"company-history":{from:"rgba(var(--color-primary-800), 0.3)",to:"rgba(var(--color-primary-750), 0.2)"},"history-values":{from:"rgba(var(--color-primary-750), 0.2)",to:"rgba(var(--color-primary-700), 0.1)"},"values-team":{from:"rgba(var(--color-primary-700), 0.1)",to:"rgba(var(--color-primary-750), 0.2)"},"team-certifications":{from:"rgba(var(--color-primary-750), 0.2)",to:"rgba(var(--color-primary-800), 0.3)"},"certifications-footer":{from:"rgba(var(--color-primary-800), 0.3)",to:"rgba(var(--color-primary-900), 0.2)"},"company-vision":{from:"rgba(var(--color-primary-800), 0.15)",to:"rgba(var(--color-primary-800), 0.15)"},"vision-mission":{from:"rgba(var(--color-primary-750), 0.15)",to:"rgba(var(--color-primary-750), 0.15)"},"mission-history":{from:"rgba(var(--color-primary-800), 0.15)",to:"rgba(var(--color-primary-800), 0.15)"}};return r[`${e}-${t}`]||r["hero-services"]})();return Br.jsxs("div",{className:"absolute inset-0",children:[Br.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(180deg, ${r.from} 0%, transparent 50%, ${r.to} 100%)`,opacity:.4}}),Br.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(180deg, transparent 0%, rgba(var(--color-primary-750), 0.05) 50%, transparent 100%)",filter:"blur(2px)"}})]})})()}),Ua=({number:e,label:t})=>Br.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"text-center",children:[Br.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white",children:e}),Br.jsx("div",{className:"text-sm text-white/70 mt-1",children:t})]}),Ha=()=>{const{scrollY:e}=xt(),t=pt(e,[0,500],[0,-80]),r=pt(e,[0,500],[0,-40]),s=ze.useRef(null),a=ze.useRef(null);return Br.jsxs("section",{id:"home",className:"section-unified-bg section-hero-bg minimal-decorations content-overlay relative text-white overflow-hidden pt-20 pb-16 md:pt-24 md:pb-20 lg:pt-10 lg:pb-24",children:[Br.jsx("div",{className:"section-overlay-pattern bg-noise-pattern"}),Br.jsx("div",{className:"blur-transition-element blur-transition-bottom floating-transition"}),Br.jsxs("div",{className:"hero-decorations z-0",children:[Br.jsx("div",{className:"circle-1"}),Br.jsx("div",{className:"circle-2"})]}),Br.jsx("div",{className:"minimal-grid z-0"}),Br.jsx("div",{className:"geometric-accent-1 z-0"}),Br.jsx("div",{className:"geometric-accent-2 z-0"}),Br.jsxs("div",{className:"relative container mx-auto px-4 lg:grid lg:grid-cols-12 lg:gap-12 xl:gap-16 z-20",children:[Br.jsx("div",{className:"lg:col-span-7 xl:col-span-7 relative z-0",children:Br.jsx(ht.div,{ref:s,style:{y:t},className:"absolute inset-0 pointer-events-none","aria-hidden":"true"})}),Br.jsxs("div",{className:"lg:col-span-7 xl:col-span-7 relative z-10",children:[Br.jsxs(ht.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"inline-flex items-center mb-6 py-2 px-4 rounded-full bg-gradient-to-r from-accent-500/20 to-primary-400/20 backdrop-blur-sm border border-accent-500/30 shadow-lg",children:[Br.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-accent-500 mr-3 animate-pulse"}),Br.jsx("span",{className:"text-sm font-semibold text-white",children:"🏆 Líderes en Implementación de Certificación ISO desde 2008"})]}),Br.jsxs(ht.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},className:"font-display font-black leading-[1.1] text-4xl md:text-5xl lg:text-6xl xl:text-7xl mb-6",children:["Tu socio"," ",Br.jsxs("span",{className:"relative inline-block",children:[Br.jsx("span",{className:"relative z-10 text-white",children:"estratégico"}),Br.jsx(ht.span,{initial:{width:0},animate:{width:"100%"},transition:{duration:1,repeat:1},className:"absolute inset-x-0 bottom-2 h-4 bg-gradient-to-r from-accent-500 to-accent-400 z-0 rounded-lg"})]}),Br.jsx("br",{}),Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-200",children:"para certificación ISO"})]}),Br.jsxs(ht.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"text-lg md:text-xl lg:text-2xl text-white/90 leading-relaxed max-w-2xl mb-8",children:[Br.jsx("span",{className:"font-semibold text-accent-300",children:"Implementación garantizada"})," de"," ",Br.jsx("span",{className:"font-semibold text-accent-300",children:"Normas ISO"})," y"," ",Br.jsx("span",{className:"font-semibold text-accent-300",children:"Metodologías de mejora continua"})," ","con acompañamiento completo."]}),Br.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-wrap items-center gap-6 mb-10 text-sm text-white/80",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("span",{className:"text-accent-400 mr-2",children:"✓"}),"Respuesta en 24 horas"]}),Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("span",{className:"text-accent-400 mr-2",children:"✓"}),"Cotización gratuita"]}),Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("span",{className:"text-accent-400 mr-2",children:"✓"}),"15+ años de experiencia"]})]}),Br.jsxs(ht.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.7},className:"flex flex-col sm:flex-row gap-4 mb-12 pointer-events-auto relative z-20",children:[Br.jsxs(ra,{size:"lg",className:"bg-gradient-to-r from-accent-500 to-accent-600 hover:from-accent-600 hover:to-accent-700 text-white rounded-xl px-8 py-4 font-semibold text-lg transition-all duration-300 shadow-xl hover:shadow-accent-500/30 hover:scale-105 group",children:[Br.jsx("span",{className:"mr-2",children:"🚀"}),"Obtener Cotización Gratuita",Br.jsx(ht.span,{className:"inline-block ml-2",animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:"→"})]}),Br.jsx(ra,{variant:"ghost-dark",size:"lg",className:"border-2 border-white/40 hover:bg-white/20 hover:border-white/60 backdrop-blur-sm rounded-xl px-8 py-4 font-semibold text-lg transition-all duration-300 group",asChild:!0,children:Br.jsxs("a",{href:"#contacto",className:"flex items-center",children:[Br.jsx("span",{className:"mr-2",children:"📞"}),"Hablar con un Experto"]})})]}),Br.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"grid grid-cols-3 gap-6 pt-6 border-t border-white/20",children:[Br.jsx(Ua,{number:"500+",label:"Empresas certificadas"}),Br.jsx(Ua,{number:"15+",label:"Años de experiencia"}),Br.jsx(Ua,{number:"6",label:"Meses promedio"})]})]}),Br.jsxs("div",{className:"lg:col-span-5 xl:col-span-5 relative mt-12 lg:mt-0 z-10",children:[Br.jsx(ht.div,{ref:a,style:{y:r},className:"absolute inset-0 pointer-events-none","aria-hidden":"true"}),Br.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-transparent backdrop-blur-sm rounded-2xl border border-white/20 p-6 lg:p-8 shadow-xl",children:[Br.jsxs("div",{className:"text-center mb-8",children:[Br.jsx(ht.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.8,delay:.6},className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r from-accent-500 to-accent-600 mb-4 shadow-lg",children:Br.jsx("span",{className:"text-2xl",children:"🏆"})}),Br.jsx("h3",{className:"text-2xl lg:text-3xl font-bold mb-2",children:"Certificación Garantizada"}),Br.jsx("p",{className:"text-white/80 text-lg",children:"Metodología comprobada y respaldada"})]}),Br.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-8",children:[Br.jsxs("div",{className:"flex justify-center space-x-10",children:[Br.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:Br.jsx(Wa,{standard:"9001",variant:"primary",label:"Calidad"})}),Br.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.9},children:Br.jsx(Wa,{standard:"14001",variant:"accent",label:"Ambiente"})}),Br.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},children:Br.jsx(Wa,{standard:"45001",variant:"gold",label:"Seguridad y Salud"})})]}),Br.jsxs("div",{className:"flex justify-center space-x-10",children:[Br.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.1},children:Br.jsx(Wa,{standard:"27001",variant:"info",label:"Inf. y Ciberseguridad"})}),Br.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.2},children:Br.jsx(Wa,{standard:"50001",variant:"success",label:"Gestión Energética"})})]})]}),Br.jsx("div",{className:"space-y-4 mb-8",children:["Acompañamiento integral de durante todo el proceso","Garantía de certificación en primera auditoría externa","Soporte post-implementación"].map((e,t)=>Br.jsxs(ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:1.1+.1*t},className:"flex items-center text-white/90",children:[Br.jsx("span",{className:"text-accent-400 mr-3 text-lg",children:"✓"}),Br.jsx("span",{children:e})]},t))}),Br.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.4},className:"text-center relative z-10 pointer-events-auto",children:Br.jsx(ra,{size:"lg",className:"w-full text-primary-800 hover:bg-gray-100 font-semibold py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:Br.jsx("a",{href:"/cotizar",className:"w-full h-full flex items-center justify-center",children:"Comenzar mi certificación"})})}),Br.jsx("div",{className:"absolute -top-2 -right-2 w-20 h-20 border-2 border-accent-500/30 rounded-full opacity-60"}),Br.jsx("div",{className:"absolute -bottom-3 -left-3 w-16 h-16 border-2 border-primary-400/30 rounded-full opacity-40"}),Br.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 border-t-2 border-r-2 border-accent-500/50 rounded-tr-3xl"}),Br.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 border-b-2 border-l-2 border-primary-400/50 rounded-bl-3xl"})]})]})]}),Br.jsx(Va,{fromSection:"hero",toSection:"services",type:"minimal",height:40})]})},Ga=ht.article,Qa=({title:e,desc:t,icon:r,variant:s="primary",index:a=0,viewMode:n="grid",benefits:i=[],timeframe:o=""})=>{const[l,c]=ze.useState(!1),[d,u]=ze.useState(!1),m={primary:{accent:"before:bg-gradient-to-r before:from-primary-500 before:to-primary-600",gradient:"from-primary-50 to-primary-100/30 hover:from-primary-100 hover:to-primary-50",border:"hover:border-primary-300 hover:shadow-primary-100/50",icon:"bg-gradient-to-br from-primary-100 to-primary-200 text-primary-700",iconHover:"group-hover:from-primary-200 group-hover:to-primary-300",badge:"bg-primary-100 text-primary-700"},accent:{accent:"before:bg-gradient-to-r before:from-accent-500 before:to-accent-600",gradient:"from-accent-50 to-accent-100/30 hover:from-accent-100 hover:to-accent-50",border:"hover:border-accent-300 hover:shadow-accent-100/50",icon:"bg-gradient-to-br from-accent-100 to-accent-200 text-accent-700",iconHover:"group-hover:from-accent-200 group-hover:to-accent-300",badge:"bg-accent-100 text-accent-700"},gold:{accent:"before:bg-gradient-to-r before:from-gold-500 before:to-gold-600",gradient:"from-gold-50 to-gold-100/30 hover:from-gold-100 hover:to-gold-50",border:"hover:border-gold-300 hover:shadow-gold-100/50",icon:"bg-gradient-to-br from-gold-100 to-gold-200 text-gold-700",iconHover:"group-hover:from-gold-200 group-hover:to-gold-300",badge:"bg-gold-100 text-gold-700"}}[s];return"list"===n?Br.jsx(Ga,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0,transition:{duration:.6,delay:.1*a}},viewport:{once:!0},onHoverStart:()=>u(!0),onHoverEnd:()=>u(!1),className:Ba("group relative overflow-hidden rounded-2xl bg-white border border-gray-100","focus-within:ring-2 focus-within:ring-primary-400 shadow-card","before:absolute before:top-0 before:left-0 before:h-full before:w-1","bg-gradient-to-r transition-all duration-500 hover:shadow-xl",m.accent,m.gradient,m.border),children:Br.jsxs("div",{className:"flex items-start p-6 lg:p-8",children:[Br.jsx("div",{className:Ba("flex-shrink-0 inline-flex items-center justify-center rounded-xl p-4 transition-all duration-300","group-hover:scale-110 group-hover:rotate-3",m.icon,m.iconHover),children:Br.jsx(r,{className:"h-8 w-8"})}),Br.jsxs("div",{className:"ml-6 flex-1",children:[Br.jsxs("div",{className:"flex items-start justify-between",children:[Br.jsxs("div",{children:[Br.jsx("h3",{className:"text-xl lg:text-2xl font-bold text-gray-900 group-hover:text-primary-700 transition-colors",children:e}),o&&Br.jsxs("span",{className:Ba("inline-block mt-2 px-3 py-1 rounded-full text-xs font-medium",m.badge),children:["⏱️ ",o]})]}),Br.jsx(ht.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>c(!l),className:"flex-shrink-0 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:Br.jsx(ht.div,{animate:{rotate:l?180:0},transition:{duration:.3},children:Br.jsx(gt,{className:"w-5 h-5 text-gray-600"})})})]}),Br.jsx("p",{className:"mt-3 text-gray-600 leading-relaxed lg:text-lg",children:t}),Br.jsx(ft,{children:l&&Br.jsxs(ht.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 pt-4 border-t border-gray-100",children:[i.length>0&&Br.jsxs("div",{className:"space-y-2",children:[Br.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Incluye:"}),i.map((e,t)=>Br.jsxs(ht.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1*t},className:"flex items-center text-sm text-gray-600",children:[Br.jsx("span",{className:"text-accent-500 mr-2",children:"✓"}),e]},t))]}),Br.jsx("div",{className:"mt-4",children:Br.jsx(ra,{size:"sm",className:"bg-primary-600 hover:bg-primary-700 text-white",children:"Más información"})})]})})]})]})}):Br.jsxs(Ga,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0,transition:{duration:.6,delay:Math.min(.15*a,.8),type:"spring",stiffness:100}},viewport:{once:!0},whileHover:{y:-8,transition:{type:"spring",stiffness:300,damping:20}},onHoverStart:()=>u(!0),onHoverEnd:()=>u(!1),className:Ba("group relative overflow-hidden rounded-2xl bg-white p-6 lg:p-8 border border-gray-100","focus-within:ring-2 focus-within:ring-primary-400 shadow-card","before:absolute before:top-0 before:left-0 before:h-2 before:w-full","bg-gradient-to-br transition-all duration-500 hover:shadow-2xl",m.accent,m.gradient,m.border),children:[Br.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-gradient-to-br from-primary-100/20 to-accent-100/20 rounded-full blur-xl group-hover:scale-150 transition-transform duration-700"}),Br.jsxs("div",{className:"flex items-start justify-between mb-4",children:[Br.jsx("div",{className:Ba("inline-flex items-center justify-center rounded-xl p-3 transition-all duration-300","group-hover:scale-110 group-hover:rotate-3 shadow-lg",m.icon,m.iconHover),children:Br.jsx(r,{className:"h-6 w-6"})}),o&&Br.jsxs(ht.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:Ba("px-3 py-1 rounded-full text-xs font-semibold",m.badge),children:["⏱️ ",o]})]}),Br.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-primary-700 transition-colors duration-300 mb-3",children:e}),Br.jsx("p",{className:"text-gray-600 leading-relaxed mb-6 line-clamp-3",children:t}),i.length>0&&Br.jsxs("div",{className:"space-y-2 mb-6",children:[i.slice(0,2).map((e,t)=>Br.jsxs(ht.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.4,delay:.2+.1*t},className:"flex items-center text-sm text-gray-600",children:[Br.jsx("span",{className:"text-accent-500 mr-2 text-xs",children:"✓"}),e]},t)),i.length>2&&Br.jsxs("p",{className:"text-xs text-gray-500",children:["+",i.length-2," beneficios más..."]})]}),Br.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[Br.jsxs(ra,{size:"sm",variant:"ghost",className:"text-primary-600 hover:text-primary-700 hover:bg-primary-50 p-0 font-semibold",children:["Ver detalles",Br.jsx(ht.span,{className:"inline-block ml-1",animate:{x:d?3:0},transition:{duration:.2},children:"→"})]}),Br.jsx(ht.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>c(!l),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:Br.jsx(ht.div,{animate:{rotate:l?180:0},transition:{duration:.3},children:Br.jsx(bt,{className:"w-4 h-4 text-gray-600"})})})]}),Br.jsx(ft,{children:l&&Br.jsxs(ht.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 pt-4 border-t border-gray-100",children:[i.length>2&&Br.jsxs("div",{className:"space-y-2 mb-4",children:[Br.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Beneficios adicionales:"}),i.slice(2).map((e,t)=>Br.jsxs(ht.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1*t},className:"flex items-center text-sm text-gray-600",children:[Br.jsx("span",{className:"text-accent-500 mr-2 text-xs",children:"✓"}),e]},t+2))]}),Br.jsxs(ra,{size:"sm",className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-semibold",children:[Br.jsx("span",{className:"mr-2",children:"📞"}),"Solicitar Información"]})]})}),Br.jsxs("div",{className:"absolute top-0 right-0 w-16 h-16 opacity-20",children:[Br.jsx("div",{className:Ba("absolute top-2 right-2 w-8 h-8 rounded-full",m.icon)}),Br.jsx("div",{className:Ba("absolute top-4 right-4 w-4 h-4 rounded-full",m.icon)})]})]})},Xa=()=>Br.jsxs("div",{className:"minimal-decorations",children:[Br.jsx("div",{className:"geometric-accent-1"}),Br.jsx("div",{className:"geometric-accent-2"}),Br.jsx("div",{className:"geometric-accent-3"}),Br.jsx("div",{className:"absolute inset-0 minimal-grid"}),Br.jsx(ht.div,{animate:{y:[-20,20,-20],opacity:[.4,.7,.4]},transition:{duration:12,repeat:1/0,ease:"easeInOut"},className:"absolute top-20 right-20 w-32 h-32 border border-white/10 rounded-full"}),Br.jsx("div",{className:"absolute top-1/4 right-1/3 w-80 h-80 bg-white/5 rounded-full blur-3xl"}),Br.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-64 h-64 bg-white/5 rounded-full blur-3xl"})]}),Ka=()=>Br.jsx(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-16 p-8 bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-100 shadow-lg",children:[{number:"500+",label:"Empresas certificadas",icon:"🏢"},{number:"15+",label:"Años de experiencia",icon:"📅"},{number:"98%",label:"Tasa de éxito",icon:"✅"},{number:"6",label:"Meses promedio",icon:"⏱️"}].map((e,t)=>Br.jsxs(ht.div,{initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.1*t},className:"text-center group hover:scale-105 transition-transform duration-300",children:[Br.jsx("div",{className:"text-2xl mb-2",children:e.icon}),Br.jsx("div",{className:"text-2xl md:text-3xl font-bold text-primary-700 mb-1",children:e.number}),Br.jsx("div",{className:"text-sm text-gray-600 font-medium",children:e.label})]},t))}),Ya=[{id:1,title:"Consultorías ISO",desc:"Implementación completa de ISO 9001, 14001 y 45001 con metodología probada y garantía de certificación.",icon:vt,benefits:["Diagnóstico gratuito","Implementación guiada","Garantía de certificación"],timeframe:"4-6 meses"},{id:2,title:"Auditorías Internas",desc:"Evaluaciones especializadas según ISO 19011 para identificar oportunidades de mejora y fortalezas.",icon:yt,benefits:["Reporte detallado","Plan de mejoras","Seguimiento continuo"],timeframe:"2-3 semanas"},{id:3,title:"Capacitaciones",desc:"Programas de formación certificados en seguridad, medio ambiente y calidad para todos los niveles.",icon:jt,benefits:["Certificación SENCE","Material incluido","Modalidad presencial/online"],timeframe:"1-5 días"},{id:4,title:"Protocolos MINSAL",desc:"Implementación de PREXOR, TMERT, CEAL-SM y PLANESI con acompañamiento legal especializado.",icon:wt,benefits:["Cumplimiento legal","Asesoría jurídica","Documentación completa"],timeframe:"2-4 meses"},{id:5,title:"Gestión de Riesgos",desc:"Metodología ISO 31000 para identificar, evaluar y controlar riesgos operacionales y estratégicos.",icon:Nt,benefits:["Matriz de riesgos","Planes de contingencia","Indicadores de control"],timeframe:"3-4 meses"},{id:6,title:"Soporte Continuo",desc:"Acompañamiento post-certificación con KPIs, auditorías de seguimiento y mejora continua.",icon:kt,benefits:["Monitoreo 24/7","Reportes mensuales","Soporte remoto"],timeframe:"Permanente"}],Ja=e=>{const t=["primary","accent","gold"];return t[e%t.length]},Za=()=>{const[e,t]=ze.useState("grid"),[r,s]=ze.useState("all"),a=(Array.isArray(Ya)?Ya:[]).filter(e=>"all"===r||("iso"===r?[1,2,5].includes(e.id):"legal"===r?[4].includes(e.id):"training"!==r||[3,6].includes(e.id))),n=[{id:"all",label:"Todos los servicios",count:Ya.length},{id:"iso",label:"Certificaciones ISO",count:3},{id:"legal",label:"Cumplimiento Legal",count:1},{id:"training",label:"Capacitación",count:2}];return Br.jsxs("section",{id:"services",className:"section-unified-bg section-services-bg content-overlay relative py-16 md:py-20 lg:py-24",children:[Br.jsx("div",{className:"section-overlay-pattern bg-diagonal-lines"}),Br.jsx("div",{className:"blur-transition-element blur-transition-top floating-transition"}),Br.jsx(Xa,{}),Br.jsxs("div",{className:"container mx-auto px-4 max-w-7xl content-overlay",children:[Br.jsx("div",{className:"text-center mb-16",children:Br.jsxs(ht.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{opacity:0,y:-30},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}},children:[Br.jsxs(ht.span,{initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{duration:.5},className:"inline-block py-2 px-4 rounded-full bg-accent-500/30 text-white text-sm font-medium mb-3 backdrop-blur-sm shadow-sm",children:[Br.jsx("span",{className:"mr-2",children:"🚀"}),"Nuestros Servicios"]}),Br.jsxs("h2",{className:"mt-4 text-4xl md:text-5xl lg:text-6xl font-display font-black text-white leading-tight",children:["Soluciones que"," ",Br.jsxs("span",{className:"relative",children:[Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-accent-300 to-accent-500",children:"transforman"}),Br.jsx(ht.span,{initial:{width:0},whileInView:{width:"100%"},viewport:{once:!0},transition:{duration:1,delay:.5},className:"absolute inset-x-0 bottom-1 h-3 bg-gradient-to-r from-primary-200 to-accent-200 rounded-lg"})]}),Br.jsx("br",{}),"tu empresa"]}),Br.jsxs("p",{className:"mt-6 mx-auto max-w-3xl text-lg md:text-xl text-white/80 leading-relaxed",children:["Desde el diagnóstico inicial hasta la mejora continua, te acompañamos en cada etapa de tu ",Br.jsx("span",{className:"font-semibold text-accent-300",children:"transformación organizacional"}),"."]})]})}),Br.jsx(Ka,{}),Br.jsx(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"flex flex-wrap justify-center gap-3 mb-12",children:n.map(e=>Br.jsxs("button",{onClick:()=>s(e.id),className:"px-6 py-3 rounded-full text-sm font-medium transition-all duration-300 "+(r===e.id?"bg-accent-500 text-white shadow-lg scale-105":"bg-primary-800/70 text-white/80 hover:bg-primary-700 hover:text-white border border-primary-600/30"),children:[e.label,Br.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",e.count,")"]})]},e.id))}),Br.jsx(ht.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"flex justify-center mb-8",children:Br.jsxs("div",{className:"bg-primary-800/70 rounded-lg p-1 shadow-md border border-primary-600/30",children:[Br.jsxs("button",{onClick:()=>t("grid"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all "+("grid"===e?"bg-accent-500 text-white shadow-sm":"text-white/80 hover:text-white"),children:[Br.jsx(Ct,{className:"w-4 h-4 inline mr-2"}),"Vista Grid"]}),Br.jsxs("button",{onClick:()=>t("list"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all "+("list"===e?"bg-accent-500 text-white shadow-sm":"text-white/80 hover:text-white"),children:[Br.jsx(St,{className:"w-4 h-4 inline mr-2"}),"Vista Lista"]})]})}),Br.jsx(ht.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},initial:"hidden",whileInView:"visible",viewport:{once:!0},children:Br.jsx(ft,{mode:"wait",children:Br.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"grid"===e?"grid gap-8 sm:grid-cols-2 lg:grid-cols-3":"space-y-6",children:a.map((t,r)=>Br.jsx(Qa,Ce(ke({},t),{variant:Ja(r),index:r,viewMode:e}),`${t.id}-${e}`))},`${e}-${r}`)})}),Br.jsxs(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.3},className:"text-center mt-16 p-8 bg-gradient-to-r from-primary-600 to-accent-600 rounded-2xl text-white relative overflow-hidden",children:[Br.jsx("div",{className:"absolute inset-0 bg-grid-white bg-[length:20px_20px] opacity-10"}),Br.jsxs("div",{className:"relative z-10",children:[Br.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Impulsa tu negocio con certificación ISO de excelencia"}),Br.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Obtén una cotización personalizada y comienza tu proceso de certificación hoy mismo."}),Br.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Br.jsxs(ra,{size:"lg",className:"text-primary-700 hover:bg-gray-100 font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[Br.jsx("span",{className:"mr-2",children:"📞"}),"Solicitar Cotización Gratuita"]}),Br.jsxs(ra,{variant:"ghost-dark",size:"lg",className:"border-2 border-white/40 hover:bg-white/20 backdrop-blur-sm rounded-xl px-8 py-4 font-semibold",children:[Br.jsx("span",{className:"mr-2",children:"📄"}),"Descargar Brochure"]})]})]})]})]}),Br.jsx(Va,{fromSection:"services",toSection:"process",type:"dots",height:250})]})},en=({id:e,title:t,desc:r,icon:s,isLast:a=!1,direction:n="vertical",variant:i="primary",isActive:o=!1,onMouseEnter:l,onMouseLeave:c})=>{const d=ze.useRef(null),u=Et(d,{once:!0,margin:"-50px"}),m={primary:{circle:"bg-primary-600 text-white shadow-lg shadow-primary-500/20",iconBg:"bg-primary-100 text-primary-700",connector:"bg-gradient-to-b from-primary-500 to-primary-300",horizontalConnector:"bg-gradient-to-r from-primary-300 to-primary-500",hover:"group-hover:border-primary-200 group-hover:bg-primary-50/50"},accent:{circle:"bg-accent-500 text-white shadow-lg shadow-accent-500/20",iconBg:"bg-accent-50 text-accent-700",connector:"bg-gradient-to-b from-accent-500 to-accent-300",horizontalConnector:"bg-gradient-to-r from-accent-300 to-accent-500",hover:"group-hover:border-accent-200 group-hover:bg-accent-50/50"},gold:{circle:"bg-gold-500 text-white shadow-lg shadow-gold-500/20",iconBg:"bg-gold-50 text-gold-700",connector:"bg-gradient-to-b from-gold-500 to-gold-300",horizontalConnector:"bg-gradient-to-r from-gold-300 to-gold-500",hover:"group-hover:border-gold-200 group-hover:bg-gold-50/50"}};return Br.jsxs(ht.div,{ref:d,initial:{opacity:0,y:20},animate:u?{opacity:1,y:0}:{},whileHover:{y:-5,transition:{duration:.2}},transition:{duration:.6,delay:.1*e},className:Ba("relative","vertical"===n?"md:flex":"flex flex-col items-center"),onMouseEnter:l,onMouseLeave:c,children:[Br.jsxs("div",{className:Ba("flex","vertical"===n?"md:flex-col items-center mr-8":"flex-row items-center mb-4"),children:[Br.jsx("div",{className:Ba("z-10 flex h-12 w-12 shrink-0 items-center justify-center rounded-full","text-xl font-bold transform transition-all duration-300",m[i].circle),children:e}),!a&&("vertical"===n?Br.jsx("div",{className:"mt-3 h-full w-1 rounded-full opacity-80",style:{background:`linear-gradient(to bottom, ${"primary"===i?"#0369a1":"accent"===i?"#04b486":"#eab308"} 0%, transparent 100%)`,height:"100px"}}):Br.jsx("div",{className:"mx-3 h-1 w-16 rounded-full opacity-80",style:{background:`linear-gradient(to right, transparent 0%, ${"primary"===i?"#0369a1":"accent"===i?"#04b486":"#eab308"} 50%, transparent 100%)`}}))]}),Br.jsxs("article",{className:Ba("group w-full rounded-xl p-6 border transition-all duration-300","shadow-card hover:shadow-elevated",o?"bg-white/90 border-accent-300/50 transform scale-105":"bg-white/80 border-gray-100",m[i].hover),children:[Br.jsx("span",{className:Ba("inline-flex items-center justify-center rounded-lg p-3","transition-transform group-hover:scale-110 group-hover:rotate-3",m[i].iconBg),children:Br.jsx(s,{className:"h-6 w-6"})}),Br.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900 group-hover:text-primary-700",children:t}),Br.jsx("p",{className:"mt-2 text-gray-600",children:r})]})]})},tn=[{id:1,title:"Diagnóstico inicial",desc:"Levantamiento de procesos y evaluación de brechas.",icon:_t},{id:2,title:"Plan de acción",desc:"Roadmap de 12 semanas con hitos claros.",icon:Mt},{id:3,title:"Capacitación",desc:"Formación de equipos y roles clave.",icon:It},{id:4,title:"Documentación",desc:"Procedimientos y registros imprescindibles.",icon:Ot},{id:5,title:"Implementación",desc:"Puesta en marcha y seguimiento de controles.",icon:Tt},{id:6,title:"Auditoría interna",desc:"Verificación de conformidad y acciones correctivas.",icon:vt},{id:7,title:"Certificación externa",desc:"Acompañamiento durante la auditoría de certificación.",icon:Lt},{id:8,title:"Mejora continua",desc:"KPIs y revisiones para sostener el sistema.",icon:At}],rn=()=>Br.jsxs("div",{className:"minimal-decorations",children:[Br.jsx("div",{className:"geometric-accent-1"}),Br.jsx("div",{className:"geometric-accent-2"}),Br.jsx("div",{className:"absolute inset-0 minimal-grid"}),Br.jsx(ht.div,{className:"absolute right-10 top-1/4 w-16 h-16 border border-white/10 rounded-full",animate:{scale:[1,1.1,1],opacity:[.5,.8,.5]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),Br.jsx("div",{className:"absolute left-0 right-0 h-1 top-1/3 overflow-hidden -z-10",children:Br.jsx(ht.div,{className:"h-full bg-gradient-to-r from-transparent via-white/20 to-transparent",style:{width:"30%"},animate:{x:["-100%","400%"]},transition:{duration:8,repeat:1/0,ease:"linear"}})})]}),sn=()=>{const[e,t]=ze.useState(null),r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},s=e=>0===e||3===e||6===e?"primary":1===e||4===e||7===e?"accent":"gold";return Br.jsxs("section",{id:"process",className:"section-unified-bg section-process-bg content-overlay relative py-16 md:py-20 lg:py-24",children:[Br.jsx("div",{className:"section-overlay-pattern bg-grid-pattern"}),Br.jsx("div",{className:"blur-transition-element blur-transition-top floating-transition"}),Br.jsx(rn,{}),Br.jsxs("div",{className:"container mx-auto px-4 max-w-6xl content-overlay",children:[Br.jsxs(ht.header,{className:"mb-16 text-center relative z-10",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},children:[Br.jsxs("span",{className:"inline-block py-2 px-4 rounded-full bg-accent-500/30 text-white text-sm font-medium mb-3 backdrop-blur-sm shadow-sm",children:[Br.jsx("span",{className:"mr-2",children:"🔄"}),"Metodología Certificada"]}),Br.jsxs("h2",{className:"mt-2 text-4xl md:text-5xl font-display font-bold text-white leading-tight",children:["Paso a paso hacia la ",Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-accent-300 to-accent-500",children:"excelencia"})]}),Br.jsx("div",{className:"mx-auto mt-4 h-1 w-24 rounded bg-accent-500 opacity-70"}),Br.jsxs("p",{className:"mt-8 mx-auto max-w-2xl text-lg text-white/80 leading-relaxed",children:["Nuestro enfoque metódico garantiza resultados consistentes y una implementación sin sobresaltos. ",Br.jsx("span",{className:"font-medium text-accent-300",children:"Llevamos tu organización al siguiente nivel."})]})]}),Br.jsx("div",{className:"mb-16 bg-primary-800/50 backdrop-blur-sm rounded-xl p-6 border border-primary-600/30 shadow-xl",children:Br.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[Br.jsxs("div",{className:"text-center p-4",children:[Br.jsx(ht.div,{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-700/70 mb-4",whileHover:{scale:1.05,backgroundColor:"rgba(3, 105, 161, 0.9)"},children:Br.jsx("span",{className:"text-2xl",children:"⏱️"})}),Br.jsx("h3",{className:"text-white text-xl font-bold mb-2",children:"Proceso Optimizado"}),Br.jsx("p",{className:"text-white/70",children:"12 semanas desde diagnóstico hasta implementación"})]}),Br.jsxs("div",{className:"text-center p-4",children:[Br.jsx(ht.div,{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-accent-500/30 mb-4",whileHover:{scale:1.05,backgroundColor:"rgba(4, 180, 134, 0.3)"},children:Br.jsx("span",{className:"text-2xl",children:"🔍"})}),Br.jsx("h3",{className:"text-white text-xl font-bold mb-2",children:"Enfoque Estrategico"}),Br.jsx("p",{className:"text-white/70",children:"Más de 500 empresas certificadas con éxito"})]}),Br.jsxs("div",{className:"text-center p-4",children:[Br.jsx(ht.div,{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-700/70 mb-4",whileHover:{scale:1.05,backgroundColor:"rgba(3, 105, 161, 0.9)"},children:Br.jsx("span",{className:"text-2xl",children:"🛡️"})}),Br.jsx("h3",{className:"text-white text-xl font-bold mb-2",children:"Garantía de Certificación"}),Br.jsx("p",{className:"text-white/70",children:"100% de tasa de éxito en primera auditoría"})]})]})}),Br.jsxs(ht.div,{className:"hidden lg:block",initial:"hidden",whileInView:"visible",variants:r,viewport:{once:!0,margin:"-100px"},children:[Br.jsxs("h3",{className:"text-2xl font-bold mb-8 text-center text-white",children:["Nuestro proceso de ",Br.jsx("span",{className:"text-accent-300 font-extrabold",children:"8 pasos"})]}),Br.jsxs("div",{className:"grid grid-cols-4 gap-8",children:[tn.slice(0,4).map((r,a)=>Br.jsx(en,Ce(ke({},r),{direction:"vertical",isLast:3===a,variant:s(a),onMouseEnter:()=>t(r.id),onMouseLeave:()=>t(null),isActive:e===r.id}),r.id)),Br.jsx("div",{className:"col-span-4 flex justify-center my-8 relative",children:Br.jsx(ht.div,{className:"w-32 h-1 rounded-full bg-gradient-to-r from-primary-300 via-accent-400 to-primary-300",animate:{opacity:[.4,.8,.4],width:["20%","50%","20%"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})}),tn.slice(4).map((r,a)=>Br.jsx(en,Ce(ke({},r),{direction:"vertical",isLast:3===a,variant:s(a+4),onMouseEnter:()=>t(r.id),onMouseLeave:()=>t(null),isActive:e===r.id}),r.id))]})]}),Br.jsxs(ht.div,{className:"lg:hidden space-y-12",initial:"hidden",whileInView:"visible",variants:r,viewport:{once:!0,margin:"-50px"},children:[Br.jsxs("h3",{className:"text-xl font-bold mb-8 text-center",children:["Nuestro proceso de ",Br.jsx("span",{className:"text-accent-300",children:"8 pasos"})]}),tn.map((r,a)=>Br.jsx(en,Ce(ke({},r),{direction:"vertical",isLast:a===tn.length-1,variant:s(a),onMouseEnter:()=>t(r.id),onMouseLeave:()=>t(null),isActive:e===r.id}),r.id))]})]}),Br.jsx(Va,{fromSection:"process",toSection:"testimonials",type:"minimal",height:40})]})},an=[{id:1,name:"María López",role:"Gerente de SSMA",company:"Minera Andes",quote:"Stegmaier nos llevó de cero a la certificación ISO 45001 en tiempo récord. Su acompañamiento constante y metodología clara marcó la diferencia en nuestro proceso.",rating:5,variant:"primary",industry:"Minería",certifications:["ISO 45001"],timeframe:"5 meses",improvement:"Reducción del 60% en incidentes laborales",avatar:"👩‍💼"},{id:2,name:"José Fernández",role:"Subgerente de Calidad",company:"Alimentos del Sur",quote:"Diseñaron un plan claro y detallado. Hoy operamos bajo ISO 9001 con procesos mucho más eficientes y un equipo completamente capacitado.",rating:5,variant:"accent",industry:"Alimentos",certifications:["ISO 9001"],timeframe:"4 meses",improvement:"Aumento del 30% en eficiencia operacional",avatar:"👨‍💼"},{id:3,name:"Ana Rodríguez",role:"Directora de Operaciones",company:"Textil Innovación",quote:"El equipo de Stegmaier superó nuestras expectativas. No solo logramos la certificación ISO 14001, sino que implementamos una cultura ambiental sólida.",rating:5,variant:"gold",industry:"Textil",certifications:["ISO 14001"],timeframe:"6 meses",improvement:"Reducción del 40% en consumo de agua",avatar:"👩‍🏭"},{id:4,name:"Carlos Mendoza",role:"Gerente General",company:"Construcciones del Norte",quote:"Gracias a su expertise conseguimos las tres certificaciones que necesitábamos. Su soporte post-certificación ha sido fundamental para mantener los estándares.",rating:5,variant:"primary",industry:"Construcción",certifications:["ISO 9001","ISO 14001","ISO 45001"],timeframe:"8 meses",improvement:"Triple certificación exitosa",avatar:"👨‍🏗️"}],nn=()=>Br.jsxs("div",{className:"minimal-decorations",children:[Br.jsx("div",{className:"geometric-accent-1"}),Br.jsx("div",{className:"geometric-accent-2"}),Br.jsx("div",{className:"absolute inset-0 minimal-grid"}),Br.jsx(ht.div,{animate:{scale:[1,1.1,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -left-20 -bottom-20 w-80 h-80 rounded-full bg-white/5 blur-3xl"}),Br.jsx(ht.div,{animate:{scale:[1.2,1,1.2],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},className:"absolute -right-40 top-20 w-96 h-96 rounded-full bg-white/5 blur-3xl"}),[...Array(8)].map((e,t)=>Br.jsx(ht.div,{animate:{y:[-20,-40,-20],opacity:[.3,.5,.3]},transition:{duration:4+.5*t,repeat:1/0,ease:"easeInOut",delay:.3*t},className:"absolute w-2 h-2 bg-white/30 rounded-full",style:{left:15+10*t+"%",top:20+t%3*20+"%"}},t))]}),on=()=>Br.jsx(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-16 p-6 bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-100 shadow-lg",children:[{number:"4.9",label:"Calificación promedio",icon:"⭐",suffix:"/5"},{number:"100%",label:"Clientes satisfechos",icon:"😊",suffix:""},{number:"500+",label:"Testimonios positivos",icon:"💬",suffix:""},{number:"15+",label:"Años de experiencia",icon:"🏆",suffix:""}].map((e,t)=>Br.jsxs(ht.div,{initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.1*t},className:"text-center group hover:scale-105 transition-transform duration-300",children:[Br.jsx("div",{className:"text-2xl mb-2",children:e.icon}),Br.jsxs("div",{className:"text-xl md:text-2xl font-bold text-primary-700 mb-1",children:[e.number,e.suffix]}),Br.jsx("div",{className:"text-sm text-gray-600 font-medium",children:e.label})]},t))}),ln=()=>{const[e,t]=ze.useState(0),[r,s]=ze.useState(!0);ze.useEffect(()=>{if(!r)return;const e=setInterval(()=>{t(e=>(e+1)%an.length)},5e3);return()=>clearInterval(e)},[r]);const a=an[e],n={primary:{gradient:"from-primary-50 to-primary-100/30",border:"border-primary-200",accent:"from-primary-500 to-primary-600",icon:"text-primary-600 bg-primary-100"},accent:{gradient:"from-accent-50 to-accent-100/30",border:"border-accent-200",accent:"from-accent-500 to-accent-600",icon:"text-accent-600 bg-accent-100"},gold:{gradient:"from-gold-50 to-gold-100/30",border:"border-gold-200",accent:"from-gold-500 to-gold-600",icon:"text-gold-600 bg-gold-100"}}[a.variant];return Br.jsxs("section",{id:"testimonials",className:"section-unified-bg section-testimonials-bg content-overlay relative py-16 md:py-20 lg:py-24",children:[Br.jsx("div",{className:"section-overlay-pattern bg-dots-pattern"}),Br.jsx("div",{className:"blur-transition-element blur-transition-top floating-transition"}),Br.jsx("div",{className:"absolute inset-0 opacity-30",children:Br.jsx("svg",{className:"absolute left-0 w-full",style:{top:"15%"},viewBox:"0 0 1440 30",preserveAspectRatio:"none",children:Br.jsx("path",{d:"M0,20L48,18.7C96,17,192,13,288,13.3C384,13,480,17,576,20C672,23,768,27,864,23.3C960,20,1056,10,1152,6.7C1248,3,1344,7,1392,8.7L1440,10L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z",fill:"rgba(255,255,255,0.1)"})})}),Br.jsx(nn,{}),Br.jsxs("div",{className:"container mx-auto px-4 max-w-6xl content-overlay",children:[Br.jsxs(ht.div,{initial:{opacity:0,y:-30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[Br.jsxs(ht.span,{initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{duration:.5},className:"inline-block py-2 px-4 rounded-full bg-accent-500/30 text-white text-sm font-medium mb-3 backdrop-blur-sm shadow-sm",children:[Br.jsx("span",{className:"mr-2",children:"💬"}),"Testimonios de Clientes"]}),Br.jsxs("h2",{className:"mt-4 text-4xl md:text-5xl lg:text-6xl font-display font-black text-white leading-tight",children:["Historias de"," ",Br.jsxs("span",{className:"relative",children:[Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-accent-300 to-accent-500",children:"éxito"}),Br.jsx(ht.span,{initial:{width:0},whileInView:{width:"100%"},viewport:{once:!0},transition:{duration:1,delay:.5},className:"absolute inset-x-0 bottom-1 h-3 bg-gradient-to-r from-primary-200 to-accent-200 rounded-lg"})]}),Br.jsx("br",{}),"que nos inspiran"]}),Br.jsxs("p",{className:"mt-6 mx-auto max-w-3xl text-lg md:text-xl text-white/80 leading-relaxed",children:["Descubre cómo hemos ayudado a empresas de diferentes industrias a alcanzar la ",Br.jsx("span",{className:"font-semibold text-accent-300",children:"excelencia operacional"})," a través de certificaciones ISO."]})]}),Br.jsx(on,{}),Br.jsxs(ht.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,duration:.6}}},initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"relative",children:[Br.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[Br.jsx("button",{onClick:()=>{t(e=>(e-1+an.length)%an.length)},className:"p-3 rounded-full bg-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 group border border-gray-100",children:Br.jsx(Dt,{className:"w-5 h-5 text-gray-600 group-hover:text-primary-600"})}),Br.jsx("div",{className:"flex items-center gap-3",children:an.map((r,s)=>Br.jsx("button",{onClick:()=>t(s),className:Ba("w-3 h-3 rounded-full transition-all duration-300 border",s===e?"bg-white border-white w-8 shadow-md":"bg-white/40 border-white/60 hover:bg-white hover:border-white")},s))}),Br.jsx("button",{onClick:()=>s(!r),className:"p-3 rounded-full bg-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 group border border-gray-100",children:r?Br.jsx(Pt,{className:"w-5 h-5 text-gray-600 group-hover:text-primary-600"}):Br.jsx(Rt,{className:"w-5 h-5 text-gray-600 group-hover:text-primary-600"})}),Br.jsx("button",{onClick:()=>{t(e=>(e+1)%an.length)},className:"p-3 rounded-full bg-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 group border border-gray-100",children:Br.jsx(zt,{className:"w-5 h-5 text-gray-600 group-hover:text-primary-600"})})]}),Br.jsx(ft,{mode:"wait",children:Br.jsx(ht.div,{initial:{opacity:0,x:50,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-50,scale:.95},transition:{duration:.5,ease:"easeInOut"},className:"max-w-4xl mx-auto",children:Br.jsxs("div",{className:Ba("rounded-3xl p-8 lg:p-12 relative overflow-hidden","bg-gradient-to-br border shadow-2xl","hover:scale-[1.02] transition-all duration-500",n.gradient,n.border),children:[Br.jsx("div",{className:Ba("absolute top-0 left-0 right-0 h-2 bg-gradient-to-r",n.accent)}),Br.jsx("div",{className:"absolute top-6 right-6 opacity-10",children:Br.jsx($t,{className:"w-24 h-24 text-gray-900"})}),Br.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-center",children:[Br.jsxs("div",{className:"lg:col-span-8",children:[Br.jsxs("div",{className:"mb-6",children:[Br.jsx("div",{className:Ba("inline-flex items-center justify-center w-12 h-12 rounded-full mb-4",n.icon),children:Br.jsx($t,{className:"w-6 h-6"})}),Br.jsxs("blockquote",{className:"text-xl lg:text-2xl text-gray-700 leading-relaxed font-medium",children:['"',a.quote,'"']})]}),Br.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[Br.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-2xl border-2 border-white shadow-lg",children:a.avatar}),Br.jsxs("div",{children:[Br.jsx("div",{className:"font-bold text-lg text-gray-900",children:a.name}),Br.jsxs("div",{className:"text-gray-600",children:[a.role," · ",a.company]}),Br.jsx("div",{className:"flex items-center gap-1 mt-1",children:(i=a.rating,Array(i).fill(0).map((e,t)=>Br.jsx(ht.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1*t,type:"spring",stiffness:200},children:Br.jsx(qt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"})},t)))})]})]})]}),Br.jsx("div",{className:"lg:col-span-4",children:Br.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white shadow-lg",children:[Br.jsx("h4",{className:"font-bold text-gray-900 mb-4 text-lg",children:"Resultados del Proyecto"}),Br.jsxs("div",{className:"space-y-4",children:[Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Industria"}),Br.jsx("div",{className:"font-semibold text-gray-900",children:a.industry})]}),Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Certificaciones"}),Br.jsx("div",{className:"flex flex-wrap gap-2",children:a.certifications.map((e,t)=>Br.jsx("span",{className:Ba("px-3 py-1 rounded-full text-xs font-semibold border border-white/70 shadow-sm","bg-accent-500/60 text-white backdrop-blur-sm"),children:e},t))})]}),Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Tiempo de implementación"}),Br.jsx("div",{className:"font-semibold text-gray-900",children:a.timeframe})]}),Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Mejora principal"}),Br.jsx("div",{className:"font-semibold text-primary-700",children:a.improvement})]})]})]})})]})]})},e)}),Br.jsx(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.3},className:"mt-16 grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:an.map((r,s)=>Br.jsxs(ht.button,{onClick:()=>t(s),whileHover:{y:-5},className:Ba("p-6 rounded-xl text-left transition-all duration-300 border",s===e?"bg-primary-50 border-primary-200 shadow-lg":"bg-white border-gray-100 hover:border-primary-200 hover:shadow-md"),children:[Br.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[Br.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-lg",children:r.avatar}),Br.jsxs("div",{children:[Br.jsx("div",{className:"font-semibold text-sm text-gray-900",children:r.name}),Br.jsx("div",{className:"text-xs text-gray-600",children:r.company})]})]}),Br.jsxs("p",{className:"text-sm text-gray-600 line-clamp-3",children:['"',r.quote,'"']})]},r.id))})]}),Br.jsxs(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.4},className:"text-center mt-16 p-8 bg-gradient-to-r from-primary-600 to-accent-600 rounded-2xl text-white relative overflow-hidden",children:[Br.jsx("div",{className:"absolute inset-0 bg-grid-white bg-[length:20px_20px] opacity-10"}),Br.jsxs("div",{className:"relative z-10",children:[Br.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:"¿Quieres ser nuestro próximo caso de éxito?"}),Br.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Únete a más de 500 empresas que han transformado sus operaciones con nuestro acompañamiento."}),Br.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Br.jsxs(ra,{size:"lg",className:"text-primary-700 hover:bg-gray-100 font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[Br.jsx("span",{className:"mr-2",children:"🚀"}),"Comenzar mi transformación"]}),Br.jsxs(ra,{variant:"ghost-dark",size:"lg",className:"border-2 border-white/40 hover:bg-white/20 backdrop-blur-sm rounded-xl px-8 py-4 font-semibold",children:[Br.jsx("span",{className:"mr-2",children:"📞"}),"Hablar con un consultor"]})]})]})]})]}),Br.jsx(Va,{fromSection:"testimonials",toSection:"contact",type:"minimal",height:40})]});var i};let cn,dn,un,mn={data:""},hn=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xn=/\/\*[^]*?\*\/|  +/g,pn=/\n+/g,gn=(e,t)=>{let r="",s="",a="";for(let n in e){let i=e[n];"@"==n[0]?"i"==n[1]?r=n+" "+i+";":s+="f"==n[1]?gn(i,n):n+"{"+gn(i,"k"==n[1]?"":t)+"}":"object"==typeof i?s+=gn(i,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):n):null!=i&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=gn.p?gn.p(n,i):n+":"+i+";")}return r+(t&&a?t+"{"+a+"}":a)+s},fn={},bn=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+bn(e[r]);return t}return e};function vn(e){let t=this||{},r=e.call?e(t.p):e;return((e,t,r,s,a)=>{let n=bn(e),i=fn[n]||(fn[n]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(n));if(!fn[i]){let t=n!==e?e:(e=>{let t,r,s=[{}];for(;t=hn.exec(e.replace(xn,""));)t[4]?s.shift():t[3]?(r=t[3].replace(pn," ").trim(),s.unshift(s[0][r]=s[0][r]||{})):s[0][t[1]]=t[2].replace(pn," ").trim();return s[0]})(e);fn[i]=gn(a?{["@keyframes "+i]:t}:t,r?"":"."+i)}let o=r&&fn.g?fn.g:null;return r&&(fn.g=fn[i]),l=fn[i],c=t,d=s,(u=o)?c.data=c.data.replace(u,l):-1===c.data.indexOf(l)&&(c.data=d?l+c.data:c.data+l),i;var l,c,d,u})(r.unshift?r.raw?((e,t,r)=>e.reduce((e,s,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?"."+t:e&&"object"==typeof e?e.props?"":gn(e,""):!1===e?"":e}return e+s+(null==n?"":n)},""))(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,(s=t.target,"object"==typeof window?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||mn),t.g,t.o,t.k);var s}vn.bind({g:1});let yn=vn.bind({k:1});function jn(e,t){let r=this||{};return function(){let t=arguments;return function s(a,n){let i=Object.assign({},a),o=i.className||s.className;r.p=Object.assign({theme:dn&&dn()},i),r.o=/ *go\d+/.test(o),i.className=vn.apply(r,t)+(o?" "+o:"");let l=e;return e[0]&&(l=i.as||e,delete i.as),un&&l[0]&&un(i),cn(l,i)}}}var wn=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Nn=(()=>{let e=0;return()=>(++e).toString()})(),kn=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Cn="default",Sn=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return Ce(ke({},e),{toasts:[t.toast,...e.toasts].slice(0,r)});case 1:return Ce(ke({},e),{toasts:e.toasts.map(e=>e.id===t.toast.id?ke(ke({},e),t.toast):e)});case 2:let{toast:s}=t;return Sn(e,{type:e.toasts.find(e=>e.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return Ce(ke({},e),{toasts:e.toasts.map(e=>e.id===a||void 0===a?Ce(ke({},e),{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Ce(ke({},e),{toasts:[]}):Ce(ke({},e),{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Ce(ke({},e),{pausedAt:t.time});case 6:let n=t.time-(e.pausedAt||0);return Ce(ke({},e),{pausedAt:void 0,toasts:e.toasts.map(e=>Ce(ke({},e),{pauseDuration:e.pauseDuration+n}))})}},En=[],_n={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Mn={},In=(e,t=Cn)=>{Mn[t]=Sn(Mn[t]||_n,e),En.forEach(([e,r])=>{e===t&&r(Mn[t])})},On=e=>Object.keys(Mn).forEach(t=>In(e,t)),Tn=(e=Cn)=>t=>{In(t,e)},Ln=e=>(t,r)=>{let s=((e,t="blank",r)=>Ce(ke({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{id:(null==r?void 0:r.id)||Nn()}))(t,e,r);return Tn(s.toasterId||(e=>Object.keys(Mn).find(t=>Mn[t].toasts.some(t=>t.id===e)))(s.id))({type:2,toast:s}),s.id},An=(e,t)=>Ln("blank")(e,t);An.error=Ln("error"),An.success=Ln("success"),An.loading=Ln("loading"),An.custom=Ln("custom"),An.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Tn(t)(r):On(r)},An.dismissAll=e=>An.dismiss(void 0,e),An.remove=(e,t)=>{let r={type:4,toastId:e};t?Tn(t)(r):On(r)},An.removeAll=e=>An.remove(void 0,e),An.promise=(e,t,r)=>{let s=An.loading(t.loading,ke(ke({},r),null==r?void 0:r.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?wn(t.success,e):void 0;return a?An.success(a,ke(ke({id:s},r),null==r?void 0:r.success)):An.dismiss(s),e}).catch(e=>{let a=t.error?wn(t.error,e):void 0;a?An.error(a,ke(ke({id:s},r),null==r?void 0:r.error)):An.dismiss(s)}),e};var Dn,Pn,Rn,zn,$n=yn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qn=yn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Fn=yn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Bn=jn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$n} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Fn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Wn=yn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Vn=jn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Wn} 1s linear infinite;
`,Un=yn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Hn=yn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Gn=jn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Un} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Hn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Qn=jn("div")`
  position: absolute;
`,Xn=jn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Kn=yn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Yn=jn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Kn} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Jn=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return void 0!==t?"string"==typeof t?ze.createElement(Yn,null,t):t:"blank"===r?null:ze.createElement(Xn,null,ze.createElement(Vn,ke({},s)),"loading"!==r&&ze.createElement(Qn,null,"error"===r?ze.createElement(Bn,ke({},s)):ze.createElement(Gn,ke({},s))))},Zn=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ei=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,ti=jn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ri=jn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`;ze.memo(({toast:e,position:t,style:r,children:s})=>{let a=e.height?((e,t)=>{let r=e.includes("top")?1:-1,[s,a]=kn()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Zn(r),ei(r)];return{animation:t?`${yn(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yn(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},n=ze.createElement(Jn,{toast:e}),i=ze.createElement(ri,ke({},e.ariaProps),wn(e.message,e));return ze.createElement(ti,{className:e.className,style:ke(ke(ke({},a),r),e.style)},"function"==typeof s?s({icon:n,message:i}):ze.createElement(ze.Fragment,null,n,i))}),Dn=ze.createElement,gn.p=Pn,cn=Dn,dn=Rn,un=zn,vn`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var si=An;const ai=()=>{const[e,t]=ze.useState(!1),r=Mr().shape({name:Ir().min(2,"El nombre debe tener al menos 2 caracteres").required("El nombre es obligatorio"),email:Ir().email("Email inválido").required("El email es obligatorio"),phone:Ir().matches(/^[0-9+\s()-]{0,20}$/,"Formato de teléfono inválido").notRequired(),service:Ir().required("Por favor selecciona un servicio"),message:Ir().min(10,"El mensaje es demasiado corto (mínimo 10 caracteres)").required("El mensaje es obligatorio"),_gotcha:Ir()}),s=["Consultoría ISO 9001","Consultoría ISO 14001","Consultoría ISO 45001","Auditoría Interna","Capacitaciones","Protocolos MINSAL","Gestión de Riesgos","Otro"],a="undefined"!=typeof window?window.location.origin:"https://stegmaier-landing.vercel.app";return Br.jsxs(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-4 sm:p-6 md:p-8 shadow-2xl border border-gray-100 relative overflow-hidden w-full max-w-md lg:max-w-none mx-auto",children:[Br.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-primary-500 via-accent-500 to-primary-500"}),Br.jsx("div",{className:"absolute top-4 right-4 w-20 h-20 border border-primary-200/30 rounded-full opacity-20"}),Br.jsx("div",{className:"absolute bottom-4 left-4 w-16 h-16 border border-accent-200/30 rounded-full opacity-15"}),Br.jsx(ft,{mode:"wait",children:e?Br.jsxs(ht.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center py-8 md:py-12",children:[Br.jsx(ht.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 sm:w-20 sm:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg",children:Br.jsx(Gt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-green-600"})}),Br.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 sm:mb-3",children:"¡Mensaje enviado!"}),Br.jsx("p",{className:"text-base sm:text-lg text-gray-600 mb-4 sm:mb-6",children:"Gracias por contactarnos. Te responderemos en menos de 24 horas."}),Br.jsxs("div",{className:"inline-flex items-center text-xs sm:text-sm text-green-600 font-semibold bg-green-50 px-3 sm:px-4 py-1 sm:py-2 rounded-full",children:[Br.jsx(Ht,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Respuesta garantizada en 24h"]})]},"success"):Br.jsx(Or,{initialValues:{name:"",email:"",phone:"",company:"",service:"",message:"",gotcha:""},validationSchema:r,onSubmit:(e,r)=>Ae(null,[e,r],function*(e,{setSubmitting:r,resetForm:s}){try{const n=yield fetch(`${a}/api/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=yield n.json();r(!1),i.success?(si.success("¡Mensaje enviado! Responderemos en menos de 24h"),t(!0),s(),setTimeout(()=>{t(!1)},4e3),i.messageId):si.error(i.message||"Error al enviar el mensaje")}catch(n){si.error("Error de conexión. Por favor intenta nuevamente."),r(!1)}}),children:({isSubmitting:e,errors:t,touched:r})=>Br.jsxs(Tr,{className:"px-1 sm:px-2",children:[Br.jsx("div",{className:"text-center mb-8",children:Br.jsxs(ht.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5},children:[Br.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Solicita tu cotización gratuita"}),Br.jsx("p",{className:"text-gray-600 text-lg",children:"Completa el formulario y te contactaremos en menos de 24 horas"})]})}),Br.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[Br.jsx(Lr,{type:"text",name:"_gotcha",style:{opacity:0,position:"absolute",top:0,left:0,height:0,width:0,zIndex:-1}}),Br.jsxs("div",{children:[Br.jsxs("label",{htmlFor:"name",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Nombre completo ",Br.jsx("span",{className:"text-red-500",children:"*"})]}),Br.jsx(Lr,{name:"name",type:"text",className:Ba("w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base bg-white rounded-lg border focus:outline-none focus:ring-2 transition-shadow",t.name&&r.name?"border-red-300 focus:ring-red-200":"border-gray-300 focus:ring-primary-200"),placeholder:"Ingresa tu nombre"}),Br.jsx(Ar,{name:"name",component:"div",className:"text-xs sm:text-sm text-red-600 mt-1"})]}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[Br.jsxs("div",{children:[Br.jsxs("label",{htmlFor:"email",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Email ",Br.jsx("span",{className:"text-red-500",children:"*"})]}),Br.jsx(Lr,{name:"email",type:"email",className:Ba("w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base bg-white rounded-lg border focus:outline-none focus:ring-2 transition-shadow",t.email&&r.email?"border-red-300 focus:ring-red-200":"border-gray-300 focus:ring-primary-200"),placeholder:"tu@email.com"}),Br.jsx(Ar,{name:"email",component:"div",className:"text-xs sm:text-sm text-red-600 mt-1"})]}),Br.jsxs("div",{children:[Br.jsxs("label",{htmlFor:"phone",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Teléfono ",Br.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),Br.jsx(Lr,{name:"phone",type:"text",className:"w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base bg-white rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-200 transition-shadow",placeholder:"+56 9 1234 5678"}),Br.jsx(Ar,{name:"phone",component:"div",className:"text-xs sm:text-sm text-red-600 mt-1"})]})]}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[Br.jsxs("div",{children:[Br.jsxs("label",{htmlFor:"company",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Empresa ",Br.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),Br.jsx(Lr,{name:"company",type:"text",className:"w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base bg-white rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-200 transition-shadow",placeholder:"Nombre de tu empresa"})]}),Br.jsxs("div",{children:[Br.jsxs("label",{htmlFor:"service",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Servicio ",Br.jsx("span",{className:"text-red-500",children:"*"})]}),Br.jsxs(Lr,{as:"select",name:"service",className:Ba("w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base bg-white rounded-lg border focus:outline-none focus:ring-2 transition-shadow appearance-none",t.service&&r.service?"border-red-300 focus:ring-red-200":"border-gray-300 focus:ring-primary-200"),children:[Br.jsx("option",{value:"",children:"Selecciona un servicio"}),s.map((e,t)=>Br.jsx("option",{value:e,children:e},t))]}),Br.jsx(Ar,{name:"service",component:"div",className:"text-xs sm:text-sm text-red-600 mt-1"})]})]}),Br.jsxs("div",{children:[Br.jsxs("label",{htmlFor:"message",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Mensaje ",Br.jsx("span",{className:"text-red-500",children:"*"})]}),Br.jsx(Lr,{as:"textarea",name:"message",className:Ba("w-full px-3 py-2 sm:px-4 sm:py-3 text-sm sm:text-base bg-white rounded-lg border focus:outline-none focus:ring-2 transition-shadow resize-none",t.message&&r.message?"border-red-300 focus:ring-red-200":"border-gray-300 focus:ring-primary-200"),placeholder:"¿En qué podemos ayudarte?",rows:4}),Br.jsx(Ar,{name:"message",component:"div",className:"text-xs sm:text-sm text-red-600 mt-1"})]}),Br.jsx("div",{className:"pt-2",children:Br.jsx(ra,{type:"submit",disabled:e,className:Ba("w-full flex items-center justify-center px-4 py-3 rounded-xl bg-gradient-to-r from-primary-600 to-accent-600 text-white font-semibold shadow-lg hover:shadow-xl transition-all",e?"opacity-70 cursor-not-allowed":"hover:translate-y-[-2px]"),children:e?Br.jsxs(Br.Fragment,{children:[Br.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Br.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Br.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):Br.jsxs(Br.Fragment,{children:[Br.jsx(Qt,{className:"mr-2 h-5 w-5"}),"Enviar Mensaje"]})})}),Br.jsxs("p",{className:"text-center text-xs sm:text-sm text-gray-500 mt-4",children:["Al enviar este formulario, aceptas nuestra"," ",Br.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-500 hover:underline",children:"Política de Privacidad"})]})]})]})})})]})},ni=({icon:e,title:t,subtitle:r,href:s,variant:a="primary",external:n=!1})=>{const i={primary:{bg:"from-primary-50 to-primary-100/50",icon:"bg-primary-100 text-primary-700",hover:"hover:from-primary-100 hover:to-primary-50",border:"border-primary-200/50"},accent:{bg:"from-accent-50 to-accent-100/50",icon:"bg-accent-100 text-accent-700",hover:"hover:from-accent-100 hover:to-accent-50",border:"border-accent-200/50"},success:{bg:"from-green-50 to-green-100/50",icon:"bg-green-100 text-green-700",hover:"hover:from-green-100 hover:to-green-50",border:"border-green-200/50"}}[a];return Br.jsxs(ht.a,{href:s,target:n?"_blank":void 0,rel:n?"noopener noreferrer":void 0,whileHover:{y:-8,scale:1.02},whileTap:{scale:.98},className:Ba("flex items-center gap-4 rounded-2xl p-6 bg-gradient-to-br border shadow-lg hover:shadow-xl transition-all duration-300 group relative overflow-hidden",i.bg,i.hover,i.border),children:[Br.jsx("div",{className:Ba("absolute top-0 left-0 right-0 h-1 bg-gradient-to-r opacity-60","primary"===a?"from-primary-500 to-primary-600":"accent"===a?"from-accent-500 to-accent-600":"from-green-500 to-green-600")}),Br.jsx(ht.div,{className:Ba("rounded-xl p-3 transition-all duration-300 shadow-md",i.icon),whileHover:{scale:1.1,rotate:5},children:Br.jsx(e,{className:"h-6 w-6"})}),Br.jsxs("div",{className:"flex-1",children:[Br.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-primary-700 transition-colors",children:t}),Br.jsx("p",{className:"text-sm text-gray-600 group-hover:text-gray-700 transition-colors",children:r})]}),Br.jsx(ht.div,{className:"opacity-0 group-hover:opacity-100 transition-opacity",whileHover:{scale:1.1},children:Br.jsx("div",{className:"w-8 h-8 rounded-full bg-white/70 flex items-center justify-center shadow-sm",children:Br.jsx(Qt,{className:"w-4 h-4 text-gray-600"})})})]})},ii=()=>{const e={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}};return Br.jsxs("section",{id:"contact",className:"section-unified-bg section-contact-bg content-overlay relative py-16 md:py-20 lg:py-24",children:[Br.jsx("div",{className:"section-overlay-pattern bg-noise-pattern opacity-30"}),Br.jsx("div",{className:"blur-transition-element blur-transition-top floating-transition"}),Br.jsxs(ht.div,{initial:{opacity:0,y:-30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16 px-4",children:[Br.jsxs(ht.span,{initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{duration:.5},className:"inline-block py-2 px-4 rounded-full bg-accent-500/30 text-white text-sm font-medium mb-3 backdrop-blur-sm shadow-sm",children:[Br.jsx("span",{className:"mr-2",children:"📞"}),"Contáctanos"]}),Br.jsxs("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-display font-black text-white leading-tight",children:["¿Listo para"," ",Br.jsxs("span",{className:"relative",children:[Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-accent-300 to-accent-500",children:"comenzar"}),Br.jsx(ht.span,{initial:{width:0},whileInView:{width:"100%"},viewport:{once:!0},transition:{duration:1,delay:.5},className:"absolute inset-x-0 bottom-1 h-3 bg-gradient-to-r from-primary-200 to-accent-200 rounded-lg"})]}),Br.jsx("br",{}),"tu transformación?"]}),Br.jsxs("p",{className:"mt-6 mx-auto max-w-3xl text-lg md:text-xl text-white/80 leading-relaxed",children:["Agenda una"," ",Br.jsx("span",{className:"font-semibold text-accent-300",children:"consulta gratuita"})," ","y descubre cómo podemos ayudarte a certificar tu empresa en tiempo récord."]})]}),Br.jsxs("div",{className:"max-w-7xl mx-auto px-4 w-full",children:[" ",Br.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 items-start w-full",children:[Br.jsxs("div",{className:"col-span-1 lg:col-span-7 w-full",children:[" ",Br.jsx(ai,{})]}),Br.jsxs("div",{className:"col-span-1 lg:col-span-5 w-full",children:[" ",Br.jsxs(ht.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,duration:.6}}},initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"space-y-6",children:[Br.jsx(ht.div,{variants:e,children:Br.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Otras formas de contacto"})}),Br.jsx(ht.div,{variants:e,children:Br.jsx(ni,{icon:Ft,title:"WhatsApp Business",subtitle:"Respuesta inmediata",href:"https://wa.me/+56987501114",variant:"success",external:!0})}),Br.jsx(ht.div,{variants:e,children:Br.jsx(ni,{icon:Bt,title:"+56 9 8750 1114",subtitle:"Llámanos en cualquier momento",href:"tel:+56987501114",variant:"primary"})}),Br.jsx(ht.div,{variants:e,children:Br.jsx(ni,{icon:Wt,title:"contacto@stegmaierconsulting.cl",subtitle:"Envíanos un email detallado",href:"mailto:contacto@stegmaierconsulting.cl",variant:"accent"})}),Br.jsx(ht.div,{variants:e,children:Br.jsx(ni,{icon:Vt,title:"Agendar reunión",subtitle:"Reserva una cita de 30 min sin costo",href:"#",variant:"primary"})}),Br.jsxs(ht.div,{variants:e,className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 border border-gray-100 shadow-lg mt-8 relative overflow-hidden",children:[Br.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-500 to-accent-500"}),Br.jsxs("div",{className:"flex items-start gap-4",children:[Br.jsx(ht.div,{className:"bg-primary-100 p-3 rounded-xl shadow-md",whileHover:{scale:1.05,rotate:5},children:Br.jsx(Ut,{className:"w-6 h-6 text-primary-700"})}),Br.jsxs("div",{children:[Br.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Casa Matriz"}),Br.jsx("p",{className:"text-gray-600 mb-1",children:"Peñuelas 2440, Quilpué"}),Br.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Atendemos presencial y remoto en todo Chile"}),Br.jsxs("div",{className:"flex items-center text-sm text-primary-600 font-semibold bg-primary-50 px-3 py-2 rounded-full",children:[Br.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Disponibles 24/7, todos los días"]})]})]})]}),Br.jsx(ht.div,{variants:e,className:"grid grid-cols-3 gap-4 pt-6",children:[{icon:"⚡",label:"Respuesta < 24h",color:"text-yellow-600"},{icon:"🔒",label:"Información segura",color:"text-green-600"},{icon:"✅",label:"Sin compromiso",color:"text-blue-600"}].map((e,t)=>Br.jsxs(ht.div,{whileHover:{scale:1.05,y:-2},className:"text-center p-4 bg-white/70 rounded-xl border border-gray-100 shadow-sm",children:[Br.jsx(ht.div,{className:"text-3xl mb-2",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,delay:.5*t},children:e.icon}),Br.jsx("div",{className:"text-xs text-gray-600 font-medium",children:e.label})]},t))})]})]})]})]}),Br.jsxs(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.3},className:"text-center mt-16 p-8 bg-gradient-to-r from-primary-600 to-accent-600 rounded-2xl text-white relative overflow-hidden shadow-2xl",children:[Br.jsx("div",{className:"absolute inset-0 bg-grid-white bg-[length:20px_20px] opacity-10"}),Br.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-accent-400 via-white/30 to-accent-400"}),Br.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 border border-white/10 rounded-full"}),Br.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 border border-white/10 rounded-full"}),Br.jsxs("div",{className:"relative z-10",children:[Br.jsxs(ht.div,{initial:{scale:.8},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5},children:[Br.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:"¿Prefieres que te llamemos nosotros?"}),Br.jsx("p",{className:"text-lg text-white/90 mb-6 max-w-2xl mx-auto",children:"Déjanos tu número y un consultor senior te contactará en el horario que prefieras."})]}),Br.jsx(ht.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:Br.jsxs(ra,{size:"lg",className:"text-primary-700 hover:bg-gray-100 font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[Br.jsx("span",{className:"mr-2",children:"📞"}),"Solicitar llamada"]})})]})]})]})};var oi,li,ci,di,ui,mi,hi,xi,pi,gi,fi,bi,vi,yi,ji,wi,Ni,ki,Ci,Si,Ei,_i,Mi,Ii,Oi,Ti,Li,Ai,Di,Pi,Ri,zi,$i,qi,Fi,Bi,Wi,Vi,Ui,Hi,Gi,Qi,Xi,Ki,Yi,Ji,Zi,eo,to,ro,so,ao,no,io,oo,lo,co,uo,mo,ho={exports:{}};function xo(){return li||(li=1,oi=function(e,t){return function(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];return e.apply(t,r)}}),oi}function po(){if(di)return ci;di=1;var e=xo(),t=Object.prototype.toString;function r(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===t.call(e)}function n(e){return null!==e&&"object"==typeof e}function i(e){if("[object Object]"!==t.call(e))return!1;var r=Object.getPrototypeOf(e);return null===r||r===Object.prototype}function o(e){return"[object Function]"===t.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}return ci={isArray:r,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===t.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:n,isPlainObject:i,isUndefined:s,isDate:function(e){return"[object Date]"===t.call(e)},isFile:function(e){return"[object File]"===t.call(e)},isBlob:function(e){return"[object Blob]"===t.call(e)},isFunction:o,isStream:function(e){return n(e)&&o(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===t.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function s(s,a){i(t[a])&&i(s)?t[a]=e(t[a],s):i(s)?t[a]=e({},s):r(s)?t[a]=s.slice():t[a]=s}for(var a=0,n=arguments.length;a<n;a++)l(arguments[a],s);return t},extend:function(t,r,s){return l(r,function(r,a){t[a]=s&&"function"==typeof r?e(r,s):r}),t},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},ci}function go(){if(mi)return ui;mi=1;var e=po();function t(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return ui=function(r,s,a){if(!s)return r;var n;if(a)n=a(s);else if(e.isURLSearchParams(s))n=s.toString();else{var i=[];e.forEach(s,function(r,s){null!=r&&(e.isArray(r)?s+="[]":r=[r],e.forEach(r,function(r){e.isDate(r)?r=r.toISOString():e.isObject(r)&&(r=JSON.stringify(r)),i.push(t(s)+"="+t(r))}))}),n=i.join("&")}if(n){var o=r.indexOf("#");-1!==o&&(r=r.slice(0,o)),r+=(-1===r.indexOf("?")?"?":"&")+n}return r}}function fo(){return bi?fi:(bi=1,fi=function(e,t,r,s,a){return e.config=t,r&&(e.code=r),e.request=s,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e})}function bo(){return yi?vi:(yi=1,vi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1})}function vo(){if(wi)return ji;wi=1;var e=fo();return ji=function(t,r,s,a,n){var i=new Error(t);return e(i,r,s,a,n)}}function yo(){if(Ti)return Oi;Ti=1;var e=_i?Ei:(_i=1,Ei=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),t=Ii?Mi:(Ii=1,Mi=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e});return Oi=function(r,s){return r&&!e(s)?t(r,s):s}}function jo(){if(zi)return Ri;function e(e){this.message=e}return zi=1,e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Ri=e}function wo(){if(qi)return $i;qi=1;var e=po(),t=function(){if(ki)return Ni;ki=1;var e=vo();return Ni=function(t,r,s){var a=s.config.validateStatus;s.status&&a&&!a(s.status)?r(e("Request failed with status code "+s.status,s.config,null,s.request,s)):t(s)}}(),r=function(){if(Si)return Ci;Si=1;var e=po();return Ci=e.isStandardBrowserEnv()?function(){return{write:function(t,r,s,a,n,i){var o=[];o.push(t+"="+encodeURIComponent(r)),e.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),e.isString(a)&&o.push("path="+a),e.isString(n)&&o.push("domain="+n),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()}(),s=go(),a=yo(),n=function(){if(Ai)return Li;Ai=1;var e=po(),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Li=function(r){var s,a,n,i={};return r?(e.forEach(r.split("\n"),function(r){if(n=r.indexOf(":"),s=e.trim(r.substr(0,n)).toLowerCase(),a=e.trim(r.substr(n+1)),s){if(i[s]&&t.indexOf(s)>=0)return;i[s]="set-cookie"===s?(i[s]?i[s]:[]).concat([a]):i[s]?i[s]+", "+a:a}}),i):i}}(),i=function(){if(Pi)return Di;Pi=1;var e=po();return Di=e.isStandardBrowserEnv()?function(){var t,r=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");function a(e){var t=e;return r&&(s.setAttribute("href",t),t=s.href),s.setAttribute("href",t),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}return t=a(window.location.href),function(r){var s=e.isString(r)?a(r):r;return s.protocol===t.protocol&&s.host===t.host}}():function(){return function(){return!0}}()}(),o=vo(),l=bo(),c=jo();return $i=function(d){return new Promise(function(u,m){var h,x=d.data,p=d.headers,g=d.responseType;function f(){d.cancelToken&&d.cancelToken.unsubscribe(h),d.signal&&d.signal.removeEventListener("abort",h)}e.isFormData(x)&&delete p["Content-Type"];var b=new XMLHttpRequest;if(d.auth){var v=d.auth.username||"",y=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";p.Authorization="Basic "+btoa(v+":"+y)}var j=a(d.baseURL,d.url);function w(){if(b){var e="getAllResponseHeaders"in b?n(b.getAllResponseHeaders()):null,r={data:g&&"text"!==g&&"json"!==g?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:e,config:d,request:b};t(function(e){u(e),f()},function(e){m(e),f()},r),b=null}}if(b.open(d.method.toUpperCase(),s(j,d.params,d.paramsSerializer),!0),b.timeout=d.timeout,"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(w)},b.onabort=function(){b&&(m(o("Request aborted",d,"ECONNABORTED",b)),b=null)},b.onerror=function(){m(o("Network Error",d,null,b)),b=null},b.ontimeout=function(){var e=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",t=d.transitional||l;d.timeoutErrorMessage&&(e=d.timeoutErrorMessage),m(o(e,d,t.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},e.isStandardBrowserEnv()){var N=(d.withCredentials||i(j))&&d.xsrfCookieName?r.read(d.xsrfCookieName):void 0;N&&(p[d.xsrfHeaderName]=N)}"setRequestHeader"in b&&e.forEach(p,function(e,t){void 0===x&&"content-type"===t.toLowerCase()?delete p[t]:b.setRequestHeader(t,e)}),e.isUndefined(d.withCredentials)||(b.withCredentials=!!d.withCredentials),g&&"json"!==g&&(b.responseType=d.responseType),"function"==typeof d.onDownloadProgress&&b.addEventListener("progress",d.onDownloadProgress),"function"==typeof d.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(h=function(e){b&&(m(!e||e&&e.type?new c("canceled"):e),b.abort(),b=null)},d.cancelToken&&d.cancelToken.subscribe(h),d.signal&&(d.signal.aborted?h():d.signal.addEventListener("abort",h))),x||(x=null),b.send(x)})}}function No(){if(Bi)return Fi;Bi=1;var e=po(),t=function(){if(gi)return pi;gi=1;var e=po();return pi=function(t,r){e.forEach(t,function(e,s){s!==r&&s.toUpperCase()===r.toUpperCase()&&(t[r]=e,delete t[s])})}}(),r=fo(),s=bo(),a={"Content-Type":"application/x-www-form-urlencoded"};function n(t,r){!e.isUndefined(t)&&e.isUndefined(t["Content-Type"])&&(t["Content-Type"]=r)}var i,o={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(i=wo()),i),transformRequest:[function(r,s){return t(s,"Accept"),t(s,"Content-Type"),e.isFormData(r)||e.isArrayBuffer(r)||e.isBuffer(r)||e.isStream(r)||e.isFile(r)||e.isBlob(r)?r:e.isArrayBufferView(r)?r.buffer:e.isURLSearchParams(r)?(n(s,"application/x-www-form-urlencoded;charset=utf-8"),r.toString()):e.isObject(r)||s&&"application/json"===s["Content-Type"]?(n(s,"application/json"),function(t,r,s){if(e.isString(t))try{return(r||JSON.parse)(t),e.trim(t)}catch(Dn){if("SyntaxError"!==Dn.name)throw Dn}return(s||JSON.stringify)(t)}(r)):r}],transformResponse:[function(t){var s=this.transitional||o.transitional,a=s&&s.silentJSONParsing,n=s&&s.forcedJSONParsing,i=!a&&"json"===this.responseType;if(i||n&&e.isString(t)&&t.length)try{return JSON.parse(t)}catch(Dn){if(i){if("SyntaxError"===Dn.name)throw r(Dn,this,"E_JSON_PARSE");throw Dn}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(e){o.headers[e]={}}),e.forEach(["post","put","patch"],function(t){o.headers[t]=e.merge(a)}),Fi=o}function ko(){return Hi?Ui:(Hi=1,Ui=function(e){return!(!e||!e.__CANCEL__)})}function Co(){if(Qi)return Gi;Qi=1;var e=po(),t=function(){if(Vi)return Wi;Vi=1;var e=po(),t=No();return Wi=function(r,s,a){var n=this||t;return e.forEach(a,function(e){r=e.call(n,r,s)}),r}}(),r=ko(),s=No(),a=jo();function n(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}return Gi=function(a){return n(a),a.headers=a.headers||{},a.data=t.call(a,a.data,a.headers,a.transformRequest),a.headers=e.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(e){delete a.headers[e]}),(a.adapter||s.adapter)(a).then(function(e){return n(a),e.data=t.call(a,e.data,e.headers,a.transformResponse),e},function(e){return r(e)||(n(a),e&&e.response&&(e.response.data=t.call(a,e.response.data,e.response.headers,a.transformResponse))),Promise.reject(e)})}}function So(){if(Ki)return Xi;Ki=1;var e=po();return Xi=function(t,r){r=r||{};var s={};function a(t,r){return e.isPlainObject(t)&&e.isPlainObject(r)?e.merge(t,r):e.isPlainObject(r)?e.merge({},r):e.isArray(r)?r.slice():r}function n(s){return e.isUndefined(r[s])?e.isUndefined(t[s])?void 0:a(void 0,t[s]):a(t[s],r[s])}function i(t){if(!e.isUndefined(r[t]))return a(void 0,r[t])}function o(s){return e.isUndefined(r[s])?e.isUndefined(t[s])?void 0:a(void 0,t[s]):a(void 0,r[s])}function l(e){return e in r?a(t[e],r[e]):e in t?a(void 0,t[e]):void 0}var c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l};return e.forEach(Object.keys(t).concat(Object.keys(r)),function(t){var r=c[t]||n,a=r(t);e.isUndefined(a)&&r!==l||(s[t]=a)}),s}}function Eo(){return Ji?Yi:(Ji=1,Yi={version:"0.26.1"})}function _o(){if(eo)return Zi;eo=1;var e=Eo().version,t={};["object","boolean","number","function","string","symbol"].forEach(function(e,r){t[e]=function(t){return typeof t===e||"a"+(r<1?"n ":" ")+e}});var r={};return t.transitional=function(t,s,a){return function(n,i,o){if(!1===t)throw new Error(function(t,r){return"[Axios v"+e+"] Transitional option '"+t+"'"+r+(a?". "+a:"")}(i," has been removed"+(s?" in "+s:"")));return s&&!r[i]&&(r[i]=!0),!t||t(n,i,o)}},Zi={assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var s=Object.keys(e),a=s.length;a-- >0;){var n=s[a],i=t[n];if(i){var o=e[n],l=void 0===o||i(o,n,e);if(!0!==l)throw new TypeError("option "+n+" must be "+l)}else if(!0!==r)throw Error("Unknown option "+n)}},validators:t},Zi}function Mo(){if(ro)return to;ro=1;var e=po(),t=go(),r=function(){if(xi)return hi;xi=1;var e=po();function t(){this.handlers=[]}return t.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},t.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},t.prototype.forEach=function(t){e.forEach(this.handlers,function(e){null!==e&&t(e)})},hi=t}(),s=Co(),a=So(),n=_o(),i=n.validators;function o(e){this.defaults=e,this.interceptors={request:new r,response:new r}}return o.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&n.assertOptions(r,{silentJSONParsing:i.transitional(i.boolean),forcedJSONParsing:i.transitional(i.boolean),clarifyTimeoutError:i.transitional(i.boolean)},!1);var o=[],l=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});var c,d=[];if(this.interceptors.response.forEach(function(e){d.push(e.fulfilled,e.rejected)}),!l){var u=[s,void 0];for(Array.prototype.unshift.apply(u,o),u=u.concat(d),c=Promise.resolve(t);u.length;)c=c.then(u.shift(),u.shift());return c}for(var m=t;o.length;){var h=o.shift(),x=o.shift();try{m=h(m)}catch(p){x(p);break}}try{c=s(m)}catch(p){return Promise.reject(p)}for(;d.length;)c=c.then(d.shift(),d.shift());return c},o.prototype.getUri=function(e){return e=a(this.defaults,e),t(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},e.forEach(["delete","get","head","options"],function(e){o.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}}),e.forEach(["post","put","patch"],function(e){o.prototype[e]=function(t,r,s){return this.request(a(s||{},{method:e,url:t,data:r}))}}),to=o}function Io(){if(co)return ho.exports;co=1;var e=po(),t=xo(),r=Mo(),s=So();var a=function a(n){var i=new r(n),o=t(r.prototype.request,i);return e.extend(o,r.prototype,i),e.extend(o,i),o.create=function(e){return a(s(n,e))},o}(No());return a.Axios=r,a.Cancel=jo(),a.CancelToken=function(){if(ao)return so;ao=1;var e=jo();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(e){r=e});var s=this;this.promise.then(function(e){if(s._listeners){var t,r=s._listeners.length;for(t=0;t<r;t++)s._listeners[t](e);s._listeners=null}}),this.promise.then=function(e){var t,r=new Promise(function(e){s.subscribe(e),t=e}).then(e);return r.cancel=function(){s.unsubscribe(t)},r},t(function(t){s.reason||(s.reason=new e(t),r(s.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t(function(t){e=t}),cancel:e}},so=t}(),a.isCancel=ko(),a.VERSION=Eo().version,a.all=function(e){return Promise.all(e)},a.spread=io?no:(io=1,no=function(e){return function(t){return e.apply(null,t)}}),a.isAxiosError=function(){if(lo)return oo;lo=1;var e=po();return oo=function(t){return e.isObject(t)&&!0===t.isAxiosError}}(),ho.exports=a,ho.exports.default=a,ho.exports}const Oo=Re(mo?uo:(mo=1,uo=Io())),To=(e,...t)=>{},Lo=(e,...t)=>{},Ao=(e,...t)=>{},Do=(()=>{{const e="/api/v1".replace(/^http:\/\//,"https://");return To("[API Config] Using environment API URL",e),e}})(),Po={"Content-Type":"application/json"},Ro="/courses",zo="/courses/available",$o="/lessons",qo="/enrollments",Fo="/progress",Bo="/analytics",Wo="/media",Vo="/quizzes",Uo="/assignments",Ho="/admin";function Go(e){const t=e.startsWith("/")?e:`/${e}`,r=`${Do}${t}`;if(r.startsWith("http://")){const e=r.replace("http://","https://");return Lo("[API Config] Converting to HTTPS",e),e}return r}function Qo(){const e=localStorage.getItem("auth_token");return ke(ke({},Po),e&&{Authorization:`Bearer ${e}`})}Do||Ao("[API Config] No API base URL configured for production!");const Xo=e=>Ae(null,null,function*(){const t={username:e.email,password:e.password},r=yield Oo.post(Go("/auth/login"),t);if(r.data&&r.data.access_token){localStorage.setItem("auth_token",r.data.access_token);const e={id:r.data.user_id,username:r.data.username,email:r.data.email,role:r.data.role};localStorage.setItem("auth_user",JSON.stringify(e))}return r.data}),Ko=e=>Ae(null,null,function*(){const t=yield Oo.post(Go("/auth/register"),e);if(t.data&&t.data.access_token){localStorage.setItem("auth_token",t.data.access_token);const e={id:t.data.user_id,username:t.data.username,email:t.data.email,role:t.data.role};localStorage.setItem("auth_user",JSON.stringify(e))}return t.data}),Yo=e=>Ae(null,null,function*(){return(yield Oo.post(Go("/auth/verify-email"),{token:e})).data}),Jo=e=>Ae(null,null,function*(){return(yield Oo.post(Go("/auth/resend-verification"),{email:e})).data}),Zo=()=>{localStorage.clear(),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),localStorage.removeItem("redirect_after_logout")},el=()=>Ae(null,null,function*(){const e=(yield Oo.get(Go("/auth/me"),{headers:Qo()})).data,t={id:e._id||e.id||"",email:e.email||"",username:e.username||"",full_name:e.full_name||`${e.firstName||e.first_name||""} ${e.lastName||e.last_name||""}`.trim()||e.username||"Usuario",firstName:e.firstName||e.first_name||(e.full_name?e.full_name.split(" ")[0]:""),lastName:e.lastName||e.last_name||(e.full_name?e.full_name.split(" ").slice(1).join(" "):""),role:e.role||"student",verified:e.verified||e.is_verified||!1,profileImage:e.profileImage||e.profile_picture||"",createdAt:e.createdAt||e.created_at||(new Date).toISOString(),updatedAt:e.updatedAt||e.updated_at||(new Date).toISOString()};return localStorage.setItem("auth_user",JSON.stringify(t)),t}),tl=ze.createContext(void 0),rl={user:null,token:null,isAuthenticated:!1,isVerified:!1,isLoading:!0,error:null},sl=({children:e})=>{const[t,r]=ze.useState(()=>{const e=localStorage.getItem("auth_token"),t=localStorage.getItem("auth_user");let r=null;try{t&&(r=JSON.parse(t))}catch(s){}return Ce(ke({},rl),{user:r,token:e,isAuthenticated:!!e,isVerified:r&&r.verified||!1,isLoading:!!e})});ze.useEffect(()=>{t.isLoading&&Ae(null,null,function*(){const e=document.referrer.includes(window.location.origin)&&"/"===window.location.pathname;if(t.token&&!e)try{const e=yield el(),t=Ce(ke({},e),{full_name:e.full_name||`${e.firstName||""} ${e.lastName||""}`.trim(),createdAt:e.createdAt||(new Date).toISOString()});r(e=>Ce(ke({},e),{user:t,isAuthenticated:!0,isVerified:!0,isLoading:!1,error:null}))}catch(s){localStorage.clear(),r({user:null,token:null,isAuthenticated:!1,isVerified:!1,isLoading:!1,error:null})}else r(e=>Ce(ke({},e),{isLoading:!1}))})},[t.token,t.isLoading]);const s=Ce(ke({},t),{login:e=>Ae(null,null,function*(){var t,s;try{r(e=>Ce(ke({},e),{isLoading:!0,error:null}));const t=yield Xo(e);try{const e=yield el();r({user:e,token:t.access_token,isAuthenticated:!0,isVerified:!0,isLoading:!1,error:null})}catch(a){const e={id:t.user_id,email:t.email,firstName:t.first_name||"",lastName:t.last_name||"",full_name:t.full_name||`${t.first_name||""} ${t.last_name||""}`.trim(),role:t.role,verified:!0,createdAt:t.created_at||(new Date).toISOString(),updatedAt:t.updated_at||(new Date).toISOString()};r({user:e,token:t.access_token,isAuthenticated:!0,isVerified:!0,isLoading:!1,error:null})}}catch(n){const e=(null==(s=null==(t=n.response)?void 0:t.data)?void 0:s.detail)||"Error al iniciar sesión";throw r(t=>Ce(ke({},t),{isLoading:!1,error:e})),n}}),register:e=>Ae(null,null,function*(){var t,s;try{r(e=>Ce(ke({},e),{isLoading:!0,error:null}));const t=yield Ko(e);try{const e=yield el();r({user:e,token:t.access_token,isAuthenticated:!0,isVerified:e.verified,isLoading:!1,error:null})}catch(a){const s={id:t.user_id,email:e.email,firstName:e.firstName,lastName:e.lastName,full_name:`${e.firstName} ${e.lastName}`.trim(),role:t.role,verified:!1,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};r({user:s,token:t.access_token,isAuthenticated:!0,isVerified:!1,isLoading:!1,error:null})}}catch(n){const e=(null==(s=null==(t=n.response)?void 0:t.data)?void 0:s.detail)||"Error al registrar usuario";throw r(t=>Ce(ke({},t),{isLoading:!1,error:e})),n}}),logout:()=>{const e=window.location.origin+"/";r({user:null,token:null,isAuthenticated:!1,isVerified:!1,isLoading:!1,error:null}),Zo(),window.location.replace(e)},verifyEmail:e=>Ae(null,null,function*(){var s,a;try{r(e=>Ce(ke({},e),{isLoading:!0,error:null}));const s=yield Yo(e);if(s.success&&t.user){const e=Ce(ke({},t.user),{verified:!0});localStorage.setItem("auth_user",JSON.stringify(e)),r(t=>Ce(ke({},t),{user:e,isVerified:!0,isLoading:!1,error:null}))}return s.success}catch(n){const e=(null==(a=null==(s=n.response)?void 0:s.data)?void 0:a.detail)||"Error al verificar correo";return r(t=>Ce(ke({},t),{isLoading:!1,error:e})),!1}}),resendVerification:e=>Ae(null,null,function*(){var t,s;try{r(e=>Ce(ke({},e),{isLoading:!0,error:null}));const t=yield Jo(e);return r(e=>Ce(ke({},e),{isLoading:!1})),t.success}catch(a){const e=(null==(s=null==(t=a.response)?void 0:t.data)?void 0:s.detail)||"Error al reenviar verificación";return r(t=>Ce(ke({},t),{isLoading:!1,error:e})),!1}}),clearError:()=>{r(e=>Ce(ke({},e),{error:null}))}});return Br.jsx(tl.Provider,{value:s,children:e})},al=()=>{const e=ze.useContext(tl);if(void 0===e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e};const nl=new class{constructor(){Ee(this,"baseUrl","/notifications")}getUserNotifications(e,t=1,r=20){return Ae(this,null,function*(){var s,a;try{const s=new URLSearchParams({page:t.toString(),per_page:r.toString()});e&&s.append("status",e);return(yield Oo.get(Go(`${this.baseUrl}/?${s}`),{headers:Qo()})).data}catch(n){const e=(null==(a=null==(s=n.response)?void 0:s.data)?void 0:a.detail)||"Error fetching notifications";throw new Error(e)}})}getUnreadCount(){return Ae(this,null,function*(){var e,t,r;try{const t=yield Oo.get(Go(`${this.baseUrl}/unread-count`),{headers:Qo()});return(null==(e=t.data)?void 0:e.unread_count)||0}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error fetching unread count";throw new Error(e)}})}markAsRead(e){return Ae(this,null,function*(){var t,r;try{yield Oo.patch(Go(`${this.baseUrl}/${e}/read`),{},{headers:Qo()})}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error marking notification as read";throw new Error(e)}})}markAllAsRead(){return Ae(this,null,function*(){var e,t,r,s,a;try{const s=yield Oo.patch(Go(`${this.baseUrl}/mark-all-read`),{},{headers:Qo()});return(null==(r=null==(t=null==(e=s.data)?void 0:e.message)?void 0:t.match(/\d+/))?void 0:r[0])||0}catch(n){const e=(null==(a=null==(s=n.response)?void 0:s.data)?void 0:a.detail)||"Error marking all notifications as read";throw new Error(e)}})}deleteNotification(e){return Ae(this,null,function*(){var t,r;try{yield Oo.delete(Go(`${this.baseUrl}/${e}`),{headers:Qo()})}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error deleting notification";throw new Error(e)}})}archiveNotification(e){return Ae(this,null,function*(){var t,r;try{yield Oo.patch(Go(`${this.baseUrl}/${e}/archive`),{},{headers:Qo()})}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error archiving notification";throw new Error(e)}})}createNotification(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.post(Go(this.baseUrl),e,{headers:Qo()})).data}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error creating notification";throw new Error(e)}})}createBulkNotifications(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.post(Go(`${this.baseUrl}/bulk`),e,{headers:Qo()})).data}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error creating bulk notifications";throw new Error(e)}})}notifyCourseCompletion(e,t,r,s){return Ae(this,null,function*(){yield Oo.post(Go(`${this.baseUrl}/course-completion`),{student_id:e,course_id:t,course_title:r},{headers:Qo()})})}notifyCourseProgress(e,t,r,s,a){return Ae(this,null,function*(){yield Oo.post(Go(`${this.baseUrl}/course-progress`),{student_id:e,course_id:t,course_title:r,instructor_id:s,progress_percentage:a},{headers:Qo()})})}notifyNewEnrollment(e,t,r,s,a){return Ae(this,null,function*(){yield Oo.post(Go(`${this.baseUrl}/enrollment`),{student_id:e,course_id:t,course_title:r,instructor_id:s,student_name:a},{headers:Qo()})})}notifyQuizCompletion(e,t,r,s,a,n){return Ae(this,null,function*(){yield Oo.post(Go(`${this.baseUrl}/quiz-completion`),{student_id:e,quiz_id:t,quiz_title:r,course_id:s,instructor_id:a,score:n},{headers:Qo()})})}formatTimestamp(e){const t=new Date,r=new Date(e),s=t.getTime()-r.getTime(),a=Math.floor(s/6e4),n=Math.floor(s/36e5),i=Math.floor(s/864e5);return a<1?"Ahora":a<60?`${a}m`:n<24?`${n}h`:`${i}d`}getNotificationIcon(e){return{course_completion:"🎓",course_progress:"📈",new_course:"📚",enrollment:"👥",quiz_completed:"✅",assignment_submitted:"📝",certificate_awarded:"🏆",course_published:"🚀",lesson_completed:"✏️",system_update:"🔔"}[e]||"🔔"}mapNotificationType(e){return{course_completion:"success",course_progress:"info",new_course:"info",enrollment:"success",quiz_completed:"success",assignment_submitted:"info",certificate_awarded:"success",course_published:"info",lesson_completed:"success",system_update:"warning"}[e]||"info"}};const il=new class{constructor(){Ee(this,"swRegistration",null),Ee(this,"vapidPublicKey",(null==(xe=null==(he=import.meta)?void 0:he.env)?void 0:xe.VITE_VAPID_PUBLIC_KEY)||"BEl62iUYgUivxIkv69yViEuiBIa40HI80NM-8Ll2OkuefZx7c27y6HyP9zt3J4FhJKhUQfqPx5f8BdHxmqZx0q4")}initialize(){return Ae(this,null,function*(){try{return!!this.isSupported()&&(this.swRegistration=yield this.registerServiceWorker(),this.setupMessageListeners(),!0)}catch(e){return!1}})}isSupported(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}getPermissionState(){return Ae(this,null,function*(){const e=Notification.permission,t=this.isSupported();let r=!1;if(t&&this.swRegistration){r=!!(yield this.swRegistration.pushManager.getSubscription())}return{permission:e,supported:t,subscribed:r}})}requestPermission(){return Ae(this,null,function*(){if(!this.isSupported())throw new Error("Notificaciones no soportadas");const e=yield Notification.requestPermission();return"granted"===e&&(yield this.subscribe()),e})}subscribe(){return Ae(this,null,function*(){try{if(!this.swRegistration)throw new Error("Service Worker no registrado");if("granted"!==Notification.permission)throw new Error("Permisos no concedidos");const e=this.urlBase64ToUint8Array(this.vapidPublicKey),t=yield this.swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e});return yield this.sendSubscriptionToBackend(t),t}catch(e){return null}})}unsubscribe(){return Ae(this,null,function*(){try{if(!this.swRegistration)return!1;const e=yield this.swRegistration.pushManager.getSubscription();if(!e)return!0;const t=yield e.unsubscribe();return t&&(yield this.removeSubscriptionFromBackend(e)),t}catch(e){return!1}})}showNotification(e){return Ae(this,arguments,function*(e,t={}){if(!this.swRegistration)throw new Error("Service Worker no disponible");const r={icon:"/favicon.ico",badge:"/favicon.ico",data:{timestamp:Date.now()}},s=ke(ke({},r),t);"vibrate"in navigator&&"function"==typeof navigator.vibrate&&(s.vibrate=[200,100,200]),s.actions||(s.actions=[{action:"view",title:"Ver",icon:"/icons/view-icon.png"},{action:"close",title:"Cerrar",icon:"/icons/close-icon.png"}]),yield this.swRegistration.showNotification(e,s)})}registerServiceWorker(){return Ae(this,null,function*(){const e=yield navigator.serviceWorker.register("/sw.js",{scope:"/"});return yield navigator.serviceWorker.ready,e})}setupMessageListeners(){navigator.serviceWorker.addEventListener("message",e=>{const{type:t,data:r}=e.data;switch(t){case"NOTIFICATION_CLICKED":this.handleNotificationClick(r);break;case"NOTIFICATION_CLOSED":this.handleNotificationClose(r)}})}handleNotificationClick(e){e.action_url&&window.open(e.action_url,"_blank"),e.notification_id&&nl.markAsRead(e.notification_id).catch(console.error)}handleNotificationClose(e){}sendSubscriptionToBackend(e){return Ae(this,null,function*(){try{const t={endpoint:e.endpoint,keys:{p256dh:this.arrayBufferToBase64(e.getKey("p256dh")),auth:this.arrayBufferToBase64(e.getKey("auth"))}};if(!(yield fetch(Go("push-subscriptions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(t)})).ok)throw new Error("Error enviando suscripción al backend")}catch(t){throw t}})}removeSubscriptionFromBackend(e){return Ae(this,null,function*(){try{if(!(yield fetch(Go("push-subscriptions"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({endpoint:e.endpoint})})).ok)throw new Error("Error removiendo suscripción del backend")}catch(t){}})}urlBase64ToUint8Array(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(t),s=new Uint8Array(r.length);for(let a=0;a<r.length;++a)s[a]=r.charCodeAt(a);return s}arrayBufferToBase64(e){const t=new Uint8Array(e);let r="";for(let s=0;s<t.byteLength;s++)r+=String.fromCharCode(t[s]);return window.btoa(r)}},ol={emailNotifications:!0,pushNotifications:!1,courseCompletions:!0,newCourses:!0,progressUpdates:!0,systemUpdates:!0,marketingEmails:!1},ll=ze.createContext(void 0),cl=({children:e})=>{const{isAuthenticated:t,user:r}=al(),[s,a]=ze.useState([]),[n,i]=ze.useState(0),[o,l]=ze.useState(!1),[c,d]=ze.useState(null),[u,m]=ze.useState(1),[h,x]=ze.useState(1),[p,g]=ze.useState(!1),[f,b]=ze.useState({permission:"default",supported:!1,subscribed:!1}),[v,y]=ze.useState(ol);ze.useEffect(()=>{t&&(j(),w(),T())},[t]),ze.useEffect(()=>{if(!t)return;const e=setInterval(()=>{_()},3e4);return()=>clearInterval(e)},[t]);const j=()=>Ae(null,null,function*(){try{yield N(1),yield _()}catch(e){d("Error cargando notificaciones")}}),w=()=>Ae(null,null,function*(){try{if(yield il.initialize()){const e=yield il.getPermissionState();b(e)}}catch(e){}}),N=ze.useCallback((e=1,r)=>Ae(null,null,function*(){if(t)try{l(!0),d(null);const t=yield nl.getUserNotifications(r,e,20);a(1===e?t.notifications:e=>[...e,...t.notifications]),m(e),x(Math.ceil(t.total/20)),g(e<Math.ceil(t.total/20)),i(t.unread_count)}catch(s){d("Error cargando notificaciones")}finally{l(!1)}}),[t]),k=ze.useCallback(e=>Ae(null,null,function*(){try{yield nl.markAsRead(e),a(t=>t.map(t=>t.id===e?Ce(ke({},t),{status:"read"}):t)),i(e=>Math.max(0,e-1))}catch(t){d("Error marcando notificación como leída")}}),[]),C=ze.useCallback(()=>Ae(null,null,function*(){try{yield nl.markAllAsRead(),a(e=>e.map(e=>Ce(ke({},e),{status:"read"}))),i(0)}catch(e){d("Error marcando todas las notificaciones como leídas")}}),[]),S=ze.useCallback(e=>Ae(null,null,function*(){try{yield nl.deleteNotification(e);const t=s.find(t=>t.id===e&&"unread"===t.status);a(t=>(Array.isArray(t)?t:[]).filter(t=>t.id!==e)),t&&i(e=>Math.max(0,e-1))}catch(t){d("Error eliminando notificación")}}),[s]),E=ze.useCallback(e=>Ae(null,null,function*(){try{yield nl.archiveNotification(e),a(t=>t.map(t=>t.id===e?Ce(ke({},t),{status:"archived"}):t));s.find(t=>t.id===e&&"unread"===t.status)&&i(e=>Math.max(0,e-1))}catch(t){d("Error archivando notificación")}}),[s]),_=ze.useCallback(()=>Ae(null,null,function*(){if(t)try{const e=yield nl.getUnreadCount();i(e)}catch(e){}}),[t]),M=ze.useCallback(()=>Ae(null,null,function*(){try{const e=yield il.requestPermission(),t=yield il.getPermissionState();return b(t),"granted"===e&&(yield L({pushNotifications:!0})),e}catch(e){return d("Error solicitando permisos de notificación"),"denied"}}),[]),I=ze.useCallback(()=>Ae(null,null,function*(){try{const e=yield il.subscribe(),t=yield il.getPermissionState();return b(t),!!e}catch(e){return d("Error suscribiéndose a notificaciones push"),!1}}),[]),O=ze.useCallback(()=>Ae(null,null,function*(){try{const e=yield il.unsubscribe(),t=yield il.getPermissionState();return b(t),e&&(yield L({pushNotifications:!1})),e}catch(e){return d("Error cancelando suscripción a notificaciones push"),!1}}),[]),T=ze.useCallback(()=>Ae(null,null,function*(){try{const e=localStorage.getItem(`notification_preferences_${null==r?void 0:r.id}`);if(e){const t=JSON.parse(e);y(ke(ke({},ol),t))}}catch(e){}}),[null==r?void 0:r.id]),L=ze.useCallback(e=>Ae(null,null,function*(){try{const t=ke(ke({},v),e);y(t),localStorage.setItem(`notification_preferences_${null==r?void 0:r.id}`,JSON.stringify(t))}catch(t){d("Error actualizando preferencias")}}),[v,null==r?void 0:r.id]),A=ze.useCallback((e,t,...r)=>Ae(null,[e,t,...r],function*(e,t,r={}){try{yield il.showNotification(e,ke({body:t},r))}catch(s){}}),[]),D=ze.useCallback(()=>{d(null)},[]),P={notifications:s,unreadCount:n,loading:o,error:c,currentPage:u,totalPages:h,hasMore:p,loadNotifications:N,markAsRead:k,markAllAsRead:C,deleteNotification:S,archiveNotification:E,refreshUnreadCount:_,pushPermissionState:f,requestPushPermission:M,subscribeToPush:I,unsubscribeFromPush:O,preferences:v,updatePreferences:L,clearError:D,showLocalNotification:A};return Br.jsx(ll.Provider,{value:P,children:e})},dl=()=>{const e=ze.useContext(ll);if(void 0===e)throw new Error("useNotifications must be used within a NotificationProvider");return e};class ul extends ze.Component{constructor(e){super(e),Ee(this,"retryTimeoutId",null),Ee(this,"trackError",(e,t)=>{try{window&&window.gtag&&window.gtag("event","exception",{description:`${e.message} | ${t.componentStack}`,fatal:!1})}catch(r){}}),Ee(this,"handleRetry",()=>{this.setState(e=>({hasError:!1,error:null,errorInfo:null,retryCount:e.retryCount+1})),this.retryTimeoutId=setTimeout(()=>{},100)}),Ee(this,"handleReload",()=>{window.location.reload()}),Ee(this,"handleHome",()=>{window.location.href="/"}),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),this.props.onError&&this.props.onError(e,t),this.trackError(e,t)}componentWillUnmount(){this.retryTimeoutId&&clearTimeout(this.retryTimeoutId)}render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{error:e,errorInfo:t,retryCount:r}=this.state,s=!1;return Br.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center p-4",children:Br.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-2xl border border-red-200 overflow-hidden",children:[Br.jsx("div",{className:"bg-red-600 text-white p-6",children:Br.jsxs("div",{className:"flex items-center space-x-3",children:[Br.jsx(Nt,{className:"w-8 h-8 text-red-200"}),Br.jsxs("div",{children:[Br.jsx("h1",{className:"text-2xl font-bold",children:"¡Ups! Algo salió mal"}),Br.jsx("p",{className:"text-red-100 mt-1",children:"Se produjo un error inesperado en la aplicación"})]})]})}),Br.jsxs("div",{className:"p-6 space-y-6",children:[Br.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-red-400",children:[Br.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Error técnico:"}),Br.jsx("p",{className:"text-gray-700 font-mono text-sm break-words",children:(null==e?void 0:e.message)||"Error desconocido"}),r>0&&Br.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Intentos de recuperación: ",r]})]}),s,Br.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[Br.jsxs("button",{onClick:this.handleRetry,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex-1",disabled:r>=3,children:[Br.jsx(Xt,{className:"w-4 h-4"}),r>=3?"Máx. intentos alcanzados":"Intentar de nuevo"]}),Br.jsxs("button",{onClick:this.handleReload,className:"flex items-center justify-center gap-2 bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex-1",children:[Br.jsx(Xt,{className:"w-4 h-4"}),"Recargar página"]}),Br.jsxs("button",{onClick:this.handleHome,className:"flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex-1",children:[Br.jsx(Kt,{className:"w-4 h-4"}),"Ir al inicio"]})]}),Br.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm",children:[Br.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"¿Qué puedes hacer?"}),Br.jsxs("ul",{className:"text-blue-800 space-y-1",children:[Br.jsx("li",{children:"• Intenta recargar la página"}),Br.jsx("li",{children:"• Verifica tu conexión a internet"}),Br.jsx("li",{children:"• Si el problema persiste, contacta al soporte técnico"}),Br.jsx("li",{children:"• Incluye el mensaje de error técnico mostrado arriba"})]})]}),Br.jsx("div",{className:"text-center text-gray-500 text-sm",children:Br.jsxs("p",{children:["¿Necesitas ayuda? Contacta a"," ",Br.jsx("a",{href:"mailto:soporte@stegmaier.com",className:"text-blue-600 hover:text-blue-800 underline",children:"soporte técnico"})]})})]})]})})}return this.props.children}}const ml={"/platform":{variant:"analytics",title:"Mi Progreso y Estadísticas",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Mi Progreso"}],tabs:[{label:"Resumen",to:"#resumen",ariaControls:"resumen-panel"},{label:"Actividad",to:"#actividad",ariaControls:"actividad-panel"},{label:"Logros",to:"#logros",ariaControls:"logros-panel"}],theme:"light",requires:["auth"],showNotifications:!0,showUserMenu:!0},"/platform/my-progress":{variant:"analytics",title:"Mi Progreso y Estadísticas",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Mi Progreso"}],tabs:[{label:"Resumen",to:"#resumen",ariaControls:"resumen-panel"},{label:"Actividad",to:"#actividad",ariaControls:"actividad-panel"},{label:"Logros",to:"#logros",ariaControls:"logros-panel"}],theme:"light",requires:["auth"],showNotifications:!0,showUserMenu:!0},"/platform/courses":{variant:"standard",title:"Explorar Cursos",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Cursos"}],tabs:[{label:"Todos",to:"#todos",ariaControls:"todos-panel"},{label:"Categorías",to:"#categorias",ariaControls:"categorias-panel"},{label:"Populares",to:"#populares",ariaControls:"populares-panel"}],theme:"light",requires:["auth"],showSearch:!0,showNotifications:!0},"/platform/my-courses":{variant:"standard",title:"Mis Cursos",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Mis Cursos"}],tabs:[{label:"Activos",to:"#activos",ariaControls:"activos-panel"},{label:"Completados",to:"#completados",ariaControls:"completados-panel"},{label:"Favoritos",to:"#favoritos",ariaControls:"favoritos-panel"}],theme:"light",requires:["auth"],showNotifications:!0},"/platform/courses/:courseId":{variant:"courseDetail",title:e=>(null==e?void 0:e.courseTitle)||"Detalles del Curso",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Cursos",to:"/platform/courses"},{label:"Detalles del Curso"}],tabs:[{label:"Descripción",to:"#descripcion",ariaControls:"descripcion-panel"},{label:"Lecciones",to:"#lecciones",ariaControls:"lecciones-panel"},{label:"Reseñas",to:"#reseñas",ariaControls:"reseñas-panel"}],theme:"light",requires:["auth"],showNotifications:!0},"/platform/courses/:courseId/lesson/:lessonId":{variant:"courseViewer",title:e=>(null==e?void 0:e.lessonTitle)||"Visualizando Lección",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Mis Cursos",to:"/platform/my-courses"},{label:e=>(null==e?void 0:e.courseTitle)||"Curso"},{label:"Lección"}],theme:"dark",requires:["auth","enrolled"],showNotifications:!1},"/platform/admin":{variant:"admin",title:"Panel de Administración",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Administración"}],tabs:[{label:"Dashboard",to:"#dashboard",ariaControls:"dashboard-panel"},{label:"Usuarios",to:"#usuarios",ariaControls:"usuarios-panel"},{label:"Cursos",to:"#cursos",ariaControls:"cursos-panel"},{label:"Analytics",to:"#analytics",ariaControls:"analytics-panel"}],theme:"brand",requires:["auth","admin"],showNotifications:!0,showUserMenu:!0},"/platform/admin/courses":{variant:"admin",title:"Gestión de Cursos",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Administración",to:"/platform/admin"},{label:"Cursos"}],tabs:[{label:"Lista",to:"#lista",ariaControls:"lista-panel"},{label:"Crear",to:"#crear",ariaControls:"crear-panel"},{label:"Categorías",to:"#categorias",ariaControls:"categorias-panel"}],theme:"brand",requires:["auth","admin"],showNotifications:!0},"/platform/admin/users":{variant:"admin",title:"Gestión de Usuarios",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Administración",to:"/platform/admin"},{label:"Usuarios"}],tabs:[{label:"Todos",to:"#todos",ariaControls:"todos-panel"},{label:"Instructores",to:"#instructores",ariaControls:"instructores-panel"},{label:"Estudiantes",to:"#estudiantes",ariaControls:"estudiantes-panel"}],theme:"brand",requires:["auth","admin"],showNotifications:!0},"/platform/admin/analytics":{variant:"admin",title:"Analytics Administrativos",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Administración",to:"/platform/admin"},{label:"Analytics"}],tabs:[{label:"General",to:"#general",ariaControls:"general-panel"},{label:"Usuarios",to:"#usuarios",ariaControls:"usuarios-panel"},{label:"Cursos",to:"#cursos",ariaControls:"cursos-panel"},{label:"Ingresos",to:"#ingresos",ariaControls:"ingresos-panel"}],theme:"brand",requires:["auth","admin"],showNotifications:!0},"/platform/profile":{variant:"standard",title:"Mi Perfil",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Perfil"}],tabs:[{label:"Información",to:"#informacion",ariaControls:"informacion-panel"},{label:"Preferencias",to:"#preferencias",ariaControls:"preferencias-panel"},{label:"Seguridad",to:"#seguridad",ariaControls:"seguridad-panel"}],theme:"light",requires:["auth"],showNotifications:!0},"/platform/settings":{variant:"standard",title:"Configuración",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Configuración"}],tabs:[{label:"General",to:"#general",ariaControls:"general-panel"},{label:"Notificaciones",to:"#notificaciones",ariaControls:"notificaciones-panel"},{label:"Privacidad",to:"#privacidad",ariaControls:"privacidad-panel"}],theme:"light",requires:["auth"],showNotifications:!0},"/platform/support":{variant:"standard",title:"Centro de Ayuda",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Soporte"}],tabs:[{label:"FAQs",to:"#faqs",ariaControls:"faqs-panel"},{label:"Contacto",to:"#contacto",ariaControls:"contacto-panel"},{label:"Guías",to:"#guias",ariaControls:"guias-panel"}],theme:"light",requires:["auth"],showNotifications:!0},"/platform/certificates":{variant:"standard",title:"Mis Certificados",breadcrumbs:[{label:"Plataforma",to:"/platform"},{label:"Certificados"}],tabs:[{label:"Obtenidos",to:"#obtenidos",ariaControls:"obtenidos-panel"},{label:"En Progreso",to:"#progreso",ariaControls:"progreso-panel"},{label:"Compartir",to:"#compartir",ariaControls:"compartir-panel"}],theme:"light",requires:["auth"],showNotifications:!0}};const hl=new class{makeAuthenticatedRequest(e){return Ae(this,null,function*(){const t=localStorage.getItem("auth_token");if(!t||"null"===t||"undefined"===t)throw new Error("No authentication token found");const r=yield fetch(Go(`${Bo}${e}`),{headers:Qo()});if(!r.ok){if(401===r.status)throw new Error("Authentication required");if(403===r.status)throw new Error("Admin access required");throw new Error(`API Error: ${r.status} ${r.statusText}`)}return(yield r.json()).data})}getPlatformMetrics(){return Ae(this,null,function*(){return this.makeAuthenticatedRequest("/platform")})}getPopularCourses(e="30"){return Ae(this,null,function*(){return this.makeAuthenticatedRequest(`/courses/popular?period_days=${e}`)})}getRevenueData(){return Ae(this,null,function*(){return this.makeAuthenticatedRequest("/revenue")})}getCourseAnalytics(e){return Ae(this,null,function*(){return this.makeAuthenticatedRequest(`/courses/${e}`)})}getUserAnalytics(){return Ae(this,null,function*(){try{const e=yield this.makeAuthenticatedRequest("/my-stats");return this.validateAndFixAnalyticsStructure(e)}catch(e){return Error,this.getSafeAnalyticsFallback()}})}validateAndFixAnalyticsStructure(e){var t,r,s,a,n,i,o,l,c,d,u,m,h,x,p,g,f,b,v,y,j,w;if(!e||"object"!=typeof e)return this.getSafeAnalyticsFallback();return{period:{start_date:(null==(t=e.period)?void 0:t.start_date)||(new Date).toISOString(),end_date:(null==(r=e.period)?void 0:r.end_date)||(new Date).toISOString(),days:(null==(s=e.period)?void 0:s.days)||30},user:{user_id:(null==(a=e.user)?void 0:a.user_id)||"",name:(null==(n=e.user)?void 0:n.name)||"Usuario",joined_date:(null==(i=e.user)?void 0:i.joined_date)||(new Date).toISOString()},learning:{courses_enrolled:Number(null==(o=e.learning)?void 0:o.courses_enrolled)||0,courses_completed:Number(null==(l=e.learning)?void 0:l.courses_completed)||0,courses_in_progress:Number(null==(c=e.learning)?void 0:c.courses_in_progress)||0,completion_rate:Number(null==(d=e.learning)?void 0:d.completion_rate)||0,total_watch_time_seconds:Number(null==(u=e.learning)?void 0:u.total_watch_time_seconds)||0,total_watch_time_hours:Number(null==(m=e.learning)?void 0:m.total_watch_time_hours)||0,average_session_duration:Number(null==(h=e.learning)?void 0:h.average_session_duration)||0},engagement:{login_streak:Number(null==(x=e.engagement)?void 0:x.login_streak)||0,total_logins:Number(null==(p=e.engagement)?void 0:p.total_logins)||0,last_login:(null==(g=e.engagement)?void 0:g.last_login)||(new Date).toISOString(),favorite_category:(null==(f=e.engagement)?void 0:f.favorite_category)||"General",activity_score:Number(null==(b=e.engagement)?void 0:b.activity_score)||0,lessons_completed:Number(null==(v=e.engagement)?void 0:v.lessons_completed)||0},achievements:{certificates_earned:Number(null==(y=e.achievements)?void 0:y.certificates_earned)||0,badges_earned:Array.isArray(null==(j=e.achievements)?void 0:j.badges_earned)?e.achievements.badges_earned:[],milestones:Array.isArray(null==(w=e.achievements)?void 0:w.milestones)?e.achievements.milestones:[]},recent_activity:Array.isArray(e.recent_activity)?e.recent_activity:[]}}getSafeAnalyticsFallback(){return{period:{start_date:new Date(Date.now()-2592e6).toISOString(),end_date:(new Date).toISOString(),days:30},user:{user_id:"fallback-user",name:"Usuario",joined_date:(new Date).toISOString()},learning:{courses_enrolled:0,courses_completed:0,courses_in_progress:0,completion_rate:0,total_watch_time_seconds:0,total_watch_time_hours:0,average_session_duration:0},engagement:{login_streak:0,total_logins:0,last_login:(new Date).toISOString(),favorite_category:"General",activity_score:0,lessons_completed:0},achievements:{certificates_earned:0,badges_earned:[],milestones:[]},recent_activity:[]}}trackEvent(e,t){this.trackActivity({activity_type:e,metadata:t})}trackActivity(e){return Ae(this,null,function*(){if(localStorage.getItem("auth_token"))try{yield fetch(Go(`${Bo}/activity`),{method:"POST",headers:Qo(),body:JSON.stringify(e)})}catch(t){}})}},xl=new Ts({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:1,refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:1}}}),pl={analytics:{all:["analytics"],userStats:()=>[...pl.analytics.all,"user","stats"],userStatsByPeriod:e=>[...pl.analytics.userStats(),e]},progress:{all:["progress"],summary:()=>[...pl.progress.all,"summary"],summaryByCourse:e=>[...pl.progress.summary(),e]}};var gl=(e=>(e.NOT_STARTED="not_started",e.IN_PROGRESS="in_progress",e.COMPLETED="completed",e.PAUSED="paused",e))(gl||{});const fl=new class{updateVideoProgress(e,t,r){return Ae(this,null,function*(){try{const s=yield fetch(Go(`${Fo}/videos/${e}/${t}`),{method:"PUT",headers:Qo(),body:JSON.stringify(r)});if(!s.ok)throw new Error(`Error updating progress: ${s.statusText}`);return(yield s.json()).progress}catch(s){throw s}})}getVideoProgress(e,t){return Ae(this,null,function*(){try{const r=yield fetch(Go(`${Fo}/videos/${e}/${t}`),{method:"GET",headers:Qo()});if(!r.ok){if(404===r.status)return null;throw new Error(`Error getting progress: ${r.statusText}`)}return yield r.json()}catch(r){return null}})}createBookmark(e,t,r){return Ae(this,null,function*(){try{const s=yield fetch(Go(`${Fo}/videos/${e}/${t}/bookmarks`),{method:"POST",headers:Qo(),body:JSON.stringify(r)});if(!s.ok)throw new Error(`Error creating bookmark: ${s.statusText}`);return yield s.json()}catch(s){throw s}})}getVideoBookmarks(e,t){return Ae(this,null,function*(){try{const r=yield fetch(Go(`${Fo}/videos/${e}/${t}/bookmarks`),{method:"GET",headers:Qo()});if(!r.ok){if(404===r.status)return[];throw new Error(`Error getting bookmarks: ${r.statusText}`)}return yield r.json()}catch(r){return[]}})}createNote(e,t,r){return Ae(this,null,function*(){try{const s=yield fetch(Go(`${Fo}/videos/${e}/${t}/notes`),{method:"POST",headers:Qo(),body:JSON.stringify(r)});if(!s.ok)throw new Error(`Error creating note: ${s.statusText}`);return yield s.json()}catch(s){throw s}})}getVideoNotes(e,t){return Ae(this,null,function*(){try{const r=yield fetch(Go(`${Fo}/videos/${e}/${t}/notes`),{method:"GET",headers:Qo()});if(!r.ok){if(404===r.status)return[];throw new Error(`Error getting notes: ${r.statusText}`)}return yield r.json()}catch(r){return[]}})}getProgressSummary(){return Ae(this,null,function*(){try{const e=yield fetch(Go(`${Fo}/summary`),{method:"GET",headers:Qo()});if(!e.ok)throw new Error(`Error getting progress summary: ${e.statusText}`);return yield e.json()}catch(e){throw e}})}getDetailedProgress(){return Ae(this,null,function*(){try{const e=yield fetch(Go(`${Fo}/detailed`),{method:"GET",headers:Qo()});if(!e.ok)throw new Error(`Error getting detailed progress: ${e.statusText}`);return yield e.json()}catch(e){return[]}})}startAssignment(e,t,r,s){return Ae(this,null,function*(){return{success:!0}})}updateAssignmentProgress(e,t,r,s,a){return Ae(this,null,function*(){return{success:!0}})}completeAssignment(e,t,r,s,a){return Ae(this,null,function*(){return{success:!0}})}getCourseProgress(e){return Ae(this,null,function*(){return{course_progress:{id:"temp-progress-id",course_id:e,progress_percentage:0,status:gl.NOT_STARTED,lessons_completed:0,total_lessons:0,total_time_spent:0,certificate_issued:!1},lessons_progress:[],completion_percentage:0,certificate_available:!1,message:"Mock data - implementation pending"}})}getUserProgressSummary(){return Ae(this,null,function*(){return{total_courses:0,completed_courses:0}})}getLessonProgress(e){return Ae(this,null,function*(){return{completed:!1,progress:0}})}startLesson(e,t,r){return Ae(this,null,function*(){return{success:!0}})}completeLesson(e,t,r){return Ae(this,null,function*(){return{success:!0}})}updateLessonProgress(e,t,r,s){return Ae(this,null,function*(){return{success:!0}})}savePendingProgress(e,t){return Ae(this,null,function*(){})}syncPendingProgress(){return Ae(this,null,function*(){return{success:!0}})}formatTime(e){const t=Math.floor(e/3600),r=Math.floor(e%3600/60),s=Math.floor(e%60);return t>0?`${t}:${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`:`${r}:${s.toString().padStart(2,"0")}`}calculateWatchPercentage(e,t){return t<=0?0:Math.min(Math.round(e/t*100),100)}isVideoCompleted(e,t){return this.calculateWatchPercentage(e,t)>=90}};function bl(){const e=$e(),{user:t,isAuthenticated:r}=al(),[s,a]=ze.useState("30"),n=ze.useMemo(()=>{return t=e.pathname,ml[t]||null;var t},[e.pathname]),{data:i,isLoading:o,error:l,refetch:c}=function(e="30"){return Vs({queryKey:pl.analytics.userStatsByPeriod(e),queryFn:()=>Ae(null,null,function*(){const t=(yield hl.getUserAnalytics()).data;return Ce(ke({},t),{period:e,filtered:!1})}),staleTime:12e4,gcTime:3e5})}(s),{data:d,isLoading:u,error:m,refetch:h}=Vs({queryKey:pl.progress.summary(),queryFn:()=>Ae(null,null,function*(){return yield fl.getProgressSummary()}),staleTime:18e4,gcTime:6e5}),x=ze.useCallback(e=>{const t=Math.floor(e/3600),r=Math.floor(e%3600/60);return t>0?`${t}h ${r}m`:`${r}m`},[]),p=ze.useMemo(()=>{var e,t,s;if(!n||"analytics"!==n.variant||!r)return{};let a=0,o="0m",l=0;if(i){a=(null==(e=i.learning_stats)?void 0:e.completion_rate)||0;const r=(null==(t=i.learning_stats)?void 0:t.total_watch_time_seconds)||0;o=x(r),l=(null==(s=i.engagement_stats)?void 0:s.login_streak)||0}return d&&0===a&&(a=d.completion_percentage||0),{completionRate:a,totalWatchTimeFormatted:o,streakDays:l,loading:!1,error:null}},[n,r,i,d,x]),g=o||u,f=l||m,b=ze.useCallback(()=>Ae(null,null,function*(){yield Promise.all([c(),h()])}),[c,h]);return ze.useMemo(()=>({config:n,data:p,period:s,setPeriod:a,refresh:b,loading:g,error:(null==f?void 0:f.message)||null}),[n,p,s,a,b,g,f])}function vl(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const yl=ze.forwardRef(vl),jl=({breadcrumbs:e,className:t=""})=>e&&0!==e.length?Br.jsx("nav",{"aria-label":"Breadcrumb",className:`flex ${t}`,children:Br.jsx("ol",{className:"flex items-center space-x-2",children:e.map((t,r)=>{const s=r===e.length-1;return Br.jsxs("li",{className:"flex items-center",children:[r>0&&Br.jsx(yl,{className:"flex-shrink-0 h-4 w-4 text-gray-400 mx-2","aria-hidden":"true"}),t.to&&!s?Br.jsx(qe,{to:t.to,className:"text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-sm px-1","aria-label":`Navegar a ${t.label}`,children:"function"==typeof t.label?t.label(t):t.label}):Br.jsx("span",{className:"text-sm font-medium "+(s?"text-gray-900":"text-gray-500"),"aria-current":s?"page":void 0,children:"function"==typeof t.label?t.label(t):t.label})]},`breadcrumb-${r}`)})})}):null,wl=({title:e,data:t,subtitle:r,className:s=""})=>{const a="function"==typeof e?e(t):e;return Br.jsxs("div",{className:`${s}`,children:[Br.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 leading-tight",children:a}),r&&Br.jsx("p",{className:"mt-1 text-sm text-gray-600",children:r})]})},Nl=({stats:e,loading:t=!1,className:r=""})=>{if(!e||0===e.length)return null;const s=e=>{switch(e){case"green":return"text-green-600";case"blue":return"text-blue-600";case"yellow":return"text-yellow-600";case"red":return"text-red-600";default:return"text-gray-900"}};return t?Br.jsx("div",{className:`flex items-center space-x-6 ${r}`,children:[1,2,3].map(e=>Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded animate-pulse mb-1"}),Br.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded animate-pulse"})]},e))}):Br.jsx("div",{className:`flex items-center space-x-6 ${r}`,children:e.map((e,t)=>Br.jsxs("div",{className:"text-center group",title:e.hint,children:[Br.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.icon&&Br.jsx("span",{className:`${s(e.color)}`,children:e.icon}),Br.jsx("span",{className:`text-lg font-semibold ${s(e.color)}`,children:e.value})]}),Br.jsx("span",{className:"text-xs text-gray-500 font-medium",children:e.label})]},`stat-${t}`))})},kl=({period:e="30",onPeriodChange:t,onRefresh:r,onMenuClick:s,loading:a=!1,showPeriodSelector:n=!0,showOnlineIndicator:i=!0,showMenuButton:o=!1,className:l=""})=>{const[c,d]=ze.useState(navigator.onLine);return ze.useEffect(()=>{const e=()=>d(!0),t=()=>d(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),Br.jsxs("div",{className:`flex items-center space-x-4 ${l}`,children:[i&&Br.jsx("div",{className:"flex items-center space-x-2",children:c?Br.jsxs(Br.Fragment,{children:[Br.jsx(Yt,{className:"w-4 h-4 text-green-500","aria-hidden":"true"}),Br.jsx("span",{className:"text-sm text-green-600",children:"En línea"})]}):Br.jsxs(Br.Fragment,{children:[Br.jsx(Jt,{className:"w-4 h-4 text-red-500","aria-hidden":"true"}),Br.jsx("span",{className:"text-sm text-red-600",children:"Sin conexión"})]})}),n&&t&&Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsx("label",{htmlFor:"period-selector",className:"text-sm font-medium text-gray-700",children:"Período:"}),Br.jsxs("select",{id:"period-selector",value:e,onChange:e=>t(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500","aria-label":"Seleccionar período de tiempo",children:[Br.jsx("option",{value:"7",children:"Últimos 7 días"}),Br.jsx("option",{value:"30",children:"Últimos 30 días"}),Br.jsx("option",{value:"90",children:"Últimos 90 días"}),Br.jsx("option",{value:"365",children:"Todo el tiempo"})]})]}),o&&s&&Br.jsx("button",{onClick:s,className:"md:hidden p-2 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Abrir menú de navegación",children:Br.jsx(Zt,{className:"w-5 h-5","aria-hidden":"true"})})]})},Cl="transition-opacity duration-300 ease-in-out motion-reduce:transition-none",Sl={transition:Cl},El={button:`${"transition-all duration-200 ease-in-out motion-reduce:transition-none"} transform hover:scale-105 active:scale-95 focus:ring-2 focus:ring-offset-2`,dropdown:`${Cl} ${"transition-transform duration-250 ease-out motion-reduce:transition-none"} origin-top-right scale-95 opacity-0 animate-in slide-in-from-top-2 fade-in zoom-in-95`},_l={online:`${"animate-pulse motion-reduce:animate-none"} text-green-500`},Ml={container:"animate-in slide-in-from-top-1 fade-in duration-300",content:`${Cl} bg-red-50 border border-red-200`},Il={light:{backdrop:"backdrop-blur-sm bg-white/80",shadow:"shadow-sm hover:shadow-md",glow:""},dark:{backdrop:"backdrop-blur-sm bg-gray-900/80",shadow:"shadow-lg hover:shadow-xl",glow:"ring-1 ring-white/10"},brand:{backdrop:"backdrop-blur-sm bg-gradient-to-r from-blue-600/90 to-purple-600/90",shadow:"shadow-lg hover:shadow-2xl",glow:"ring-1 ring-white/20"}};function Ol(e){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tl(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ll(e){Tl(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Ol(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):new Date(NaN)}var Al={};function Dl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Pl(e,t){Tl(2,arguments);var r=Ll(e),s=Ll(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}var Rl={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function zl(e){Tl(1,arguments);var t=Ll(e);return function(e){Tl(1,arguments);var t=Ll(e);return t.setHours(23,59,59,999),t}(t).getTime()===function(e){Tl(1,arguments);var t=Ll(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}(t).getTime()}function $l(e,t){Tl(2,arguments);var r,s=Ll(e),a=Ll(t),n=Pl(s,a),i=Math.abs(function(e,t){Tl(2,arguments);var r=Ll(e),s=Ll(t);return 12*(r.getFullYear()-s.getFullYear())+(r.getMonth()-s.getMonth())}(s,a));if(i<1)r=0;else{1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-n*i);var o=Pl(s,a)===-n;zl(Ll(e))&&1===i&&1===Pl(e,a)&&(o=!1),r=n*(i-Number(o))}return 0===r?0:r}function ql(e,t,r){Tl(2,arguments);var s=function(e,t){return Tl(2,arguments),Ll(e).getTime()-Ll(t).getTime()}(e,t)/1e3;return Rl.trunc(s)}var Fl={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Bl(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var Wl={date:Bl({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Bl({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Bl({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Vl={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Ul(e){return function(t,r){var s;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,n=null!=r&&r.width?String(r.width):a;s=e.formattingValues[n]||e.formattingValues[a]}else{var i=e.defaultWidth,o=null!=r&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[i]}return s[e.argumentCallback?e.argumentCallback(t):t]}}function Hl(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],n=t.match(a);if(!n)return null;var i,o=n[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r;return}(l,function(e){return e.test(o)}):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r;return}(l,function(e){return e.test(o)});return i=e.valueCallback?e.valueCallback(c):c,{value:i=r.valueCallback?r.valueCallback(i):i,rest:t.slice(o.length)}}}function Gl(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var a=s[0],n=t.match(e.parsePattern);if(!n)return null;var i=e.valueCallback?e.valueCallback(n[0]):n[0];return{value:i=r.valueCallback?r.valueCallback(i):i,rest:t.slice(a.length)}}}var Ql={code:"en-US",formatDistance:function(e,t,r){var s,a=Fl[e];return s="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s},formatLong:Wl,formatRelative:function(e,t,r,s){return Vl[e]},localize:{ordinalNumber:function(e,t){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Ul({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Ul({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ul({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Ul({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Ul({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Gl({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Hl({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Hl({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Hl({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Hl({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Hl({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xl(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var Kl=43200;function Yl(e,t,r){var s,a;Tl(2,arguments);var n=Al,i=null!==(s=null!==(a=null==r?void 0:r.locale)&&void 0!==a?a:n.locale)&&void 0!==s?s:Ql;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Pl(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l,c,d=Xl(Xl({},r),{addSuffix:Boolean(null==r?void 0:r.addSuffix),comparison:o});o>0?(l=Ll(t),c=Ll(e)):(l=Ll(e),c=Ll(t));var u,m=ql(c,l),h=(Dl(c)-Dl(l))/1e3,x=Math.round((m-h)/60);if(x<2)return null!=r&&r.includeSeconds?m<5?i.formatDistance("lessThanXSeconds",5,d):m<10?i.formatDistance("lessThanXSeconds",10,d):m<20?i.formatDistance("lessThanXSeconds",20,d):m<40?i.formatDistance("halfAMinute",0,d):m<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):0===x?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",x,d);if(x<45)return i.formatDistance("xMinutes",x,d);if(x<90)return i.formatDistance("aboutXHours",1,d);if(x<1440){var p=Math.round(x/60);return i.formatDistance("aboutXHours",p,d)}if(x<2520)return i.formatDistance("xDays",1,d);if(x<Kl){var g=Math.round(x/1440);return i.formatDistance("xDays",g,d)}if(x<86400)return u=Math.round(x/Kl),i.formatDistance("aboutXMonths",u,d);if((u=$l(c,l))<12){var f=Math.round(x/Kl);return i.formatDistance("xMonths",f,d)}var b=u%12,v=Math.floor(u/12);return b<3?i.formatDistance("aboutXYears",v,d):b<9?i.formatDistance("overXYears",v,d):i.formatDistance("almostXYears",v+1,d)}var Jl={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},Zl={date:Bl({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Bl({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Bl({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ec={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},tc={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},rc={code:"es",formatDistance:function(e,t,r){var s,a=Jl[e];return s="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"en "+s:"hace "+s:s},formatLong:Zl,formatRelative:function(e,t,r,s){return 1!==t.getUTCHours()?tc[e]:ec[e]},localize:{ordinalNumber:function(e,t){return Number(e)+"º"},era:Ul({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},defaultWidth:"wide"}),quarter:Ul({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Ul({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:Ul({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},defaultWidth:"wide"}),dayPeriod:Ul({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Gl({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Hl({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},defaultParseWidth:"any"}),quarter:Hl({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Hl({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:Hl({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Hl({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};function sc(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(null==e||e(s),!1===r||!s.defaultPrevented)return null==t?void 0:t(s)}}function ac(e,t=[]){let r=[];const s=()=>{const t=r.map(e=>ze.createContext(e));return function(r){const s=(null==r?void 0:r[e])||t;return ze.useMemo(()=>({[`__scope${e}`]:Ce(ke({},r),{[e]:s})}),[r,s])}};return s.scopeName=e,[function(t,s){const a=ze.createContext(s),n=r.length;r=[...r,s];const i=t=>{var r;const s=t,{scope:i,children:o}=s,l=Se(s,["scope","children"]),c=(null==(r=null==i?void 0:i[e])?void 0:r[n])||a,d=ze.useMemo(()=>l,Object.values(l));return Br.jsx(c.Provider,{value:d,children:o})};return i.displayName=t+"Provider",[i,function(r,i){var o;const l=(null==(o=null==i?void 0:i[e])?void 0:o[n])||a,c=ze.useContext(l);if(c)return c;if(void 0!==s)return s;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},nc(s,...t)]}function nc(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const s=r.reduce((t,{useScope:r,scopeName:s})=>{const a=r(e)[`__scope${s}`];return ke(ke({},t),a)},{});return ze.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var ic=(null==globalThis?void 0:globalThis.document)?ze.useLayoutEffect:()=>{},oc=Fe[" useInsertionEffect ".trim().toString()]||ic;function lc({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,n,i]=function({defaultProp:e,onChange:t}){const[r,s]=ze.useState(e),a=ze.useRef(r),n=ze.useRef(t);return oc(()=>{n.current=t},[t]),ze.useEffect(()=>{var e;a.current!==r&&(null==(e=n.current)||e.call(n,r),a.current=r)},[r,a]),[r,s,n]}({defaultProp:t,onChange:r}),o=void 0!==e,l=o?e:a;{const t=ze.useRef(void 0!==e);ze.useEffect(()=>{const e=t.current;if(e!==o){}t.current=o},[o,s])}const c=ze.useCallback(t=>{var r;if(o){const s=function(e){return"function"==typeof e}(t)?t(e):t;s!==e&&(null==(r=i.current)||r.call(i,s))}else n(t)},[o,e,n,i]);return[l,c]}var cc=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const r=Xs(`Primitive.${t}`),s=ze.forwardRef((e,s)=>{const a=e,{asChild:n}=a,i=Se(a,["asChild"]),o=n?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),Br.jsx(o,Ce(ke({},i),{ref:s}))});return s.displayName=`Primitive.${t}`,Ce(ke({},e),{[t]:s})},{});function dc(e,t){e&&Be.flushSync(()=>e.dispatchEvent(t))}function uc(e){const t=e+"CollectionProvider",[r,s]=ac(t),[a,n]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=e=>{const{scope:t,children:r}=e,s=We.useRef(null),n=We.useRef(new Map).current;return Br.jsx(a,{scope:t,itemMap:n,collectionRef:s,children:r})};i.displayName=t;const o=e+"CollectionSlot",l=Xs(o),c=We.forwardRef((e,t)=>{const{scope:r,children:s}=e,a=Qs(t,n(o,r).collectionRef);return Br.jsx(l,{ref:a,children:s})});c.displayName=o;const d=e+"CollectionItemSlot",u="data-radix-collection-item",m=Xs(d),h=We.forwardRef((e,t)=>{const r=e,{scope:s,children:a}=r,i=Se(r,["scope","children"]),o=We.useRef(null),l=Qs(t,o),c=n(d,s);return We.useEffect(()=>(c.itemMap.set(o,ke({ref:o},i)),()=>{c.itemMap.delete(o)})),Br.jsx(m,Ce(ke({},{[u]:""}),{ref:l,children:a}))});return h.displayName=d,[{Provider:i,Slot:c,ItemSlot:h},function(t){const r=n(e+"CollectionConsumer",t);return We.useCallback(()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${u}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},s]}var mc=ze.createContext(void 0);function hc(e){const t=ze.useContext(mc);return e||t||"ltr"}function xc(e){const t=ze.useRef(e);return ze.useEffect(()=>{t.current=e}),ze.useMemo(()=>(...e)=>{var r;return null==(r=t.current)?void 0:r.call(t,...e)},[])}var pc,gc="dismissableLayer.update",fc="dismissableLayer.pointerDownOutside",bc="dismissableLayer.focusOutside",vc=ze.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yc=ze.forwardRef((e,t)=>{var r;const s=e,{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c}=s,d=Se(s,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),u=ze.useContext(vc),[m,h]=ze.useState(null),x=null!=(r=null==m?void 0:m.ownerDocument)?r:null==globalThis?void 0:globalThis.document,[,p]=ze.useState({}),g=Qs(t,e=>h(e)),f=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=f.indexOf(b),y=m?f.indexOf(m):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,w=y>=v,N=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=xc(e),s=ze.useRef(!1),a=ze.useRef(()=>{});return ze.useEffect(()=>{const e=e=>{if(e.target&&!s.current){let s=function(){wc(fc,r,n,{discrete:!0})};const n={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=s,t.addEventListener("click",a.current,{once:!0})):s()}else t.removeEventListener("click",a.current);s.current=!1},n=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}(e=>{const t=e.target,r=[...u.branches].some(e=>e.contains(t));w&&!r&&(null==i||i(e),null==l||l(e),e.defaultPrevented||null==c||c())},x),k=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=xc(e),s=ze.useRef(!1);return ze.useEffect(()=>{const e=e=>{if(e.target&&!s.current){wc(bc,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}(e=>{const t=e.target;[...u.branches].some(e=>e.contains(t))||(null==o||o(e),null==l||l(e),e.defaultPrevented||null==c||c())},x);return function(e,t=(null==globalThis?void 0:globalThis.document)){const r=xc(e);ze.useEffect(()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{y===u.layers.size-1&&(null==n||n(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},x),ze.useEffect(()=>{if(m)return a&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(pc=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),jc(),()=>{a&&1===u.layersWithOutsidePointerEventsDisabled.size&&(x.body.style.pointerEvents=pc)}},[m,x,a,u]),ze.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),jc())},[m,u]),ze.useEffect(()=>{const e=()=>p({});return document.addEventListener(gc,e),()=>document.removeEventListener(gc,e)},[]),Br.jsx(cc.div,Ce(ke({},d),{ref:g,style:ke({pointerEvents:j?w?"auto":"none":void 0},e.style),onFocusCapture:sc(e.onFocusCapture,k.onFocusCapture),onBlurCapture:sc(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:sc(e.onPointerDownCapture,N.onPointerDownCapture)}))});yc.displayName="DismissableLayer";function jc(){const e=new CustomEvent(gc);document.dispatchEvent(e)}function wc(e,t,r,{discrete:s}){const a=r.originalEvent.target,n=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?dc(a,n):a.dispatchEvent(n)}ze.forwardRef((e,t)=>{const r=ze.useContext(vc),s=ze.useRef(null),a=Qs(t,s);return ze.useEffect(()=>{const e=s.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),Br.jsx(cc.div,Ce(ke({},e),{ref:a}))}).displayName="DismissableLayerBranch";var Nc=0;function kc(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Cc="focusScope.autoFocusOnMount",Sc="focusScope.autoFocusOnUnmount",Ec={bubbles:!1,cancelable:!0},_c=ze.forwardRef((e,t)=>{const r=e,{loop:s=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:i}=r,o=Se(r,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[l,c]=ze.useState(null),d=xc(n),u=xc(i),m=ze.useRef(null),h=Qs(t,e=>c(e)),x=ze.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;ze.useEffect(()=>{if(a){let e=function(e){if(x.paused||!l)return;const t=e.target;l.contains(t)?m.current=t:Tc(m.current,{select:!0})},t=function(e){if(x.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||Tc(m.current,{select:!0}))},r=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Tc(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const s=new MutationObserver(r);return l&&s.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),s.disconnect()}}},[a,l,x.paused]),ze.useEffect(()=>{if(l){Lc.add(x);const t=document.activeElement;if(!l.contains(t)){const r=new CustomEvent(Cc,Ec);l.addEventListener(Cc,d),l.dispatchEvent(r),r.defaultPrevented||(!function(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Tc(s,{select:t}),document.activeElement!==r)return}((e=Mc(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Tc(l))}return()=>{l.removeEventListener(Cc,d),setTimeout(()=>{const e=new CustomEvent(Sc,Ec);l.addEventListener(Sc,u),l.dispatchEvent(e),e.defaultPrevented||Tc(null!=t?t:document.body,{select:!0}),l.removeEventListener(Sc,u),Lc.remove(x)},0)}}var e},[l,d,u,x]);const p=ze.useCallback(e=>{if(!s&&!a)return;if(x.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[a,n]=function(e){const t=Mc(e),r=Ic(t,e),s=Ic(t.reverse(),e);return[r,s]}(t);a&&n?e.shiftKey||r!==n?e.shiftKey&&r===a&&(e.preventDefault(),s&&Tc(n,{select:!0})):(e.preventDefault(),s&&Tc(a,{select:!0})):r===t&&e.preventDefault()}},[s,a,x.paused]);return Br.jsx(cc.div,Ce(ke({tabIndex:-1},o),{ref:h,onKeyDown:p}))});function Mc(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ic(e,t){for(const r of e)if(!Oc(r,{upTo:t}))return r}function Oc(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Tc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}_c.displayName="FocusScope";var Lc=function(){let e=[];return{add(t){const r=e[0];t!==r&&(null==r||r.pause()),e=Ac(e,t),e.unshift(t)},remove(t){var r;e=Ac(e,t),null==(r=e[0])||r.resume()}}}();function Ac(e,t){const r=[...e],s=r.indexOf(t);return-1!==s&&r.splice(s,1),r}var Dc=Fe[" useId ".trim().toString()]||(()=>{}),Pc=0;function Rc(e){const[t,r]=ze.useState(Dc());return ic(()=>{r(e=>null!=e?e:String(Pc++))},[e]),e||(t?`radix-${t}`:"")}const zc=["top","right","bottom","left"],$c=Math.min,qc=Math.max,Fc=Math.round,Bc=Math.floor,Wc=e=>({x:e,y:e}),Vc={left:"right",right:"left",bottom:"top",top:"bottom"},Uc={start:"end",end:"start"};function Hc(e,t,r){return qc(e,$c(t,r))}function Gc(e,t){return"function"==typeof e?e(t):e}function Qc(e){return e.split("-")[0]}function Xc(e){return e.split("-")[1]}function Kc(e){return"x"===e?"y":"x"}function Yc(e){return"y"===e?"height":"width"}const Jc=new Set(["top","bottom"]);function Zc(e){return Jc.has(Qc(e))?"y":"x"}function ed(e){return Kc(Zc(e))}function td(e){return e.replace(/start|end/g,e=>Uc[e])}const rd=["left","right"],sd=["right","left"],ad=["top","bottom"],nd=["bottom","top"];function id(e,t,r,s){const a=Xc(e);let n=function(e,t,r){switch(e){case"top":case"bottom":return r?t?sd:rd:t?rd:sd;case"left":case"right":return t?ad:nd;default:return[]}}(Qc(e),"start"===r,s);return a&&(n=n.map(e=>e+"-"+a),t&&(n=n.concat(n.map(td)))),n}function od(e){return e.replace(/left|right|bottom|top/g,e=>Vc[e])}function ld(e){return"number"!=typeof e?function(e){return ke({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function cd(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function dd(e,t,r){let{reference:s,floating:a}=e;const n=Zc(t),i=ed(t),o=Yc(i),l=Qc(t),c="y"===n,d=s.x+s.width/2-a.width/2,u=s.y+s.height/2-a.height/2,m=s[o]/2-a[o]/2;let h;switch(l){case"top":h={x:d,y:s.y-a.height};break;case"bottom":h={x:d,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:u};break;case"left":h={x:s.x-a.width,y:u};break;default:h={x:s.x,y:s.y}}switch(Xc(t)){case"start":h[i]-=m*(r&&c?-1:1);break;case"end":h[i]+=m*(r&&c?-1:1)}return h}function ud(e,t){return Ae(this,null,function*(){var r;void 0===t&&(t={});const{x:s,y:a,platform:n,rects:i,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:h=0}=Gc(t,e),x=ld(h),p=o[m?"floating"===u?"reference":"floating":u],g=cd(yield n.getClippingRect({element:null==(r=yield null==n.isElement?void 0:n.isElement(p))||r?p:p.contextElement||(yield null==n.getDocumentElement?void 0:n.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),f="floating"===u?{x:s,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=yield null==n.getOffsetParent?void 0:n.getOffsetParent(o.floating),v=(yield null==n.isElement?void 0:n.isElement(b))&&(yield null==n.getScale?void 0:n.getScale(b))||{x:1,y:1},y=cd(n.convertOffsetParentRelativeRectToViewportRelativeRect?yield n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:f,offsetParent:b,strategy:l}):f);return{top:(g.top-y.top+x.top)/v.y,bottom:(y.bottom-g.bottom+x.bottom)/v.y,left:(g.left-y.left+x.left)/v.x,right:(y.right-g.right+x.right)/v.x}})}function md(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function hd(e){return zc.some(t=>e[t]>=0)}const xd=new Set(["left","top"]);function pd(){return"undefined"!=typeof window}function gd(e){return vd(e)?(e.nodeName||"").toLowerCase():"#document"}function fd(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function bd(e){var t;return null==(t=(vd(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function vd(e){return!!pd()&&(e instanceof Node||e instanceof fd(e).Node)}function yd(e){return!!pd()&&(e instanceof Element||e instanceof fd(e).Element)}function jd(e){return!!pd()&&(e instanceof HTMLElement||e instanceof fd(e).HTMLElement)}function wd(e){return!(!pd()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof fd(e).ShadowRoot)}const Nd=new Set(["inline","contents"]);function kd(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=Pd(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!Nd.has(a)}const Cd=new Set(["table","td","th"]);function Sd(e){return Cd.has(gd(e))}const Ed=[":popover-open",":modal"];function _d(e){return Ed.some(t=>{try{return e.matches(t)}catch(r){return!1}})}const Md=["transform","translate","scale","rotate","perspective"],Id=["transform","translate","scale","rotate","perspective","filter"],Od=["paint","layout","strict","content"];function Td(e){const t=Ld(),r=yd(e)?Pd(e):e;return Md.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||Id.some(e=>(r.willChange||"").includes(e))||Od.some(e=>(r.contain||"").includes(e))}function Ld(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Ad=new Set(["html","body","#document"]);function Dd(e){return Ad.has(gd(e))}function Pd(e){return fd(e).getComputedStyle(e)}function Rd(e){return yd(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zd(e){if("html"===gd(e))return e;const t=e.assignedSlot||e.parentNode||wd(e)&&e.host||bd(e);return wd(t)?t.host:t}function $d(e){const t=zd(e);return Dd(t)?e.ownerDocument?e.ownerDocument.body:e.body:jd(t)&&kd(t)?t:$d(t)}function qd(e,t,r){var s;void 0===t&&(t=[]),void 0===r&&(r=!0);const a=$d(e),n=a===(null==(s=e.ownerDocument)?void 0:s.body),i=fd(a);if(n){const e=Fd(i);return t.concat(i,i.visualViewport||[],kd(a)?a:[],e&&r?qd(e):[])}return t.concat(a,qd(a,[],r))}function Fd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Bd(e){const t=Pd(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=jd(e),n=a?e.offsetWidth:r,i=a?e.offsetHeight:s,o=Fc(r)!==n||Fc(s)!==i;return o&&(r=n,s=i),{width:r,height:s,$:o}}function Wd(e){return yd(e)?e:e.contextElement}function Vd(e){const t=Wd(e);if(!jd(t))return Wc(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:n}=Bd(t);let i=(n?Fc(r.width):r.width)/s,o=(n?Fc(r.height):r.height)/a;return i&&Number.isFinite(i)||(i=1),o&&Number.isFinite(o)||(o=1),{x:i,y:o}}const Ud=Wc(0);function Hd(e){const t=fd(e);return Ld()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ud}function Gd(e,t,r,s){void 0===t&&(t=!1),void 0===r&&(r=!1);const a=e.getBoundingClientRect(),n=Wd(e);let i=Wc(1);t&&(s?yd(s)&&(i=Vd(s)):i=Vd(e));const o=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==fd(e))&&t}(n,r,s)?Hd(n):Wc(0);let l=(a.left+o.x)/i.x,c=(a.top+o.y)/i.y,d=a.width/i.x,u=a.height/i.y;if(n){const e=fd(n),t=s&&yd(s)?fd(s):s;let r=e,a=Fd(r);for(;a&&s&&t!==r;){const e=Vd(a),t=a.getBoundingClientRect(),s=Pd(a),n=t.left+(a.clientLeft+parseFloat(s.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(s.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=n,c+=i,r=fd(a),a=Fd(r)}}return cd({width:d,height:u,x:l,y:c})}function Qd(e,t){const r=Rd(e).scrollLeft;return t?t.left+r:Gd(bd(e)).left+r}function Xd(e,t){const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-Qd(e,r),y:r.top+t.scrollTop}}const Kd=new Set(["absolute","fixed"]);function Yd(e,t,r){let s;if("viewport"===t)s=function(e,t){const r=fd(e),s=bd(e),a=r.visualViewport;let n=s.clientWidth,i=s.clientHeight,o=0,l=0;if(a){n=a.width,i=a.height;const e=Ld();(!e||e&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}const c=Qd(s);if(c<=0){const e=s.ownerDocument,t=e.body,r=getComputedStyle(t),a="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,i=Math.abs(s.clientWidth-t.clientWidth-a);i<=25&&(n-=i)}else c<=25&&(n+=c);return{width:n,height:i,x:o,y:l}}(e,r);else if("document"===t)s=function(e){const t=bd(e),r=Rd(e),s=e.ownerDocument.body,a=qc(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),n=qc(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let i=-r.scrollLeft+Qd(e);const o=-r.scrollTop;return"rtl"===Pd(s).direction&&(i+=qc(t.clientWidth,s.clientWidth)-a),{width:a,height:n,x:i,y:o}}(bd(e));else if(yd(t))s=function(e,t){const r=Gd(e,!0,"fixed"===t),s=r.top+e.clientTop,a=r.left+e.clientLeft,n=jd(e)?Vd(e):Wc(1);return{width:e.clientWidth*n.x,height:e.clientHeight*n.y,x:a*n.x,y:s*n.y}}(t,r);else{const r=Hd(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return cd(s)}function Jd(e,t){const r=zd(e);return!(r===t||!yd(r)||Dd(r))&&("fixed"===Pd(r).position||Jd(r,t))}function Zd(e,t,r){const s=jd(t),a=bd(t),n="fixed"===r,i=Gd(e,!0,n,t);let o={scrollLeft:0,scrollTop:0};const l=Wc(0);function c(){l.x=Qd(a)}if(s||!s&&!n)if(("body"!==gd(t)||kd(a))&&(o=Rd(t)),s){const e=Gd(t,!0,n,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();n&&!s&&a&&c();const d=!a||s||n?Wc(0):Xd(a,o);return{x:i.left+o.scrollLeft-l.x-d.x,y:i.top+o.scrollTop-l.y-d.y,width:i.width,height:i.height}}function eu(e){return"static"===Pd(e).position}function tu(e,t){if(!jd(e)||"fixed"===Pd(e).position)return null;if(t)return t(e);let r=e.offsetParent;return bd(e)===r&&(r=r.ownerDocument.body),r}function ru(e,t){const r=fd(e);if(_d(e))return r;if(!jd(e)){let t=zd(e);for(;t&&!Dd(t);){if(yd(t)&&!eu(t))return t;t=zd(t)}return r}let s=tu(e,t);for(;s&&Sd(s)&&eu(s);)s=tu(s,t);return s&&Dd(s)&&eu(s)&&!Td(s)?r:s||function(e){let t=zd(e);for(;jd(t)&&!Dd(t);){if(Td(t))return t;if(_d(t))return null;t=zd(t)}return null}(e)||r}const su={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const n="fixed"===a,i=bd(s),o=!!t&&_d(t.floating);if(s===i||o&&n)return r;let l={scrollLeft:0,scrollTop:0},c=Wc(1);const d=Wc(0),u=jd(s);if((u||!u&&!n)&&(("body"!==gd(s)||kd(i))&&(l=Rd(s)),jd(s))){const e=Gd(s);c=Vd(s),d.x=e.x+s.clientLeft,d.y=e.y+s.clientTop}const m=!i||u||n?Wc(0):Xd(i,l);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:r.y*c.y-l.scrollTop*c.y+d.y+m.y}},getDocumentElement:bd,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const n=[..."clippingAncestors"===r?_d(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let s=qd(e,[],!1).filter(e=>yd(e)&&"body"!==gd(e)),a=null;const n="fixed"===Pd(e).position;let i=n?zd(e):e;for(;yd(i)&&!Dd(i);){const t=Pd(i),r=Td(i);r||"fixed"!==t.position||(a=null),(n?!r&&!a:!r&&"static"===t.position&&a&&Kd.has(a.position)||kd(i)&&!r&&Jd(e,i))?s=s.filter(e=>e!==i):a=t,i=zd(i)}return t.set(e,s),s}(t,this._c):[].concat(r),s],i=n[0],o=n.reduce((e,r)=>{const s=Yd(t,r,a);return e.top=qc(s.top,e.top),e.right=$c(s.right,e.right),e.bottom=$c(s.bottom,e.bottom),e.left=qc(s.left,e.left),e},Yd(t,i,a));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:ru,getElementRects:function(e){return Ae(this,null,function*(){const t=this.getOffsetParent||ru,r=this.getDimensions,s=yield r(e.floating);return{reference:Zd(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}})},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=Bd(e);return{width:t,height:r}},getScale:Vd,isElement:yd,isRTL:function(e){return"rtl"===Pd(e).direction}};function au(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nu(e,t,r,s){void 0===s&&(s={});const{ancestorScroll:a=!0,ancestorResize:n=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=s,c=Wd(e),d=a||n?[...c?qd(c):[],...qd(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),n&&e.addEventListener("resize",r)});const u=c&&o?function(e,t){let r,s=null;const a=bd(e);function n(){var e;clearTimeout(r),null==(e=s)||e.disconnect(),s=null}return function i(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),n();const c=e.getBoundingClientRect(),{left:d,top:u,width:m,height:h}=c;if(o||t(),!m||!h)return;const x={rootMargin:-Bc(u)+"px "+-Bc(a.clientWidth-(d+m))+"px "+-Bc(a.clientHeight-(u+h))+"px "+-Bc(d)+"px",threshold:qc(0,$c(1,l))||1};let p=!0;function g(t){const s=t[0].intersectionRatio;if(s!==l){if(!p)return i();s?i(!1,s):r=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==s||au(c,e.getBoundingClientRect())||i(),p=!1}try{s=new IntersectionObserver(g,Ce(ke({},x),{root:a.ownerDocument}))}catch(f){s=new IntersectionObserver(g,x)}s.observe(e)}(!0),n}(c,r):null;let m,h=-1,x=null;i&&(x=new ResizeObserver(e=>{let[s]=e;s&&s.target===c&&x&&(x.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=x)||e.observe(t)})),r()}),c&&!l&&x.observe(c),x.observe(t));let p=l?Gd(e):null;return l&&function t(){const s=Gd(e);p&&!au(p,s)&&r();p=s,m=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",r),n&&e.removeEventListener("resize",r)}),null==u||u(),null==(e=x)||e.disconnect(),x=null,l&&cancelAnimationFrame(m)}}const iu=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn(t){return Ae(this,null,function*(){var r,s;const{x:a,y:n,placement:i,middlewareData:o}=t,l=yield function(e,t){return Ae(this,null,function*(){const{placement:r,platform:s,elements:a}=e,n=yield null==s.isRTL?void 0:s.isRTL(a.floating),i=Qc(r),o=Xc(r),l="y"===Zc(r),c=xd.has(i)?-1:1,d=n&&l?-1:1,u=Gc(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:x}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"==typeof x&&(h="end"===o?-1*x:x),l?{x:h*d,y:m*c}:{x:m*c,y:h*d}})}(t,e);return i===(null==(r=o.offset)?void 0:r.placement)&&null!=(s=o.arrow)&&s.alignmentOffset?{}:{x:a+l.x,y:n+l.y,data:Ce(ke({},l),{placement:i})}})}}},ou=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn(t){return Ae(this,null,function*(){const{x:r,y:s,placement:a}=t,n=Gc(e,t),{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}}}=n,c=Se(n,["mainAxis","crossAxis","limiter"]),d={x:r,y:s},u=yield ud(t,c),m=Zc(Qc(a)),h=Kc(m);let x=d[h],p=d[m];if(i){const e="y"===h?"bottom":"right";x=Hc(x+u["y"===h?"top":"left"],x,x-u[e])}if(o){const e="y"===m?"bottom":"right";p=Hc(p+u["y"===m?"top":"left"],p,p-u[e])}const g=l.fn(Ce(ke({},t),{[h]:x,[m]:p}));return Ce(ke({},g),{data:{x:g.x-r,y:g.y-s,enabled:{[h]:i,[m]:o}}})})}}},lu=function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn(t){return Ae(this,null,function*(){var r,s;const{placement:a,middlewareData:n,rects:i,initialPlacement:o,platform:l,elements:c}=t,d=Gc(e,t),{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0}=d,f=Se(d,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if(null!=(r=n.arrow)&&r.alignmentOffset)return{};const b=Qc(a),v=Zc(o),y=Qc(o)===o,j=yield null==l.isRTL?void 0:l.isRTL(c.floating),w=h||(y||!g?[od(o)]:function(e){const t=od(e);return[td(e),t,td(t)]}(o)),N="none"!==p;!h&&N&&w.push(...id(o,g,p,j));const k=[o,...w],C=yield ud(t,f),S=[];let E=(null==(s=n.flip)?void 0:s.overflows)||[];if(u&&S.push(C[b]),m){const e=function(e,t,r){void 0===r&&(r=!1);const s=Xc(e),a=ed(e),n=Yc(a);let i="x"===a?s===(r?"end":"start")?"right":"left":"start"===s?"bottom":"top";return t.reference[n]>t.floating[n]&&(i=od(i)),[i,od(i)]}(a,i,j);S.push(C[e[0]],C[e[1]])}if(E=[...E,{placement:a,overflows:S}],!S.every(e=>e<=0)){var _,M;const e=((null==(_=n.flip)?void 0:_.index)||0)+1,t=k[e];if(t){if(!("alignment"===m&&v!==Zc(t))||E.every(e=>Zc(e.placement)!==v||e.overflows[0]>0))return{data:{index:e,overflows:E},reset:{placement:t}}}let r=null==(M=E.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:M.placement;if(!r)switch(x){case"bestFit":{var I;const e=null==(I=E.filter(e=>{if(N){const t=Zc(e.placement);return t===v||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:I[0];e&&(r=e);break}case"initialPlacement":r=o}if(a!==r)return{reset:{placement:r}}}return{}})}}},cu=function(e){return void 0===e&&(e={}),{name:"size",options:e,fn(t){return Ae(this,null,function*(){var r,s;const{placement:a,rects:n,platform:i,elements:o}=t,l=Gc(e,t),{apply:c=()=>{}}=l,d=Se(l,["apply"]),u=yield ud(t,d),m=Qc(a),h=Xc(a),x="y"===Zc(a),{width:p,height:g}=n.floating;let f,b;"top"===m||"bottom"===m?(f=m,b=h===((yield null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(b=m,f="end"===h?"top":"bottom");const v=g-u.top-u.bottom,y=p-u.left-u.right,j=$c(g-u[f],v),w=$c(p-u[b],y),N=!t.middlewareData.shift;let k=j,C=w;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(C=y),null!=(s=t.middlewareData.shift)&&s.enabled.y&&(k=v),N&&!h){const e=qc(u.left,0),t=qc(u.right,0),r=qc(u.top,0),s=qc(u.bottom,0);x?C=p-2*(0!==e||0!==t?e+t:qc(u.left,u.right)):k=g-2*(0!==r||0!==s?r+s:qc(u.top,u.bottom))}yield c(Ce(ke({},t),{availableWidth:C,availableHeight:k}));const S=yield i.getDimensions(o.floating);return p!==S.width||g!==S.height?{reset:{rects:!0}}:{}})}}},du=function(e){return void 0===e&&(e={}),{name:"hide",options:e,fn(t){return Ae(this,null,function*(){const{rects:r}=t,s=Gc(e,t),{strategy:a="referenceHidden"}=s,n=Se(s,["strategy"]);switch(a){case"referenceHidden":{const e=md(yield ud(t,Ce(ke({},n),{elementContext:"reference"})),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:hd(e)}}}case"escaped":{const e=md(yield ud(t,Ce(ke({},n),{altBoundary:!0})),r.floating);return{data:{escapedOffsets:e,escaped:hd(e)}}}default:return{}}})}}},uu=e=>({name:"arrow",options:e,fn(t){return Ae(this,null,function*(){const{x:r,y:s,placement:a,rects:n,platform:i,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=Gc(e,t)||{};if(null==c)return{};const u=ld(d),m={x:r,y:s},h=ed(a),x=Yc(h),p=yield i.getDimensions(c),g="y"===h,f=g?"top":"left",b=g?"bottom":"right",v=g?"clientHeight":"clientWidth",y=n.reference[x]+n.reference[h]-m[h]-n.floating[x],j=m[h]-n.reference[h],w=yield null==i.getOffsetParent?void 0:i.getOffsetParent(c);let N=w?w[v]:0;N&&(yield null==i.isElement?void 0:i.isElement(w))||(N=o.floating[v]||n.floating[x]);const k=y/2-j/2,C=N/2-p[x]/2-1,S=$c(u[f],C),E=$c(u[b],C),_=S,M=N-p[x]-E,I=N/2-p[x]/2+k,O=Hc(_,I,M),T=!l.arrow&&null!=Xc(a)&&I!==O&&n.reference[x]/2-(I<_?S:E)-p[x]/2<0,L=T?I<_?I-_:I-M:0;return{[h]:m[h]+L,data:ke({[h]:O,centerOffset:I-O-L},T&&{alignmentOffset:L}),reset:T}})}}),mu=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:n,middlewareData:i}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Gc(e,t),d={x:r,y:s},u=Zc(a),m=Kc(u);let h=d[m],x=d[u];const p=Gc(o,t),g="number"==typeof p?{mainAxis:p,crossAxis:0}:ke({mainAxis:0,crossAxis:0},p);if(l){const e="y"===m?"height":"width",t=n.reference[m]-n.floating[e]+g.mainAxis,r=n.reference[m]+n.reference[e]-g.mainAxis;h<t?h=t:h>r&&(h=r)}if(c){var f,b;const e="y"===m?"width":"height",t=xd.has(Qc(a)),r=n.reference[u]-n.floating[e]+(t&&(null==(f=i.offset)?void 0:f[u])||0)+(t?0:g.crossAxis),s=n.reference[u]+n.reference[e]+(t?0:(null==(b=i.offset)?void 0:b[u])||0)-(t?g.crossAxis:0);x<r?x=r:x>s&&(x=s)}return{[m]:h,[u]:x}}}},hu=(e,t,r)=>{const s=new Map,a=ke({platform:su},r),n=Ce(ke({},a.platform),{_c:s});return((e,t,r)=>Ae(null,null,function*(){const{placement:s="bottom",strategy:a="absolute",middleware:n=[],platform:i}=r,o=n.filter(Boolean),l=yield null==i.isRTL?void 0:i.isRTL(t);let c=yield i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=dd(c,s,l),m=s,h={},x=0;for(let r=0;r<o.length;r++){const{name:n,fn:p}=o[r],{x:g,y:f,data:b,reset:v}=yield p({x:d,y:u,initialPlacement:s,placement:m,strategy:a,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=f?f:u,h=Ce(ke({},h),{[n]:ke(ke({},h[n]),b)}),v&&x<=50&&(x++,"object"==typeof v&&(v.placement&&(m=v.placement),v.rects&&(c=!0===v.rects?yield i.getElementRects({reference:e,floating:t,strategy:a}):v.rects),({x:d,y:u}=dd(c,m,l))),r=-1)}return{x:d,y:u,placement:m,strategy:a,middlewareData:h}}))(e,t,Ce(ke({},a),{platform:n}))};var xu="undefined"!=typeof document?ze.useLayoutEffect:function(){};function pu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;0!==s--;)if(!pu(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;0!==s--;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;0!==s--;){const r=a[s];if(("_owner"!==r||!e.$$typeof)&&!pu(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function gu(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fu(e,t){const r=gu(e);return Math.round(t*r)/r}function bu(e){const t=ze.useRef(e);return xu(()=>{t.current=e}),t}const vu=(e,t)=>Ce(ke({},iu(e)),{options:[e,t]}),yu=(e,t)=>Ce(ke({},ou(e)),{options:[e,t]}),ju=(e,t)=>Ce(ke({},mu(e)),{options:[e,t]}),wu=(e,t)=>Ce(ke({},lu(e)),{options:[e,t]}),Nu=(e,t)=>Ce(ke({},cu(e)),{options:[e,t]}),ku=(e,t)=>Ce(ke({},du(e)),{options:[e,t]}),Cu=(e,t)=>Ce(ke({},(e=>({name:"arrow",options:e,fn(t){const{element:r,padding:s}="function"==typeof e?e(t):e;return r&&(a=r,{}.hasOwnProperty.call(a,"current"))?null!=r.current?uu({element:r.current,padding:s}).fn(t):{}:r?uu({element:r,padding:s}).fn(t):{};var a}}))(e)),{options:[e,t]});var Su=ze.forwardRef((e,t)=>{const r=e,{children:s,width:a=10,height:n=5}=r,i=Se(r,["children","width","height"]);return Br.jsx(cc.svg,Ce(ke({},i),{ref:t,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:Br.jsx("polygon",{points:"0,0 30,0 15,10"})}))});Su.displayName="Arrow";var Eu=Su;var _u="Popper",[Mu,Iu]=ac(_u),[Ou,Tu]=Mu(_u),Lu=e=>{const{__scopePopper:t,children:r}=e,[s,a]=ze.useState(null);return Br.jsx(Ou,{scope:t,anchor:s,onAnchorChange:a,children:r})};Lu.displayName=_u;var Au="PopperAnchor",Du=ze.forwardRef((e,t)=>{const r=e,{__scopePopper:s,virtualRef:a}=r,n=Se(r,["__scopePopper","virtualRef"]),i=Tu(Au,s),o=ze.useRef(null),l=Qs(t,o),c=ze.useRef(null);return ze.useEffect(()=>{const e=c.current;c.current=(null==a?void 0:a.current)||o.current,e!==c.current&&i.onAnchorChange(c.current)}),a?null:Br.jsx(cc.div,Ce(ke({},n),{ref:l}))});Du.displayName=Au;var Pu="PopperContent",[Ru,zu]=Mu(Pu),$u=ze.forwardRef((e,t)=>{var r,s,a,n,i,o,l,c;const d=e,{__scopePopper:u,side:m="bottom",sideOffset:h=0,align:x="center",alignOffset:p=0,arrowPadding:g=0,avoidCollisions:f=!0,collisionBoundary:b=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:j=!1,updatePositionStrategy:w="optimized",onPlaced:N}=d,k=Se(d,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),C=Tu(Pu,u),[S,E]=ze.useState(null),_=Qs(t,e=>E(e)),[M,I]=ze.useState(null),O=function(e){const[t,r]=ze.useState(void 0);return ic(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const s=t[0];let a,n;if("borderBoxSize"in s){const e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,n=t.blockSize}else a=e.offsetWidth,n=e.offsetHeight;r({width:a,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(M),T=null!=(r=null==O?void 0:O.width)?r:0,L=null!=(s=null==O?void 0:O.height)?s:0,A=m+("center"!==x?"-"+x:""),D="number"==typeof v?v:ke({top:0,right:0,bottom:0,left:0},v),P=Array.isArray(b)?b:[b],R=P.length>0,z={padding:D,boundary:P.filter(Wu),altBoundary:R},{refs:$,floatingStyles:q,placement:F,isPositioned:B,middlewareData:W}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:n,floating:i}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[d,u]=ze.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=ze.useState(s);pu(m,s)||h(s);const[x,p]=ze.useState(null),[g,f]=ze.useState(null),b=ze.useCallback(e=>{e!==w.current&&(w.current=e,p(e))},[]),v=ze.useCallback(e=>{e!==N.current&&(N.current=e,f(e))},[]),y=n||x,j=i||g,w=ze.useRef(null),N=ze.useRef(null),k=ze.useRef(d),C=null!=l,S=bu(l),E=bu(a),_=bu(c),M=ze.useCallback(()=>{if(!w.current||!N.current)return;const e={placement:t,strategy:r,middleware:m};E.current&&(e.platform=E.current),hu(w.current,N.current,e).then(e=>{const t=Ce(ke({},e),{isPositioned:!1!==_.current});I.current&&!pu(k.current,t)&&(k.current=t,Be.flushSync(()=>{u(t)}))})},[m,t,r,E,_]);xu(()=>{!1===c&&k.current.isPositioned&&(k.current.isPositioned=!1,u(e=>Ce(ke({},e),{isPositioned:!1})))},[c]);const I=ze.useRef(!1);xu(()=>(I.current=!0,()=>{I.current=!1}),[]),xu(()=>{if(y&&(w.current=y),j&&(N.current=j),y&&j){if(S.current)return S.current(y,j,M);M()}},[y,j,M,S,C]);const O=ze.useMemo(()=>({reference:w,floating:N,setReference:b,setFloating:v}),[b,v]),T=ze.useMemo(()=>({reference:y,floating:j}),[y,j]),L=ze.useMemo(()=>{const e={position:r,left:0,top:0};if(!T.floating)return e;const t=fu(T.floating,d.x),s=fu(T.floating,d.y);return o?ke(Ce(ke({},e),{transform:"translate("+t+"px, "+s+"px)"}),gu(T.floating)>=1.5&&{willChange:"transform"}):{position:r,left:t,top:s}},[r,o,T.floating,d.x,d.y]);return ze.useMemo(()=>Ce(ke({},d),{update:M,refs:O,elements:T,floatingStyles:L}),[d,M,O,T,L])}({strategy:"fixed",placement:A,whileElementsMounted:(...e)=>nu(...e,{animationFrame:"always"===w}),elements:{reference:C.anchor},middleware:[vu({mainAxis:h+L,alignmentAxis:p}),f&&yu(ke({mainAxis:!0,crossAxis:!1,limiter:"partial"===y?ju():void 0},z)),f&&wu(ke({},z)),Nu(Ce(ke({},z),{apply:({elements:e,rects:t,availableWidth:r,availableHeight:s})=>{const{width:a,height:n}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${r}px`),i.setProperty("--radix-popper-available-height",`${s}px`),i.setProperty("--radix-popper-anchor-width",`${a}px`),i.setProperty("--radix-popper-anchor-height",`${n}px`)}})),M&&Cu({element:M,padding:g}),Vu({arrowWidth:T,arrowHeight:L}),j&&ku(ke({strategy:"referenceHidden"},z))]}),[V,U]=Uu(F),H=xc(N);ic(()=>{B&&(null==H||H())},[B,H]);const G=null==(a=W.arrow)?void 0:a.x,Q=null==(n=W.arrow)?void 0:n.y,X=0!==(null==(i=W.arrow)?void 0:i.centerOffset),[K,Y]=ze.useState();return ic(()=>{S&&Y(window.getComputedStyle(S).zIndex)},[S]),Br.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:ke(Ce(ke({},q),{transform:B?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[null==(o=W.transformOrigin)?void 0:o.x,null==(l=W.transformOrigin)?void 0:l.y].join(" ")}),(null==(c=W.hide)?void 0:c.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:Br.jsx(Ru,{scope:u,placedSide:V,onArrowChange:I,arrowX:G,arrowY:Q,shouldHideArrow:X,children:Br.jsx(cc.div,Ce(ke({"data-side":V,"data-align":U},k),{ref:_,style:Ce(ke({},k.style),{animation:B?void 0:"none"})}))})})});$u.displayName=Pu;var qu="PopperArrow",Fu={top:"bottom",right:"left",bottom:"top",left:"right"},Bu=ze.forwardRef(function(e,t){const r=e,{__scopePopper:s}=r,a=Se(r,["__scopePopper"]),n=zu(qu,s),i=Fu[n.placedSide];return Br.jsx("span",{ref:n.onArrowChange,style:{position:"absolute",left:n.arrowX,top:n.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[n.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[n.placedSide],visibility:n.shouldHideArrow?"hidden":void 0},children:Br.jsx(Eu,Ce(ke({},a),{ref:t,style:Ce(ke({},a.style),{display:"block"})}))})});function Wu(e){return null!==e}Bu.displayName=qu;var Vu=e=>({name:"transformOrigin",options:e,fn(t){var r,s,a,n,i;const{placement:o,rects:l,middlewareData:c}=t,d=0!==(null==(r=c.arrow)?void 0:r.centerOffset),u=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[h,x]=Uu(o),p={start:"0%",center:"50%",end:"100%"}[x],g=(null!=(a=null==(s=c.arrow)?void 0:s.x)?a:0)+u/2,f=(null!=(i=null==(n=c.arrow)?void 0:n.y)?i:0)+m/2;let b="",v="";return"bottom"===h?(b=d?p:`${g}px`,v=-m+"px"):"top"===h?(b=d?p:`${g}px`,v=`${l.floating.height+m}px`):"right"===h?(b=-m+"px",v=d?p:`${f}px`):"left"===h&&(b=`${l.floating.width+m}px`,v=d?p:`${f}px`),{data:{x:b,y:v}}}});function Uu(e){const[t,r="center"]=e.split("-");return[t,r]}var Hu=Lu,Gu=Du,Qu=$u,Xu=Bu,Ku=ze.forwardRef((e,t)=>{var r;const s=e,{container:a}=s,n=Se(s,["container"]),[i,o]=ze.useState(!1);ic(()=>o(!0),[]);const l=a||i&&(null==(r=null==globalThis?void 0:globalThis.document)?void 0:r.body);return l?Ve.createPortal(Br.jsx(cc.div,Ce(ke({},n),{ref:t})),l):null});Ku.displayName="Portal";var Yu=e=>{const{present:t,children:r}=e,s=function(e){const[t,r]=ze.useState(),s=ze.useRef(null),a=ze.useRef(e),n=ze.useRef("none"),i=e?"mounted":"unmounted",[o,l]=function(e,t){return ze.useReducer((e,r)=>{const s=t[e][r];return null!=s?s:e},e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return ze.useEffect(()=>{const e=Ju(s.current);n.current="mounted"===o?e:"none"},[o]),ic(()=>{const t=s.current,r=a.current;if(r!==e){const s=n.current,i=Ju(t);if(e)l("MOUNT");else if("none"===i||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(r&&s!==i?"ANIMATION_OUT":"UNMOUNT")}a.current=e}},[e,l]),ic(()=>{var e;if(t){let r;const i=null!=(e=t.ownerDocument.defaultView)?e:window,o=e=>{const n=Ju(s.current).includes(CSS.escape(e.animationName));if(e.target===t&&n&&(l("ANIMATION_END"),!a.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",r=i.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},c=e=>{e.target===t&&(n.current=Ju(s.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{i.clearTimeout(r),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:ze.useCallback(e=>{s.current=e?getComputedStyle(e):null,r(e)},[])}}(t),a="function"==typeof r?r({present:s.isPresent}):ze.Children.only(r),n=Qs(s.ref,function(e){var t,r;let s=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,a=s&&"isReactWarning"in s&&s.isReactWarning;if(a)return e.ref;if(s=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(a));return"function"==typeof r||s.isPresent?ze.cloneElement(a,{ref:n}):null};function Ju(e){return(null==e?void 0:e.animationName)||"none"}Yu.displayName="Presence";var Zu="rovingFocusGroup.onEntryFocus",em={bubbles:!1,cancelable:!0},tm="RovingFocusGroup",[rm,sm,am]=uc(tm),[nm,im]=ac(tm,[am]),[om,lm]=nm(tm),cm=ze.forwardRef((e,t)=>Br.jsx(rm.Provider,{scope:e.__scopeRovingFocusGroup,children:Br.jsx(rm.Slot,{scope:e.__scopeRovingFocusGroup,children:Br.jsx(dm,Ce(ke({},e),{ref:t}))})}));cm.displayName=tm;var dm=ze.forwardRef((e,t)=>{const r=e,{__scopeRovingFocusGroup:s,orientation:a,loop:n=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1}=r,m=Se(r,["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"]),h=ze.useRef(null),x=Qs(t,h),p=hc(i),[g,f]=lc({prop:o,defaultProp:null!=l?l:null,onChange:c,caller:tm}),[b,v]=ze.useState(!1),y=xc(d),j=sm(s),w=ze.useRef(!1),[N,k]=ze.useState(0);return ze.useEffect(()=>{const e=h.current;if(e)return e.addEventListener(Zu,y),()=>e.removeEventListener(Zu,y)},[y]),Br.jsx(om,{scope:s,orientation:a,dir:p,loop:n,currentTabStopId:g,onItemFocus:ze.useCallback(e=>f(e),[f]),onItemShiftTab:ze.useCallback(()=>v(!0),[]),onFocusableItemAdd:ze.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:ze.useCallback(()=>k(e=>e-1),[]),children:Br.jsx(cc.div,Ce(ke({tabIndex:b||0===N?-1:0,"data-orientation":a},m),{ref:x,style:ke({outline:"none"},e.style),onMouseDown:sc(e.onMouseDown,()=>{w.current=!0}),onFocus:sc(e.onFocus,e=>{const t=!w.current;if(e.target===e.currentTarget&&t&&!b){const t=new CustomEvent(Zu,em);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=j().filter(e=>e.focusable);xm([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),u)}}w.current=!1}),onBlur:sc(e.onBlur,()=>v(!1))}))})}),um="RovingFocusGroupItem",mm=ze.forwardRef((e,t)=>{const r=e,{__scopeRovingFocusGroup:s,focusable:a=!0,active:n=!1,tabStopId:i,children:o}=r,l=Se(r,["__scopeRovingFocusGroup","focusable","active","tabStopId","children"]),c=Rc(),d=i||c,u=lm(um,s),m=u.currentTabStopId===d,h=sm(s),{onFocusableItemAdd:x,onFocusableItemRemove:p,currentTabStopId:g}=u;return ze.useEffect(()=>{if(a)return x(),()=>p()},[a,x,p]),Br.jsx(rm.ItemSlot,{scope:s,id:d,focusable:a,active:n,children:Br.jsx(cc.span,Ce(ke({tabIndex:m?0:-1,"data-orientation":u.orientation},l),{ref:t,onMouseDown:sc(e.onMouseDown,e=>{a?u.onItemFocus(d):e.preventDefault()}),onFocus:sc(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:sc(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,r){const s=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,r);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(s)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)?void 0:hm[s]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();const n=a.indexOf(e.currentTarget);a=u.loop?(s=n+1,(r=a).map((e,t)=>r[(s+t)%r.length])):a.slice(n+1)}setTimeout(()=>xm(a))}var r,s}),children:"function"==typeof o?o({isCurrentTabStop:m,hasTabStop:null!=g}):o}))})});mm.displayName=um;var hm={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xm(e,t=!1){const r=document.activeElement;for(const s of e){if(s===r)return;if(s.focus({preventScroll:t}),document.activeElement!==r)return}}var pm=cm,gm=mm,fm=new WeakMap,bm=new WeakMap,vm={},ym=0,jm=function(e){return e&&(e.host||jm(e.parentNode))},wm=function(e,t,r,s){var a=function(e,t){return t.map(function(t){if(e.contains(t))return t;var r=jm(t);return r&&e.contains(r)?r:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);vm[r]||(vm[r]=new WeakMap);var n=vm[r],i=[],o=new Set,l=new Set(a),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};a.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))d(e);else try{var t=e.getAttribute(s),a=null!==t&&"false"!==t,l=(fm.get(e)||0)+1,c=(n.get(e)||0)+1;fm.set(e,l),n.set(e,c),i.push(e),1===l&&a&&bm.set(e,!0),1===c&&e.setAttribute(r,"true"),a||e.setAttribute(s,"true")}catch(Dn){}})};return d(t),o.clear(),ym++,function(){i.forEach(function(e){var t=fm.get(e)-1,a=n.get(e)-1;fm.set(e,t),n.set(e,a),t||(bm.has(e)||e.removeAttribute(s),bm.delete(e)),a||e.removeAttribute(r)}),--ym||(fm=new WeakMap,fm=new WeakMap,bm=new WeakMap,vm={})}},Nm=function(e,t,r){void 0===r&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),wm(s,a,r,"aria-hidden")):function(){return null}},km=function(){return km=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},km.apply(this,arguments)};function Cm(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]])}return r}"function"==typeof SuppressedError&&SuppressedError;var Sm="right-scroll-bar-position",Em="width-before-scroll-bar";function _m(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Mm="undefined"!=typeof window?ze.useLayoutEffect:ze.useEffect,Im=new WeakMap;function Om(e,t){var r,s,a,n=(r=null,s=function(t){return e.forEach(function(e){return _m(e,t)})},(a=ze.useState(function(){return{value:r,callback:s,facade:{get current(){return a.value},set current(e){var t=a.value;t!==e&&(a.value=e,a.callback(e,t))}}}})[0]).callback=s,a.facade);return Mm(function(){var t=Im.get(n);if(t){var r=new Set(t),s=new Set(e),a=n.current;r.forEach(function(e){s.has(e)||_m(e,null)}),s.forEach(function(e){r.has(e)||_m(e,a)})}Im.set(n,e)},[e]),n}function Tm(e){return e}var Lm=function(e){var t=e.sideCar,r=Cm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return ze.createElement(s,km({},r))};Lm.isSideCarExport=!0;var Am=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=Tm);var r=[],s=!1;return{read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var a=t(e,s);return r.push(a),function(){r=r.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(s=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){s=!0;var t=[];if(r.length){var a=r;r=[],a.forEach(e),t=r}var n=function(){var r=t;t=[],r.forEach(e)},i=function(){return Promise.resolve().then(n)};i(),r={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),r}}}}}(null);return t.options=km({async:!0,ssr:!1},e),t}(),Dm=function(){},Pm=ze.forwardRef(function(e,t){var r=ze.useRef(null),s=ze.useState({onScrollCapture:Dm,onWheelCapture:Dm,onTouchMoveCapture:Dm}),a=s[0],n=s[1],i=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,m=e.sideCar,h=e.noRelative,x=e.noIsolation,p=e.inert,g=e.allowPinchZoom,f=e.as,b=void 0===f?"div":f,v=e.gapMode,y=Cm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,w=Om([r,t]),N=km(km({},y),a);return ze.createElement(ze.Fragment,null,d&&ze.createElement(j,{sideCar:Am,removeScrollBar:c,shards:u,noRelative:h,noIsolation:x,inert:p,setCallbacks:n,allowPinchZoom:!!g,lockRef:r,gapMode:v}),i?ze.cloneElement(ze.Children.only(o),km(km({},N),{ref:w})):ze.createElement(b,km({},N,{className:l,ref:w}),o))});Pm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Pm.classNames={fullWidth:Em,zeroRight:Sm};function Rm(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var zm=function(){var e=0,t=null;return{add:function(r){var s,a;0==e&&(t=Rm())&&(a=r,(s=t).styleSheet?s.styleSheet.cssText=a:s.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$m=function(){var e,t=(e=zm(),function(t,r){ze.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])});return function(e){var r=e.styles,s=e.dynamic;return t(r,s),null}},qm={left:0,top:0,right:0,gap:0},Fm=function(e){return parseInt(e||"",10)||0},Bm=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return qm;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],s=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[Fm(r),Fm(s),Fm(a)]}(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},Wm=$m(),Vm="data-scroll-locked",Um=function(e,t,r,s){var a=e.left,n=e.top,i=e.right,o=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(s,";\n   padding-right: ").concat(o,"px ").concat(s,";\n  }\n  body[").concat(Vm,"] {\n    overflow: hidden ").concat(s,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(s,";"),"margin"===r&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(n,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(s,";\n    "),"padding"===r&&"padding-right: ".concat(o,"px ").concat(s,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Sm," {\n    right: ").concat(o,"px ").concat(s,";\n  }\n  \n  .").concat(Em," {\n    margin-right: ").concat(o,"px ").concat(s,";\n  }\n  \n  .").concat(Sm," .").concat(Sm," {\n    right: 0 ").concat(s,";\n  }\n  \n  .").concat(Em," .").concat(Em," {\n    margin-right: 0 ").concat(s,";\n  }\n  \n  body[").concat(Vm,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},Hm=function(){var e=parseInt(document.body.getAttribute(Vm)||"0",10);return isFinite(e)?e:0},Gm=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=void 0===s?"margin":s;ze.useEffect(function(){return document.body.setAttribute(Vm,(Hm()+1).toString()),function(){var e=Hm()-1;e<=0?document.body.removeAttribute(Vm):document.body.setAttribute(Vm,e.toString())}},[]);var n=ze.useMemo(function(){return Bm(a)},[a]);return ze.createElement(Wm,{styles:Um(n,!t,a,r?"":"!important")})},Qm=!1;if("undefined"!=typeof window)try{var Xm=Object.defineProperty({},"passive",{get:function(){return Qm=!0,!0}});window.addEventListener("test",Xm,Xm),window.removeEventListener("test",Xm,Xm)}catch(Kw){Qm=!1}var Km=!!Qm&&{passive:!1},Ym=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},Jm=function(e,t){var r=t.ownerDocument,s=t;do{if("undefined"!=typeof ShadowRoot&&s instanceof ShadowRoot&&(s=s.host),Zm(e,s)){var a=eh(e,s);if(a[1]>a[2])return!0}s=s.parentNode}while(s&&s!==r.body);return!1},Zm=function(e,t){return"v"===e?function(e){return Ym(e,"overflowY")}(t):function(e){return Ym(e,"overflowX")}(t)},eh=function(e,t){return"v"===e?[(r=t).scrollTop,r.scrollHeight,r.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var r},th=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rh=function(e){return[e.deltaX,e.deltaY]},sh=function(e){return e&&"current"in e?e.current:e},ah=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},nh=0,ih=[];function oh(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lh=(ch=function(e){var t=ze.useRef([]),r=ze.useRef([0,0]),s=ze.useRef(),a=ze.useState(nh++)[0],n=ze.useState($m)[0],i=ze.useRef(e);ze.useEffect(function(){i.current=e},[e]),ze.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=function(e,t,r){if(r||2===arguments.length)for(var s,a=0,n=t.length;a<n;a++)!s&&a in t||(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(sh),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=ze.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var a,n=th(e),o=r.current,l="deltaX"in e?e.deltaX:o[0]-n[0],c="deltaY"in e?e.deltaY:o[1]-n[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=Jm(u,d);if(!m)return!0;if(m?a=u:(a="v"===u?"h":"v",m=Jm(u,d)),!m)return!1;if(!s.current&&"changedTouches"in e&&(l||c)&&(s.current=a),!a)return!0;var h=s.current||a;return function(e,t,r,s){var a=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),n=a*s,i=r.target,o=t.contains(i),l=!1,c=n>0,d=0,u=0;do{if(!i)break;var m=eh(e,i),h=m[0],x=m[1]-m[2]-a*h;(h||x)&&Zm(e,i)&&(d+=x,u+=h);var p=i.parentNode;i=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!o&&i!==document.body||o&&(t.contains(i)||t===i));return(c&&Math.abs(d)<1||!c&&Math.abs(u)<1)&&(l=!0),l}(h,t,e,"h"===h?l:c)},[]),l=ze.useCallback(function(e){var r=e;if(ih.length&&ih[ih.length-1]===n){var s="deltaY"in r?rh(r):th(r),a=t.current.filter(function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&(t=e.delta,a=s,t[0]===a[0]&&t[1]===a[1]);var t,a})[0];if(a&&a.should)r.cancelable&&r.preventDefault();else if(!a){var l=(i.current.shards||[]).map(sh).filter(Boolean).filter(function(e){return e.contains(r.target)});(l.length>0?o(r,l[0]):!i.current.noIsolation)&&r.cancelable&&r.preventDefault()}}},[]),c=ze.useCallback(function(e,r,s,a){var n={name:e,delta:r,target:s,should:a,shadowParent:oh(s)};t.current.push(n),setTimeout(function(){t.current=t.current.filter(function(e){return e!==n})},1)},[]),d=ze.useCallback(function(e){r.current=th(e),s.current=void 0},[]),u=ze.useCallback(function(t){c(t.type,rh(t),t.target,o(t,e.lockRef.current))},[]),m=ze.useCallback(function(t){c(t.type,th(t),t.target,o(t,e.lockRef.current))},[]);ze.useEffect(function(){return ih.push(n),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Km),document.addEventListener("touchmove",l,Km),document.addEventListener("touchstart",d,Km),function(){ih=ih.filter(function(e){return e!==n}),document.removeEventListener("wheel",l,Km),document.removeEventListener("touchmove",l,Km),document.removeEventListener("touchstart",d,Km)}},[]);var h=e.removeScrollBar,x=e.inert;return ze.createElement(ze.Fragment,null,x?ze.createElement(n,{styles:ah(a)}):null,h?ze.createElement(Gm,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Am.useMedium(ch),Lm);var ch,dh=ze.forwardRef(function(e,t){return ze.createElement(Pm,km({},e,{ref:t,sideCar:lh}))});dh.classNames=Pm.classNames;var uh=["Enter"," "],mh=["ArrowUp","PageDown","End"],hh=["ArrowDown","PageUp","Home",...mh],xh={ltr:[...uh,"ArrowRight"],rtl:[...uh,"ArrowLeft"]},ph={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gh="Menu",[fh,bh,vh]=uc(gh),[yh,jh]=ac(gh,[vh,Iu,im]),wh=Iu(),Nh=im(),[kh,Ch]=yh(gh),[Sh,Eh]=yh(gh),_h=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:n,modal:i=!0}=e,o=wh(t),[l,c]=ze.useState(null),d=ze.useRef(!1),u=xc(n),m=hc(a);return ze.useEffect(()=>{const e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),Br.jsx(Hu,Ce(ke({},o),{children:Br.jsx(kh,{scope:t,open:r,onOpenChange:u,content:l,onContentChange:c,children:Br.jsx(Sh,{scope:t,onClose:ze.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:m,modal:i,children:s})})}))};_h.displayName=gh;var Mh=ze.forwardRef((e,t)=>{const r=e,{__scopeMenu:s}=r,a=Se(r,["__scopeMenu"]),n=wh(s);return Br.jsx(Gu,Ce(ke(ke({},n),a),{ref:t}))});Mh.displayName="MenuAnchor";var Ih="MenuPortal",[Oh,Th]=yh(Ih,{forceMount:void 0}),Lh=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,n=Ch(Ih,t);return Br.jsx(Oh,{scope:t,forceMount:r,children:Br.jsx(Yu,{present:r||n.open,children:Br.jsx(Ku,{asChild:!0,container:a,children:s})})})};Lh.displayName=Ih;var Ah="MenuContent",[Dh,Ph]=yh(Ah),Rh=ze.forwardRef((e,t)=>{const r=Th(Ah,e.__scopeMenu),s=e,{forceMount:a=r.forceMount}=s,n=Se(s,["forceMount"]),i=Ch(Ah,e.__scopeMenu),o=Eh(Ah,e.__scopeMenu);return Br.jsx(fh.Provider,{scope:e.__scopeMenu,children:Br.jsx(Yu,{present:a||i.open,children:Br.jsx(fh.Slot,{scope:e.__scopeMenu,children:o.modal?Br.jsx(zh,Ce(ke({},n),{ref:t})):Br.jsx($h,Ce(ke({},n),{ref:t}))})})})}),zh=ze.forwardRef((e,t)=>{const r=Ch(Ah,e.__scopeMenu),s=ze.useRef(null),a=Qs(t,s);return ze.useEffect(()=>{const e=s.current;if(e)return Nm(e)},[]),Br.jsx(Fh,Ce(ke({},e),{ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:sc(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)}))}),$h=ze.forwardRef((e,t)=>{const r=Ch(Ah,e.__scopeMenu);return Br.jsx(Fh,Ce(ke({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),qh=Xs("MenuContent.ScrollLock"),Fh=ze.forwardRef((e,t)=>{const r=e,{__scopeMenu:s,loop:a=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:x,disableOutsideScroll:p}=r,g=Se(r,["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"]),f=Ch(Ah,s),b=Eh(Ah,s),v=wh(s),y=Nh(s),j=bh(s),[w,N]=ze.useState(null),k=ze.useRef(null),C=Qs(t,k,f.onContentChange),S=ze.useRef(0),E=ze.useRef(""),_=ze.useRef(0),M=ze.useRef(null),I=ze.useRef("right"),O=ze.useRef(0),T=p?dh:ze.Fragment,L=p?{as:qh,allowPinchZoom:!0}:void 0,A=e=>{var t,r;const s=E.current+e,a=j().filter(e=>!e.disabled),n=document.activeElement,i=null==(t=a.find(e=>e.ref.current===n))?void 0:t.textValue,o=function(e,t,r){const s=t.length>1&&Array.from(t).every(e=>e===t[0]),a=s?t[0]:t,n=r?e.indexOf(r):-1;let i=(o=e,l=Math.max(n,0),o.map((e,t)=>o[(l+t)%o.length]));var o,l;1===a.length&&(i=i.filter(e=>e!==r));const c=i.find(e=>e.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}(a.map(e=>e.textValue),s,i),l=null==(r=a.find(e=>e.textValue===o))?void 0:r.ref.current;!function e(t){E.current=t,window.clearTimeout(S.current),""!==t&&(S.current=window.setTimeout(()=>e(""),1e3))}(s),l&&setTimeout(()=>l.focus())};ze.useEffect(()=>()=>window.clearTimeout(S.current),[]),ze.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!=(e=r[0])?e:kc()),document.body.insertAdjacentElement("beforeend",null!=(t=r[1])?t:kc()),Nc++,()=>{1===Nc&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Nc--}},[]);const D=ze.useCallback(e=>{var t,r;return I.current===(null==(t=M.current)?void 0:t.side)&&function(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return function(e,t){const{x:r,y:s}=e;let a=!1;for(let n=0,i=t.length-1;n<t.length;i=n++){const e=t[n],o=t[i],l=e.x,c=e.y,d=o.x,u=o.y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}(r,t)}(e,null==(r=M.current)?void 0:r.area)},[]);return Br.jsx(Dh,{scope:s,searchRef:E,onItemEnter:ze.useCallback(e=>{D(e)&&e.preventDefault()},[D]),onItemLeave:ze.useCallback(e=>{var t;D(e)||(null==(t=k.current)||t.focus(),N(null))},[D]),onTriggerLeave:ze.useCallback(e=>{D(e)&&e.preventDefault()},[D]),pointerGraceTimerRef:_,onPointerGraceIntentChange:ze.useCallback(e=>{M.current=e},[]),children:Br.jsx(T,Ce(ke({},L),{children:Br.jsx(_c,{asChild:!0,trapped:n,onMountAutoFocus:sc(i,e=>{var t;e.preventDefault(),null==(t=k.current)||t.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:Br.jsx(yc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:x,children:Br.jsx(pm,Ce(ke({asChild:!0},y),{dir:b.dir,orientation:"vertical",loop:a,currentTabStopId:w,onCurrentTabStopIdChange:N,onEntryFocus:sc(c,e=>{b.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:Br.jsx(Qu,Ce(ke(ke({role:"menu","aria-orientation":"vertical","data-state":hx(f.open),"data-radix-menu-content":"",dir:b.dir},v),g),{ref:C,style:ke({outline:"none"},g.style),onKeyDown:sc(g.onKeyDown,e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,s=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&s&&A(e.key));const a=k.current;if(e.target!==a)return;if(!hh.includes(e.key))return;e.preventDefault();const n=j().filter(e=>!e.disabled).map(e=>e.ref.current);mh.includes(e.key)&&n.reverse(),function(e){const t=document.activeElement;for(const r of e){if(r===t)return;if(r.focus(),document.activeElement!==t)return}}(n)}),onBlur:sc(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(S.current),E.current="")}),onPointerMove:sc(e.onPointerMove,gx(e=>{const t=e.target,r=O.current!==e.clientX;if(e.currentTarget.contains(t)&&r){const t=e.clientX>O.current?"right":"left";I.current=t,O.current=e.clientX}}))}))}))})})}))})});Rh.displayName=Ah;var Bh=ze.forwardRef((e,t)=>{const r=e,{__scopeMenu:s}=r,a=Se(r,["__scopeMenu"]);return Br.jsx(cc.div,Ce(ke({role:"group"},a),{ref:t}))});Bh.displayName="MenuGroup";var Wh=ze.forwardRef((e,t)=>{const r=e,{__scopeMenu:s}=r,a=Se(r,["__scopeMenu"]);return Br.jsx(cc.div,Ce(ke({},a),{ref:t}))});Wh.displayName="MenuLabel";var Vh="MenuItem",Uh="menu.itemSelect",Hh=ze.forwardRef((e,t)=>{const r=e,{disabled:s=!1,onSelect:a}=r,n=Se(r,["disabled","onSelect"]),i=ze.useRef(null),o=Eh(Vh,e.__scopeMenu),l=Ph(Vh,e.__scopeMenu),c=Qs(t,i),d=ze.useRef(!1);return Br.jsx(Gh,Ce(ke({},n),{ref:c,disabled:s,onClick:sc(e.onClick,()=>{const e=i.current;if(!s&&e){const t=new CustomEvent(Uh,{bubbles:!0,cancelable:!0});e.addEventListener(Uh,e=>null==a?void 0:a(e),{once:!0}),dc(e,t),t.defaultPrevented?d.current=!1:o.onClose()}}),onPointerDown:t=>{var r;null==(r=e.onPointerDown)||r.call(e,t),d.current=!0},onPointerUp:sc(e.onPointerUp,e=>{var t;d.current||null==(t=e.currentTarget)||t.click()}),onKeyDown:sc(e.onKeyDown,e=>{const t=""!==l.searchRef.current;s||t&&" "===e.key||uh.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})}))});Hh.displayName=Vh;var Gh=ze.forwardRef((e,t)=>{const r=e,{__scopeMenu:s,disabled:a=!1,textValue:n}=r,i=Se(r,["__scopeMenu","disabled","textValue"]),o=Ph(Vh,s),l=Nh(s),c=ze.useRef(null),d=Qs(t,c),[u,m]=ze.useState(!1),[h,x]=ze.useState("");return ze.useEffect(()=>{var e;const t=c.current;t&&x((null!=(e=t.textContent)?e:"").trim())},[i.children]),Br.jsx(fh.ItemSlot,{scope:s,disabled:a,textValue:null!=n?n:h,children:Br.jsx(gm,Ce(ke({asChild:!0},l),{focusable:!a,children:Br.jsx(cc.div,Ce(ke({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0},i),{ref:d,onPointerMove:sc(e.onPointerMove,gx(e=>{if(a)o.onItemLeave(e);else if(o.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:sc(e.onPointerLeave,gx(e=>o.onItemLeave(e))),onFocus:sc(e.onFocus,()=>m(!0)),onBlur:sc(e.onBlur,()=>m(!1))}))}))})}),Qh=ze.forwardRef((e,t)=>{const r=e,{checked:s=!1,onCheckedChange:a}=r,n=Se(r,["checked","onCheckedChange"]);return Br.jsx(rx,{scope:e.__scopeMenu,checked:s,children:Br.jsx(Hh,Ce(ke({role:"menuitemcheckbox","aria-checked":xx(s)?"mixed":s},n),{ref:t,"data-state":px(s),onSelect:sc(n.onSelect,()=>null==a?void 0:a(!!xx(s)||!s),{checkForDefaultPrevented:!1})}))})});Qh.displayName="MenuCheckboxItem";var Xh="MenuRadioGroup",[Kh,Yh]=yh(Xh,{value:void 0,onValueChange:()=>{}}),Jh=ze.forwardRef((e,t)=>{const r=e,{value:s,onValueChange:a}=r,n=Se(r,["value","onValueChange"]),i=xc(a);return Br.jsx(Kh,{scope:e.__scopeMenu,value:s,onValueChange:i,children:Br.jsx(Bh,Ce(ke({},n),{ref:t}))})});Jh.displayName=Xh;var Zh="MenuRadioItem",ex=ze.forwardRef((e,t)=>{const r=e,{value:s}=r,a=Se(r,["value"]),n=Yh(Zh,e.__scopeMenu),i=s===n.value;return Br.jsx(rx,{scope:e.__scopeMenu,checked:i,children:Br.jsx(Hh,Ce(ke({role:"menuitemradio","aria-checked":i},a),{ref:t,"data-state":px(i),onSelect:sc(a.onSelect,()=>{var e;return null==(e=n.onValueChange)?void 0:e.call(n,s)},{checkForDefaultPrevented:!1})}))})});ex.displayName=Zh;var tx="MenuItemIndicator",[rx,sx]=yh(tx,{checked:!1}),ax=ze.forwardRef((e,t)=>{const r=e,{__scopeMenu:s,forceMount:a}=r,n=Se(r,["__scopeMenu","forceMount"]),i=sx(tx,s);return Br.jsx(Yu,{present:a||xx(i.checked)||!0===i.checked,children:Br.jsx(cc.span,Ce(ke({},n),{ref:t,"data-state":px(i.checked)}))})});ax.displayName=tx;var nx=ze.forwardRef((e,t)=>{const r=e,{__scopeMenu:s}=r,a=Se(r,["__scopeMenu"]);return Br.jsx(cc.div,Ce(ke({role:"separator","aria-orientation":"horizontal"},a),{ref:t}))});nx.displayName="MenuSeparator";var ix=ze.forwardRef((e,t)=>{const r=e,{__scopeMenu:s}=r,a=Se(r,["__scopeMenu"]),n=wh(s);return Br.jsx(Xu,Ce(ke(ke({},n),a),{ref:t}))});ix.displayName="MenuArrow";var[ox,lx]=yh("MenuSub"),cx="MenuSubTrigger",dx=ze.forwardRef((e,t)=>{const r=Ch(cx,e.__scopeMenu),s=Eh(cx,e.__scopeMenu),a=lx(cx,e.__scopeMenu),n=Ph(cx,e.__scopeMenu),i=ze.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=n,c={__scopeMenu:e.__scopeMenu},d=ze.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return ze.useEffect(()=>d,[d]),ze.useEffect(()=>{const e=o.current;return()=>{window.clearTimeout(e),l(null)}},[o,l]),Br.jsx(Mh,Ce(ke({asChild:!0},c),{children:Br.jsx(Gh,Ce(ke({id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":hx(r.open)},e),{ref:Gs(t,a.onTriggerChange),onClick:t=>{var s;null==(s=e.onClick)||s.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:sc(e.onPointerMove,gx(t=>{n.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||i.current||(n.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:sc(e.onPointerLeave,gx(e=>{var t,s;d();const a=null==(t=r.content)?void 0:t.getBoundingClientRect();if(a){const t=null==(s=r.content)?void 0:s.dataset.side,i="right"===t,l=i?-5:5,c=a[i?"left":"right"],d=a[i?"right":"left"];n.onPointerGraceIntentChange({area:[{x:e.clientX+l,y:e.clientY},{x:c,y:a.top},{x:d,y:a.top},{x:d,y:a.bottom},{x:c,y:a.bottom}],side:t}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>n.onPointerGraceIntentChange(null),300)}else{if(n.onTriggerLeave(e),e.defaultPrevented)return;n.onPointerGraceIntentChange(null)}})),onKeyDown:sc(e.onKeyDown,t=>{var a;const i=""!==n.searchRef.current;e.disabled||i&&" "===t.key||xh[s.dir].includes(t.key)&&(r.onOpenChange(!0),null==(a=r.content)||a.focus(),t.preventDefault())})}))}))});dx.displayName=cx;var ux="MenuSubContent",mx=ze.forwardRef((e,t)=>{const r=Th(Ah,e.__scopeMenu),s=e,{forceMount:a=r.forceMount}=s,n=Se(s,["forceMount"]),i=Ch(Ah,e.__scopeMenu),o=Eh(Ah,e.__scopeMenu),l=lx(ux,e.__scopeMenu),c=ze.useRef(null),d=Qs(t,c);return Br.jsx(fh.Provider,{scope:e.__scopeMenu,children:Br.jsx(Yu,{present:a||i.open,children:Br.jsx(fh.Slot,{scope:e.__scopeMenu,children:Br.jsx(Fh,Ce(ke({id:l.contentId,"aria-labelledby":l.triggerId},n),{ref:d,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;o.isUsingKeyboardRef.current&&(null==(t=c.current)||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:sc(e.onFocusOutside,e=>{e.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:sc(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:sc(e.onKeyDown,e=>{var t;const r=e.currentTarget.contains(e.target),s=ph[o.dir].includes(e.key);r&&s&&(i.onOpenChange(!1),null==(t=l.trigger)||t.focus(),e.preventDefault())})}))})})})});function hx(e){return e?"open":"closed"}function xx(e){return"indeterminate"===e}function px(e){return xx(e)?"indeterminate":e?"checked":"unchecked"}function gx(e){return t=>"mouse"===t.pointerType?e(t):void 0}mx.displayName=ux;var fx=_h,bx=Mh,vx=Lh,yx=Rh,jx=Bh,wx=Wh,Nx=Hh,kx=Qh,Cx=Jh,Sx=ex,Ex=ax,_x=nx,Mx=ix,Ix=dx,Ox=mx,Tx="DropdownMenu",[Lx,Ax]=ac(Tx,[jh]),Dx=jh(),[Px,Rx]=Lx(Tx),zx=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:n,onOpenChange:i,modal:o=!0}=e,l=Dx(t),c=ze.useRef(null),[d,u]=lc({prop:a,defaultProp:null!=n&&n,onChange:i,caller:Tx});return Br.jsx(Px,{scope:t,triggerId:Rc(),triggerRef:c,contentId:Rc(),open:d,onOpenChange:u,onOpenToggle:ze.useCallback(()=>u(e=>!e),[u]),modal:o,children:Br.jsx(fx,Ce(ke({},l),{open:d,onOpenChange:u,dir:s,modal:o,children:r}))})};zx.displayName=Tx;var $x="DropdownMenuTrigger",qx=ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s,disabled:a=!1}=r,n=Se(r,["__scopeDropdownMenu","disabled"]),i=Rx($x,s),o=Dx(s);return Br.jsx(bx,Ce(ke({asChild:!0},o),{children:Br.jsx(cc.button,Ce(ke({type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a},n),{ref:Gs(t,i.triggerRef),onPointerDown:sc(e.onPointerDown,e=>{a||0!==e.button||!1!==e.ctrlKey||(i.onOpenToggle(),i.open||e.preventDefault())}),onKeyDown:sc(e.onKeyDown,e=>{a||(["Enter"," "].includes(e.key)&&i.onOpenToggle(),"ArrowDown"===e.key&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})}))}))});qx.displayName=$x;var Fx=e=>{const t=e,{__scopeDropdownMenu:r}=t,s=Se(t,["__scopeDropdownMenu"]),a=Dx(r);return Br.jsx(vx,ke(ke({},a),s))};Fx.displayName="DropdownMenuPortal";var Bx="DropdownMenuContent",Wx=ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s}=r,a=Se(r,["__scopeDropdownMenu"]),n=Rx(Bx,s),i=Dx(s),o=ze.useRef(!1);return Br.jsx(yx,Ce(ke(ke({id:n.contentId,"aria-labelledby":n.triggerId},i),a),{ref:t,onCloseAutoFocus:sc(e.onCloseAutoFocus,e=>{var t;o.current||null==(t=n.triggerRef.current)||t.focus(),o.current=!1,e.preventDefault()}),onInteractOutside:sc(e.onInteractOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,s=2===t.button||r;n.modal&&!s||(o.current=!0)}),style:ke(ke({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});Wx.displayName=Bx;ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s}=r,a=Se(r,["__scopeDropdownMenu"]),n=Dx(s);return Br.jsx(jx,Ce(ke(ke({},n),a),{ref:t}))}).displayName="DropdownMenuGroup";ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s}=r,a=Se(r,["__scopeDropdownMenu"]),n=Dx(s);return Br.jsx(wx,Ce(ke(ke({},n),a),{ref:t}))}).displayName="DropdownMenuLabel";var Vx=ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s}=r,a=Se(r,["__scopeDropdownMenu"]),n=Dx(s);return Br.jsx(Nx,Ce(ke(ke({},n),a),{ref:t}))});Vx.displayName="DropdownMenuItem";ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s}=r,a=Se(r,["__scopeDropdownMenu"]),n=Dx(s);return Br.jsx(kx,Ce(ke(ke({},n),a),{ref:t}))}).displayName="DropdownMenuCheckboxItem";ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s}=r,a=Se(r,["__scopeDropdownMenu"]),n=Dx(s);return Br.jsx(Cx,Ce(ke(ke({},n),a),{ref:t}))}).displayName="DropdownMenuRadioGroup";ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s}=r,a=Se(r,["__scopeDropdownMenu"]),n=Dx(s);return Br.jsx(Sx,Ce(ke(ke({},n),a),{ref:t}))}).displayName="DropdownMenuRadioItem";ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s}=r,a=Se(r,["__scopeDropdownMenu"]),n=Dx(s);return Br.jsx(Ex,Ce(ke(ke({},n),a),{ref:t}))}).displayName="DropdownMenuItemIndicator";var Ux=ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s}=r,a=Se(r,["__scopeDropdownMenu"]),n=Dx(s);return Br.jsx(_x,Ce(ke(ke({},n),a),{ref:t}))});Ux.displayName="DropdownMenuSeparator";ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s}=r,a=Se(r,["__scopeDropdownMenu"]),n=Dx(s);return Br.jsx(Mx,Ce(ke(ke({},n),a),{ref:t}))}).displayName="DropdownMenuArrow";ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s}=r,a=Se(r,["__scopeDropdownMenu"]),n=Dx(s);return Br.jsx(Ix,Ce(ke(ke({},n),a),{ref:t}))}).displayName="DropdownMenuSubTrigger";ze.forwardRef((e,t)=>{const r=e,{__scopeDropdownMenu:s}=r,a=Se(r,["__scopeDropdownMenu"]),n=Dx(s);return Br.jsx(Ox,Ce(ke(ke({},n),a),{ref:t,style:ke(ke({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))}).displayName="DropdownMenuSubContent";var Hx=zx,Gx=qx,Qx=Fx,Xx=Wx,Kx=Vx,Yx=Ux;const Jx={COURSE_COMPLETION:{icon:Lt,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800"},COURSE_PROGRESS:{icon:nr,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800"},COURSE_ENROLLMENT:{icon:It,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-50 dark:bg-purple-900/20",borderColor:"border-purple-200 dark:border-purple-800"},QUIZ_COMPLETION:{icon:ar,color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",borderColor:"border-emerald-200 dark:border-emerald-800"},NEW_COURSE_ANNOUNCEMENT:{icon:sr,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800"},SYSTEM_UPDATE:{icon:rr,color:"text-gray-600 dark:text-gray-400",bgColor:"bg-gray-50 dark:bg-gray-900/20",borderColor:"border-gray-200 dark:border-gray-800"},REMINDER:{icon:tr,color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",borderColor:"border-yellow-200 dark:border-yellow-800"},ACHIEVEMENT:{icon:Lt,color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",borderColor:"border-indigo-200 dark:border-indigo-800"},MESSAGE:{icon:Ft,color:"text-cyan-600 dark:text-cyan-400",bgColor:"bg-cyan-50 dark:bg-cyan-900/20",borderColor:"border-cyan-200 dark:border-cyan-800"},ALERT:{icon:er,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800"}},Zx=({notification:e,isLast:t=!1})=>{var r;const{markAsRead:s,archiveNotification:a,deleteNotification:n}=dl(),[i,o]=ze.useState(!1),l=Jx[e.type]||Jx.SYSTEM_UPDATE,c=l.icon,d=()=>Ae(null,null,function*(){if("read"!==e.status){o(!0);try{yield s(e.id)}catch(t){}finally{o(!1)}}});return Br.jsx("div",{className:`\n        group relative p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors cursor-pointer\n        ${"unread"===e.status?"bg-blue-50/30 dark:bg-blue-900/10":""}\n        ${i?"opacity-60 pointer-events-none":""}\n      `,onClick:d,children:Br.jsxs("div",{className:"flex items-start space-x-3",children:[Br.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full ${l.bgColor} ${l.borderColor} border flex items-center justify-center`,children:Br.jsx(c,{className:`w-5 h-5 ${l.color}`})}),Br.jsxs("div",{className:"flex-1 min-w-0",children:[Br.jsxs("div",{className:"flex items-start justify-between",children:[Br.jsxs("div",{className:"flex-1",children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white "+("unread"===e.status?"font-semibold":""),children:e.title}),Br.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300 line-clamp-2",children:e.message}),Br.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[Br.jsx("span",{children:(e=>{try{return function(e,t){return Tl(1,arguments),Yl(e,Date.now(),t)}(new Date(e),{addSuffix:!0,locale:rc})}catch(Dn){return"Hace un momento"}})(e.created_at)}),(null==(r=e.metadata)?void 0:r.course_name)&&Br.jsxs("span",{className:"flex items-center space-x-1",children:[Br.jsx(nr,{className:"w-3 h-3"}),Br.jsx("span",{children:e.metadata.course_name})]})]})]}),"unread"===e.status&&Br.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full ml-2 mt-1"})]}),e.action_url&&e.action_label&&Br.jsx("div",{className:"mt-3 flex items-center space-x-2",children:Br.jsxs("button",{onClick:t=>{var r;t.stopPropagation(),(r=e.action_url)&&(window.location.href=r),d()},className:"inline-flex items-center px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-full hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:[e.action_label,Br.jsx(ir,{className:"w-3 h-3 ml-1"})]})})]}),Br.jsxs(Hx,{children:[Br.jsx(Gx,{asChild:!0,children:Br.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 rounded text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-all",onClick:e=>e.stopPropagation(),children:Br.jsx(or,{className:"w-4 h-4"})})}),Br.jsx(Qx,{children:Br.jsxs(Xx,{className:"min-w-[200px] bg-white dark:bg-gray-800 rounded-md p-1 shadow-lg border border-gray-200 dark:border-gray-700 z-50",sideOffset:5,children:["read"===e.status?Br.jsxs(Kx,{className:"flex items-center px-3 py-2 text-sm text-gray-500 dark:text-gray-400 cursor-not-allowed",disabled:!0,children:[Br.jsx(tr,{className:"w-4 h-4 mr-2"}),"Marcar como no leída (no disponible)"]}):Br.jsxs(Kx,{className:"flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer",onClick:d,children:[Br.jsx(ar,{className:"w-4 h-4 mr-2"}),"Marcar como leída"]}),Br.jsxs(Kx,{className:"flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer",onClick:()=>Ae(null,null,function*(){o(!0);try{yield a(e.id)}catch(t){}finally{o(!1)}}),children:[Br.jsx(lr,{className:"w-4 h-4 mr-2"}),"Archivar"]}),Br.jsx(Yx,{className:"h-px bg-gray-200 dark:bg-gray-600 my-1"}),Br.jsxs(Kx,{className:"flex items-center px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded cursor-pointer",onClick:()=>Ae(null,null,function*(){if(window.confirm("¿Estás seguro de que quieres eliminar esta notificación?")){o(!0);try{yield n(e.id)}catch(t){}finally{o(!1)}}}),children:[Br.jsx(cr,{className:"w-4 h-4 mr-2"}),"Eliminar"]})]})})]})]})})},ep=({notifications:e,loading:t,hasMore:r,onLoadMore:s})=>{const a=ze.useRef(null),n=ze.useRef(null);return ze.useEffect(()=>{const e=n.current;if(!e||!r||t)return;const a=new IntersectionObserver(e=>{e[0].isIntersecting&&s()},{threshold:.1});return a.observe(e),()=>{a.disconnect()}},[r,t,s]),t||0!==e.length?t&&0===e.length?Br.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[Br.jsx(dr,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 animate-spin mb-4"}),Br.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cargando notificaciones..."})]}):Br.jsxs("div",{ref:a,className:"flex-1 overflow-y-auto max-h-[50vh]",style:{scrollbarWidth:"thin"},children:[Br.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:e.map((t,r)=>Br.jsx(Zx,{notification:t,isLast:r===e.length-1},t.id))}),r&&Br.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700",children:Br.jsx("button",{ref:n,onClick:s,disabled:t,className:"w-full py-3 px-4 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?Br.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[Br.jsx(dr,{className:"w-4 h-4 animate-spin"}),Br.jsx("span",{children:"Cargando más..."})]}):Br.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[Br.jsx(Xt,{className:"w-4 h-4"}),Br.jsx("span",{children:"Cargar más notificaciones"})]})})}),!r&&e.length>0&&Br.jsx("div",{className:"py-4 text-center",children:Br.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"No hay más notificaciones"})})]}):Br.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[Br.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:Br.jsx(tr,{className:"w-8 h-8 text-gray-400"})}),Br.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No hay notificaciones"}),Br.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-sm",children:"Cuando tengas nuevas notificaciones sobre tus cursos y progreso, aparecerán aquí."})]})},tp=({isOpen:e,onClose:t})=>{const{notifications:r,unreadCount:s,loading:a,error:n,hasMore:i,loadNotifications:o,markAllAsRead:l,refreshUnreadCount:c,clearError:d}=dl(),[u,m]=ze.useState("notifications"),[h,x]=ze.useState("all");ze.useEffect(()=>{e&&o(1,"all"===h?void 0:h)},[e,h]),ze.useEffect(()=>{e&&c()},[e]);return e?Br.jsxs(Br.Fragment,{children:[Br.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:t}),Br.jsxs("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[90vw] max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 rounded-lg shadow-xl z-50 overflow-hidden",children:[Br.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[Br.jsxs("div",{className:"flex items-center space-x-3",children:[Br.jsx(tr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),Br.jsxs("div",{children:[Br.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Centro de Notificaciones"}),Br.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s>0&&`${s} notificaciones no leídas`})]})]}),Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsx("button",{onClick:()=>{o(1,"all"===h?void 0:h)},disabled:a,className:"p-2 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 transition-colors",title:"Actualizar",children:Br.jsx(Xt,{className:"w-5 h-5 "+(a?"animate-spin":"")})}),Br.jsx("button",{onClick:t,className:"p-2 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Cerrar",children:Br.jsx(ur,{className:"w-5 h-5"})})]})]}),Br.jsxs("div",{className:"flex bg-gray-50 dark:bg-gray-900 p-1",children:[Br.jsx("button",{onClick:()=>m("notifications"),className:"flex-1 py-2 px-4 text-sm font-medium rounded-md transition-all "+("notifications"===u?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:"Notificaciones"}),Br.jsx("button",{onClick:()=>m("preferences"),className:"flex-1 py-2 px-4 text-sm font-medium rounded-md transition-all "+("preferences"===u?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"),children:"Preferencias"})]}),"notifications"===u&&Br.jsxs("div",{children:[Br.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[Br.jsxs("div",{className:"relative",children:[Br.jsxs("select",{value:h,onChange:e=>{return t=e.target.value,x(t),void o(1,"all"===t?void 0:t);var t},className:"flex items-center space-x-2 px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-sm hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 pr-8",children:[Br.jsx("option",{value:"all",children:"Todas"}),Br.jsx("option",{value:"unread",children:"No leídas"}),Br.jsx("option",{value:"read",children:"Leídas"}),Br.jsx("option",{value:"archived",children:"Archivadas"})]}),Br.jsx(mr,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 pointer-events-none text-gray-400"})]}),s>0&&Br.jsxs("button",{onClick:()=>Ae(null,null,function*(){try{yield l(),"unread"===h&&o(1,"unread")}catch(Kw){}}),className:"flex items-center space-x-2 px-3 py-2 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",children:[Br.jsx(hr,{className:"w-4 h-4"}),Br.jsx("span",{children:"Marcar todas como leídas"})]})]}),Br.jsxs("div",{className:"flex-1 overflow-hidden",children:[n&&Br.jsx("div",{className:"p-4 m-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:n}),Br.jsx("button",{onClick:d,className:"text-red-400 hover:text-red-600 dark:hover:text-red-300",children:"×"})]})}),Br.jsx(ep,{notifications:r,loading:a,hasMore:i,onLoadMore:()=>{if(i&&!a){const e=Math.floor(r.length/20)+1;o(e,"all"===h?void 0:h)}}})]})]}),"preferences"===u&&Br.jsxs("div",{className:"p-6",children:[Br.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Configuración de Notificaciones"}),Br.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Las preferencias de notificación se configurarán próximamente."})]}),Br.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[Br.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.length," notificaciones mostradas"]}),Br.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Cerrar"})]})]})]}):null},rp=({className:e="",maxVisible:t=5})=>{const{unreadCount:r,refreshUnreadCount:s}=dl(),[a,n]=ze.useState([]),[i,o]=ze.useState(!1),[l,c]=ze.useState(!1);ze.useEffect(()=>{d()},[]);const d=()=>Ae(null,null,function*(){try{const e=(yield nl.getUserNotifications("unread",1,t)).notifications.map(e=>({id:e.id,type:nl.mapNotificationType(e.type),title:e.title,message:e.message,timestamp:new Date(e.created_at),read:"read"===e.status,action:e.action_url?{label:e.action_label||"Ver más",onClick:()=>window.location.href=e.action_url}:void 0}));n(e)}catch(e){n([])}}),u=ze.useCallback(e=>Ae(null,null,function*(){try{yield nl.markAsRead(e),n(t=>t.map(t=>t.id===e?Ce(ke({},t),{read:!0}):t)),s()}catch(t){}}),[s]),m=ze.useCallback(()=>Ae(null,null,function*(){try{yield nl.markAllAsRead(),n(e=>e.map(e=>Ce(ke({},e),{read:!0}))),s()}catch(e){}}),[s]),h=ze.useCallback(e=>Ae(null,null,function*(){try{yield nl.deleteNotification(e),n(t=>(Array.isArray(t)?t:[]).filter(t=>t.id!==e)),s()}catch(t){}}),[s]),x=e=>{const t="w-4 h-4";switch(e){case"success":return Br.jsx(Gt,{className:`${t} text-green-500`});case"warning":return Br.jsx(Nt,{className:`${t} text-yellow-500`});case"error":return Br.jsx(er,{className:`${t} text-red-500`});default:return Br.jsx(rr,{className:`${t} text-blue-500`})}},p=a.slice(0,t);return Br.jsxs("div",{className:`relative ${e}`,children:[Br.jsxs("button",{onClick:()=>o(!i),className:`\n          relative p-2 rounded-lg\n          ${El.button}\n          text-gray-500 dark:text-gray-400\n          hover:text-gray-700 dark:hover:text-gray-200\n          hover:bg-gray-100 dark:hover:bg-gray-800\n        `,"aria-label":"Notificaciones "+(r>0?`(${r} no leídas)`:""),"aria-expanded":i,"aria-haspopup":"true",children:[Br.jsx(tr,{className:"w-5 h-5","aria-hidden":"true"}),r>0&&Br.jsx("span",{className:`\n            absolute -top-1 -right-1 \n            w-5 h-5 \n            bg-red-500 text-white \n            text-xs font-bold \n            rounded-full \n            flex items-center justify-center\n            ${_l.online}\n          `,children:r>9?"9+":r})]}),i&&Br.jsxs(Br.Fragment,{children:[Br.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1),"aria-hidden":"true"}),Br.jsxs("div",{className:`\n            absolute right-0 top-full mt-2 z-20\n            ${El.dropdown}\n            bg-white dark:bg-gray-800\n            border border-gray-200 dark:border-gray-700\n            rounded-lg shadow-lg\n            w-80 max-w-sm\n          `,children:[Br.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[Br.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Notificaciones"}),r>0&&Br.jsx("button",{onClick:m,className:`\n                    text-xs text-blue-600 dark:text-blue-400\n                    hover:text-blue-700 dark:hover:text-blue-300\n                    ${El.button}\n                  `,children:"Marcar todas como leídas"})]}),Br.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===p.length?Br.jsxs("div",{className:"px-4 py-8 text-center",children:[Br.jsx(tr,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),Br.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No tienes notificaciones"})]}):p.map(e=>{return Br.jsx("div",{className:`\n                      px-4 py-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0\n                      ${e.read?"":"bg-blue-50 dark:bg-blue-900/10"}\n                      ${El.button}\n                      cursor-pointer\n                    `,onClick:()=>u(e.id),children:Br.jsxs("div",{className:"flex items-start space-x-3",children:[Br.jsx("div",{className:"flex-shrink-0 mt-0.5",children:x(e.type)}),Br.jsxs("div",{className:"flex-1 min-w-0",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-1",children:[Br.jsx("p",{className:`\n                            text-sm font-medium \n                            ${e.read?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}\n                          `,children:e.title}),Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:(t=e.timestamp,nl.formatTimestamp(t.toISOString()))}),Br.jsx("button",{onClick:t=>{t.stopPropagation(),h(e.id)},className:`\n                                p-1 rounded\n                                text-gray-400 hover:text-gray-600 dark:hover:text-gray-200\n                                hover:bg-gray-200 dark:hover:bg-gray-600\n                                ${El.button}\n                              `,"aria-label":"Eliminar notificación",children:Br.jsx(ur,{className:"w-3 h-3"})})]})]}),Br.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.message}),e.action&&Br.jsx("button",{onClick:t=>{t.stopPropagation(),e.action.onClick()},className:`\n                              text-xs text-blue-600 dark:text-blue-400\n                              hover:text-blue-700 dark:hover:text-blue-300\n                              font-medium\n                              ${El.button}\n                            `,children:e.action.label}),!e.read&&Br.jsx("div",{className:"absolute right-2 top-3 w-2 h-2 bg-blue-600 rounded-full"})]})]})},e.id);var t})}),Br.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700",children:Br.jsx("button",{onClick:()=>{o(!1),c(!0)},className:`\n                  text-sm text-blue-600 dark:text-blue-400\n                  hover:text-blue-700 dark:hover:text-blue-300\n                  font-medium\n                  ${El.button}\n                `,children:"Ver todas las notificaciones"})})]})]}),Br.jsx(tp,{isOpen:l,onClose:()=>c(!1)})]})},sp=ze.createContext(void 0),ap=({children:e})=>{const[t,r]=ze.useState(()=>"undefined"!=typeof window&&localStorage.getItem("theme")||"system"),s=e=>"system"!==e?e:"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",[a,n]=ze.useState(()=>s(t)),i=e=>{r(e),localStorage.setItem("theme",e);const t=s(e);n(t),"undefined"!=typeof document&&(document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(t))};ze.useEffect(()=>{if("system"===t&&"undefined"!=typeof window){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{const t=e.matches?"dark":"light";n(t),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(t)};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}},[t]),ze.useEffect(()=>{const e=s(t);n(e),"undefined"!=typeof document&&(document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(e))},[]);const o={theme:t,actualTheme:a,setTheme:i,toggleTheme:()=>{i("light"===a?"dark":"light")}};return Br.jsx(sp.Provider,{value:o,children:e})},np=({className:e="",compact:t=!1})=>{const{theme:r,actualTheme:s,setTheme:a}=(()=>{const e=ze.useContext(sp);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e})(),[n,i]=ze.useState(!1),o=[{key:"light",label:"Claro",icon:xr,description:"Tema claro"},{key:"dark",label:"Oscuro",icon:pr,description:"Tema oscuro"},{key:"system",label:"Sistema",icon:gr,description:"Seguir preferencias del sistema"}],l=o.find(e=>e.key===r)||o[0],c=l.icon;return t?Br.jsxs("div",{className:`relative ${e}`,children:[Br.jsxs("button",{onClick:()=>i(!n),className:`\n            flex items-center space-x-1 px-2 py-1.5 rounded-lg\n            ${El.button}\n            text-sm font-medium\n            bg-gray-100 dark:bg-gray-800\n            text-gray-700 dark:text-gray-300\n            hover:bg-gray-200 dark:hover:bg-gray-700\n          `,"aria-label":`Tema actual: ${l.label}`,"aria-expanded":n,"aria-haspopup":"true",children:[Br.jsx(c,{className:"w-4 h-4","aria-hidden":"true"}),Br.jsx(gt,{className:"w-3 h-3 transition-transform duration-200 "+(n?"rotate-180":""),"aria-hidden":"true"})]}),n&&Br.jsxs(Br.Fragment,{children:[Br.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1),"aria-hidden":"true"}),Br.jsx("div",{className:`\n              absolute right-0 top-full mt-1 z-20\n              ${El.dropdown}\n              bg-white dark:bg-gray-800\n              border border-gray-200 dark:border-gray-700\n              rounded-lg shadow-lg\n              min-w-[160px]\n            `,children:o.map(e=>{const t=e.icon,s=r===e.key;return Br.jsxs("button",{onClick:()=>{a(e.key),i(!1)},className:`\n                      w-full flex items-center space-x-2 px-3 py-2 text-left\n                      ${El.button}\n                      ${s?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}\n                      first:rounded-t-lg last:rounded-b-lg\n                    `,"aria-pressed":s,children:[Br.jsx(t,{className:"w-4 h-4","aria-hidden":"true"}),Br.jsx("span",{className:"text-sm font-medium",children:e.label}),s&&Br.jsx("div",{className:"ml-auto w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full","aria-hidden":"true"})]},e.key)})})]})]}):Br.jsxs("div",{className:`space-y-3 ${e}`,children:[Br.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tema de la interfaz"}),Br.jsx("div",{className:"grid grid-cols-1 gap-2",children:o.map(e=>{const t=e.icon,s=r===e.key;return Br.jsxs("button",{onClick:()=>a(e.key),className:`\n                flex items-center space-x-3 p-3 rounded-lg border-2\n                ${El.button}\n                ${s?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}\n              `,"aria-pressed":s,children:[Br.jsx(t,{className:"w-5 h-5 "+(s?"text-blue-600 dark:text-blue-400":"text-gray-500"),"aria-hidden":"true"}),Br.jsxs("div",{className:"text-left",children:[Br.jsx("div",{className:"font-medium "+(s?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"),children:e.label}),Br.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description})]}),s&&Br.jsx("div",{className:"ml-auto w-3 h-3 bg-blue-600 dark:bg-blue-400 rounded-full","aria-hidden":"true"})]},e.key)})}),Br.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Tema actual: ",Br.jsx("span",{className:"font-medium",children:"light"===s?"Claro":"Oscuro"})]})]})},ip=({onMenuClick:e,className:t=""})=>{const{config:r,data:s,period:a,setPeriod:n,refresh:i,loading:o,error:l}=bl();if(!r)return null;const c="analytics"===r.variant?"analytics"!==r.variant?[]:[{label:"Tasa de Finalización",value:s.completionRate?`${s.completionRate.toFixed(0)}%`:"0%",icon:Br.jsx(Lt,{className:"w-4 h-4"}),color:"green",hint:"Porcentaje de cursos completados"},{label:"Tiempo de Estudio",value:s.totalWatchTimeFormatted||"0m",icon:Br.jsx(Ht,{className:"w-4 h-4"}),color:"blue",hint:"Tiempo total de visualización"},{label:"Racha de Días",value:s.streakDays||0,icon:Br.jsx(fr,{className:"w-4 h-4"}),color:"yellow",hint:"Días consecutivos de estudio"}]:r.stats||[],d=Il[r.theme||"light"];return Br.jsx("header",{role:"banner","aria-label":"Encabezado de página",className:`\n        sticky top-0 z-40 \n        ${d.backdrop} \n        border-b border-gray-200 \n        ${d.shadow}\n        ${Sl.transition}\n        ${t}\n      `,children:Br.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Br.jsxs("div",{className:"flex flex-col space-y-4 py-4",children:[Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsx("div",{className:"flex items-center space-x-4",children:r.breadcrumbs&&Br.jsx(jl,{breadcrumbs:r.breadcrumbs,className:"hidden sm:flex"})}),Br.jsxs("div",{className:"flex items-center space-x-2",children:[r.showNotifications&&Br.jsx(rp,{}),Br.jsx(np,{compact:!0}),Br.jsx(kl,{period:a,onPeriodChange:"analytics"===r.variant?n:void 0,onRefresh:"analytics"===r.variant?i:void 0,onMenuClick:e,loading:o,showPeriodSelector:"analytics"===r.variant,showOnlineIndicator:"analytics"===r.variant,showMenuButton:!0})]})]}),Br.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[Br.jsx(wl,{title:r.title||"Página",data:s,subtitle:"analytics"===r.variant?"Tu progreso de aprendizaje y actividad en la plataforma":void 0}),c.length>0&&Br.jsx(Nl,{stats:c,loading:o,className:"hidden lg:flex"})]}),c.length>0&&Br.jsx("div",{className:"lg:hidden",children:Br.jsx(Nl,{stats:c,loading:o})}),l&&!o&&Br.jsx("div",{className:`${Ml.container} ${Ml.content} rounded-md p-3`,children:Br.jsx("div",{className:"flex",children:Br.jsxs("div",{className:"ml-3",children:[Br.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error cargando datos"}),Br.jsx("div",{className:"mt-2 text-sm text-red-700",children:Br.jsx("p",{children:l})})]})})})]})})})},op="/assets/png/Stegmaierlogoblanco-YIawZE9m.png",lp=({to:e,icon:t,label:r,index:s,isCollapsed:a})=>{const[n,i]=ze.useState(!1);return Br.jsxs("div",{className:"relative mb-1",onMouseEnter:()=>a&&i(!0),onMouseLeave:()=>i(!1),"data-onboarding":`nav-item-${e.replace(/\//g,"-").replace(/^-/,"")}`,children:[Br.jsxs(Ue,{to:e,className:({isActive:e})=>`\n          flex items-center px-2 py-2.5 text-sm font-medium rounded-lg transition-all duration-200\n          relative overflow-hidden\n          ${e?"bg-primary-700/90 text-white shadow-lg shadow-primary-500/20 border-l-4 border-primary-400":"text-gray-300 hover:bg-primary-600/50 hover:text-white hover:shadow-md"}\n        `,end:"/platform"===e,children:[Br.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none"}),Br.jsx(ht.div,{className:"flex items-center justify-center "+(a?"w-full mx-auto":"mr-3"),style:a?{minWidth:"100%"}:void 0,whileHover:{scale:1.1},whileTap:{scale:.95},children:t}),Br.jsx(ht.span,{className:"flex-1 whitespace-nowrap",animate:{opacity:a?0:1,width:a?0:"auto",marginLeft:a?0:void 0},transition:{duration:.2},children:r})]}),Br.jsx(ft,{children:a&&n&&Br.jsxs(ht.div,{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded-md z-50 whitespace-nowrap",style:{top:"50%",transform:"translateY(-50%)"},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:[r,Br.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 border-4 border-transparent border-r-gray-800"})]})})]})},cp=({isOpen:e,onClose:t})=>{const[r,s]=ze.useState(!1),{user:a}=al(),n=[{to:"/platform",icon:Br.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),label:"Mi Progreso","data-onboarding":"progress-dashboard-nav"},{to:"/platform/courses",icon:Br.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),label:"Explorar Cursos","data-onboarding":"courses-nav"},{to:"/platform/my-courses",icon:Br.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),label:"Mis Cursos","data-onboarding":"my-courses-nav"},{type:"divider"},{to:"/platform/profile",icon:Br.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),label:"Mi Perfil"},{to:"/platform/settings",icon:Br.jsxs("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),label:"Configuración"},{type:"divider"},{to:"/platform/certificates",icon:Br.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),label:"Certificados","data-onboarding":"certificates-nav"},{to:"/platform/support",icon:Br.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),label:"Soporte"}],i=We.useMemo(()=>"admin"===(null==a?void 0:a.role)?[{to:"/platform/courses",icon:Br.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),label:"Gestión de Cursos","data-onboarding":"admin-courses-nav"},{to:"/platform/users",icon:Br.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),label:"Gestión de Usuarios","data-onboarding":"admin-users-nav"},{type:"divider"},{to:"/platform/admin/dashboard",icon:Br.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),label:"Dashboard Admin","data-onboarding":"admin-dashboard-nav"},{to:"/platform/settings",icon:Br.jsxs("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),label:"Configuración Sistema"},{to:"/platform/admin/analytics",icon:Br.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),label:"Analytics","data-onboarding":"admin-analytics-nav"},{type:"divider"},{to:"/platform/profile",icon:Br.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),label:"Mi Perfil Admin"}]:n,[null==a?void 0:a.role,n]);return Br.jsxs(Br.Fragment,{children:[Br.jsx(ft,{children:e&&Br.jsx(ht.div,{className:"fixed inset-0 z-20 bg-gray-900 bg-opacity-50 lg:hidden",onClick:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},"aria-hidden":"true"})}),Br.jsxs(ht.div,{className:`\n          fixed inset-y-0 left-0 z-30 bg-primary-800 transform transition-transform duration-300 ease-in-out \n          lg:translate-x-0 lg:sticky lg:top-0 lg:h-screen overflow-hidden flex flex-col\n          ${e?"translate-x-0":"-translate-x-full"}\n        `,variants:{expanded:{width:"16rem"},collapsed:{width:"4.5rem"}},animate:r?"collapsed":"expanded",transition:{duration:.3,ease:[.25,1,.5,1]},initial:!1,"data-onboarding":"platform-sidebar",children:[Br.jsxs("div",{className:"flex items-center justify-between px-4 py-4 bg-primary-900 gap-1",children:[Br.jsx("div",{className:"flex items-center overflow-hidden",children:Br.jsx(ft,{children:!r&&Br.jsx(ht.img,{src:op,alt:"Stegmaier Consulting Logo",className:"h-10 object-contain",initial:{opacity:0,width:0},animate:{opacity:1,width:"12rem"},exit:{opacity:0,width:0},transition:{duration:.3},"data-onboarding":"platform-logo"})})}),Br.jsx(ht.button,{onClick:()=>s(!r),className:"hidden lg:flex items-center justify-center text-gray-300 hover:text-white p-1 rounded-md hover:bg-primary-700 transition-colors",style:{width:"40px",height:"40px"},"aria-label":r?"Expandir menú":"Colapsar menú",whileHover:{scale:.95},whileTap:{scale:.95},children:Br.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r?Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"}):Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),Br.jsx("button",{onClick:t,className:"lg:hidden text-gray-300 hover:text-white","aria-label":"Cerrar menú lateral",children:Br.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),Br.jsx("nav",{className:"flex-1 px-2 py-4 overflow-y-auto",children:i.map((e,t)=>"type"in e&&"divider"===e.type?Br.jsx("div",{className:"border-t border-primary-700 my-2"},`divider-${t}`):"to"in e&&"label"in e&&"icon"in e?Br.jsx(ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t,duration:.3},children:Br.jsx(lp,{to:e.to,icon:e.icon,label:e.label,index:t,isCollapsed:r})},e.to):null)}),Br.jsx(dp,{isCollapsed:r})]})]})},dp=({isCollapsed:e})=>{const{user:t,logout:r}=al(),[s,a]=ze.useState(!1),n=ze.useRef(null),i=He();ze.useEffect(()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const o=e=>{switch(a(!1),e){case"profile":i("/platform/profile");break;case"settings":i("/platform/settings");break;case"logout":r()}};return t?Br.jsx("div",{className:"mt-auto border-t border-primary-700 bg-primary-900/80 px-3 py-3",children:Br.jsxs("div",{className:"relative",ref:n,children:[Br.jsxs(ht.div,{className:"flex items-center cursor-pointer p-2 rounded-lg hover:bg-primary-800/60 transition-all "+(s?"bg-primary-800/60":""),onClick:()=>a(!s),whileHover:{scale:1.01},whileTap:{scale:.98},children:[Br.jsxs("div",{className:"relative",children:[Br.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white font-medium text-sm shadow-md",children:t.profileImage?Br.jsx("img",{src:t.profileImage,alt:"Perfil",className:"h-full w-full object-cover rounded-full"}):(()=>{if(!t)return"U";if(t.full_name){const e=t.full_name.split(" ");return`${e[0][0]}${e.length>1?e[1][0]:""}`}return t.firstName&&t.lastName?`${t.firstName[0]}${t.lastName[0]}`:t.email[0].toUpperCase()})()}),Br.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 border-2 border-primary-900"})]}),Br.jsx(ft,{children:!e&&Br.jsx(ht.div,{className:"ml-3 flex-1",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2},children:Br.jsxs("div",{className:"flex flex-col",children:[Br.jsx("span",{className:"text-sm font-medium text-white truncate",children:t.full_name||`${t.firstName||""} ${t.lastName||""}`}),Br.jsxs("span",{className:"text-xs text-gray-300 flex items-center gap-1",children:[Br.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-green-500"}),"Conectado"]})]})})}),Br.jsx(ft,{children:!e&&Br.jsx(ht.svg,{className:"w-4 h-4 text-gray-300 transition-transform duration-200 "+(s?"transform rotate-180":""),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),Br.jsx(ft,{children:s&&Br.jsxs(ht.div,{className:`absolute bottom-full mb-2 ${e?"left-0":"left-0 right-0"} bg-primary-800 rounded-lg shadow-lg py-1 border border-primary-700 z-50`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},children:[Br.jsxs("div",{className:"px-3 py-2 border-b border-primary-700",children:[Br.jsx("div",{className:"text-sm font-medium text-white",children:t.full_name||`${t.firstName||""} ${t.lastName||""}`}),Br.jsx("div",{className:"text-xs text-gray-300 truncate",children:t.email})]}),Br.jsxs("button",{className:"w-full text-left flex items-center px-3 py-2 text-sm text-gray-200 hover:bg-primary-700 transition-colors",onClick:()=>o("profile"),children:[Br.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Ver Perfil"]}),Br.jsxs("button",{className:"w-full text-left flex items-center px-3 py-2 text-sm text-gray-200 hover:bg-primary-700 transition-colors",onClick:()=>o("settings"),children:[Br.jsxs("svg",{className:"w-4 h-4 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Configuración"]}),Br.jsx("div",{className:"border-t border-primary-700 my-1"}),Br.jsxs("button",{className:"w-full text-left flex items-center px-3 py-2 text-sm text-red-400 hover:bg-primary-700 transition-colors",onClick:()=>o("logout"),children:[Br.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Cerrar Sesión"]})]})})]})}):null},up=()=>{const[e,t]=ze.useState(!1),{user:r}=al();return Br.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[Br.jsx(cp,{isOpen:e,onClose:()=>t(!1),"data-onboarding":"platform-sidebar"}),Br.jsxs("div",{className:"flex flex-col flex-1",children:[Br.jsx(ip,{onMenuClick:()=>{t(!e)}}),Br.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6","data-onboarding":"dashboard-main",children:Br.jsx("div",{className:"max-w-7xl mx-auto",children:Br.jsx(Ge,{})})}),Br.jsx("footer",{className:"bg-white border-t border-gray-200 py-3",children:Br.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-sm text-gray-500",children:["© ",(new Date).getFullYear()," Stegmaier. Todos los derechos reservados."]})})]})]})};var mp="horizontal",hp=["horizontal","vertical"],xp=ze.forwardRef((e,t)=>{const r=e,{decorative:s,orientation:a=mp}=r,n=Se(r,["decorative","orientation"]),i=function(e){return hp.includes(e)}(a)?a:mp,o=s?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return Br.jsx(cc.div,Ce(ke(ke({"data-orientation":i},o),n),{ref:t}))});xp.displayName="Separator";var pp=xp,gp="Toggle",fp=ze.forwardRef((e,t)=>{const r=e,{pressed:s,defaultPressed:a,onPressedChange:n}=r,i=Se(r,["pressed","defaultPressed","onPressedChange"]),[o,l]=lc({prop:s,onChange:n,defaultProp:null!=a&&a,caller:gp});return Br.jsx(cc.button,Ce(ke({type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0},i),{ref:t,onClick:sc(e.onClick,()=>{e.disabled||l(!o)})}))});fp.displayName=gp;var bp="ToggleGroup",[vp,yp]=ac(bp,[im]),jp=im(),wp=We.forwardRef((e,t)=>{const r=e,{type:s}=r,a=Se(r,["type"]);if("single"===s){const e=a;return Br.jsx(Cp,Ce(ke({},e),{ref:t}))}if("multiple"===s){const e=a;return Br.jsx(Sp,Ce(ke({},e),{ref:t}))}throw new Error(`Missing prop \`type\` expected on \`${bp}\``)});wp.displayName=bp;var[Np,kp]=vp(bp),Cp=We.forwardRef((e,t)=>{const r=e,{value:s,defaultValue:a,onValueChange:n=()=>{}}=r,i=Se(r,["value","defaultValue","onValueChange"]),[o,l]=lc({prop:s,defaultProp:null!=a?a:"",onChange:n,caller:bp});return Br.jsx(Np,{scope:e.__scopeToggleGroup,type:"single",value:We.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:We.useCallback(()=>l(""),[l]),children:Br.jsx(Mp,Ce(ke({},i),{ref:t}))})}),Sp=We.forwardRef((e,t)=>{const r=e,{value:s,defaultValue:a,onValueChange:n=()=>{}}=r,i=Se(r,["value","defaultValue","onValueChange"]),[o,l]=lc({prop:s,defaultProp:null!=a?a:[],onChange:n,caller:bp}),c=We.useCallback(e=>l((t=[])=>[...t,e]),[l]),d=We.useCallback(e=>l((t=[])=>t.filter(t=>t!==e)),[l]);return Br.jsx(Np,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:d,children:Br.jsx(Mp,Ce(ke({},i),{ref:t}))})});wp.displayName=bp;var[Ep,_p]=vp(bp),Mp=We.forwardRef((e,t)=>{const r=e,{__scopeToggleGroup:s,disabled:a=!1,rovingFocus:n=!0,orientation:i,dir:o,loop:l=!0}=r,c=Se(r,["__scopeToggleGroup","disabled","rovingFocus","orientation","dir","loop"]),d=jp(s),u=hc(o),m=ke({role:"group",dir:u},c);return Br.jsx(Ep,{scope:s,rovingFocus:n,disabled:a,children:n?Br.jsx(pm,Ce(ke({asChild:!0},d),{orientation:i,dir:u,loop:l,children:Br.jsx(cc.div,Ce(ke({},m),{ref:t}))})):Br.jsx(cc.div,Ce(ke({},m),{ref:t}))})}),Ip="ToggleGroupItem",Op=We.forwardRef((e,t)=>{const r=kp(Ip,e.__scopeToggleGroup),s=_p(Ip,e.__scopeToggleGroup),a=jp(e.__scopeToggleGroup),n=r.value.includes(e.value),i=s.disabled||e.disabled,o=Ce(ke({},e),{pressed:n,disabled:i}),l=We.useRef(null);return s.rovingFocus?Br.jsx(gm,Ce(ke({asChild:!0},a),{focusable:!i,active:n,ref:l,children:Br.jsx(Tp,Ce(ke({},o),{ref:t}))})):Br.jsx(Tp,Ce(ke({},o),{ref:t}))});Op.displayName=Ip;var Tp=We.forwardRef((e,t)=>{const r=e,{__scopeToggleGroup:s,value:a}=r,n=Se(r,["__scopeToggleGroup","value"]),i=kp(Ip,s),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l="single"===i.type?o:void 0;return Br.jsx(fp,Ce(ke(ke({},l),n),{ref:t,onPressedChange:e=>{e?i.onItemActivate(a):i.onItemDeactivate(a)}}))}),Lp=wp,Ap=Op,Dp="Toolbar",[Pp,Rp]=ac(Dp,[im,yp]),zp=im(),$p=yp(),[qp,Fp]=Pp(Dp),Bp=ze.forwardRef((e,t)=>{const r=e,{__scopeToolbar:s,orientation:a="horizontal",dir:n,loop:i=!0}=r,o=Se(r,["__scopeToolbar","orientation","dir","loop"]),l=zp(s),c=hc(n);return Br.jsx(qp,{scope:s,orientation:a,dir:c,children:Br.jsx(pm,Ce(ke({asChild:!0},l),{orientation:a,dir:c,loop:i,children:Br.jsx(cc.div,Ce(ke({role:"toolbar","aria-orientation":a,dir:c},o),{ref:t}))}))})});Bp.displayName=Dp;var Wp="ToolbarSeparator";ze.forwardRef((e,t)=>{const r=e,{__scopeToolbar:s}=r,a=Se(r,["__scopeToolbar"]),n=Fp(Wp,s);return Br.jsx(pp,Ce(ke({orientation:"horizontal"===n.orientation?"vertical":"horizontal"},a),{ref:t}))}).displayName=Wp;var Vp=ze.forwardRef((e,t)=>{const r=e,{__scopeToolbar:s}=r,a=Se(r,["__scopeToolbar"]),n=zp(s);return Br.jsx(gm,Ce(ke({asChild:!0},n),{focusable:!e.disabled,children:Br.jsx(cc.button,Ce(ke({type:"button"},a),{ref:t}))}))});Vp.displayName="ToolbarButton";ze.forwardRef((e,t)=>{const r=e,{__scopeToolbar:s}=r,a=Se(r,["__scopeToolbar"]),n=zp(s);return Br.jsx(gm,Ce(ke({asChild:!0},n),{focusable:!0,children:Br.jsx(cc.a,Ce(ke({},a),{ref:t,onKeyDown:sc(e.onKeyDown,e=>{" "===e.key&&e.currentTarget.click()})}))}))}).displayName="ToolbarLink";var Up="ToolbarToggleGroup";ze.forwardRef((e,t)=>{const r=e,{__scopeToolbar:s}=r,a=Se(r,["__scopeToolbar"]),n=Fp(Up,s),i=$p(s);return Br.jsx(Lp,Ce(ke(ke({"data-orientation":n.orientation,dir:n.dir},i),a),{ref:t,rovingFocus:!1}))}).displayName=Up;ze.forwardRef((e,t)=>{const r=e,{__scopeToolbar:s}=r,a=Se(r,["__scopeToolbar"]),n=$p(s),i={__scopeToolbar:e.__scopeToolbar};return Br.jsx(Vp,Ce(ke({asChild:!0},i),{children:Br.jsx(Ap,Ce(ke(ke({},n),a),{ref:t}))}))}).displayName="ToolbarToggleItem";var Hp=Bp;const Gp=ze.createContext(void 0),Qp=({children:e})=>{const[t,r]=ze.useState(null),s=null!==t;return Br.jsx(Gp.Provider,{value:{modalType:t,openLoginModal:()=>r("login"),openRegisterModal:()=>r("register"),closeModal:()=>r(null),isModalOpen:s,setModalType:r},children:e})},Xp=()=>{const e=ze.useContext(Gp);if(void 0===e)throw new Error("useAuthModal must be used within an AuthModalProvider");return e},Kp=[{label:"Inicio",href:"/"},{label:"Consultorías",href:"/consultorias"},{label:"Empresa",href:"/empresa"}],Yp=()=>{const[e,t]=ze.useState(!1),[r,s]=ze.useState(!1),[a,n]=ze.useState("/"),i=ze.useRef([]),o=ze.useRef(!0),[l,c]=ze.useState({left:0,width:0,transition:"none"}),{isAuthenticated:d,isVerified:u,logout:m}=al(),{openLoginModal:h,openRegisterModal:x}=Xp(),p=$e();ze.useEffect(()=>{const e=()=>t(window.scrollY>64);e();const r=()=>{setTimeout(()=>{g(!0)},50)};return window.addEventListener("scroll",e),window.addEventListener("resize",r),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",r)}},[]),ze.useEffect(()=>{const e=p.pathname;p.hash?n(e+p.hash):n(e)},[p]),ze.useEffect(()=>{const e=a===p.pathname||!!p.hash&&a===p.pathname+p.hash;setTimeout(()=>{g(e)},50)},[a,p]);const g=(e=!1)=>{const t=Kp.findIndex(({href:e})=>f(e));if(-1!==t&&i.current[t]){const e=i.current[t];if(e){const{offsetLeft:t,offsetWidth:r}=e;o.current,c({left:t,width:r,transition:"none"}),o.current&&(o.current=!1)}}},f=e=>{const t=(null==a?void 0:a.split("#")[0])||"";return"/"===e?"/"===t||""===t:t===e},b="px-3 py-4 text-sm font-medium transition-colors relative group "+(e?"text-primary-700":"text-white"),v={background:e?"rgba(255, 255, 255, 0.92)":"transparent",backdropFilter:e?"blur(4px)":"none",WebkitBackdropFilter:e?"blur(4px)":"none",boxShadow:e?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"none",borderBottom:e?"1px solid rgba(226, 232, 240, 0.9)":"none",transition:"all 0.2s ease-out",width:"100%",zIndex:50};return Br.jsxs(Br.Fragment,{children:[Br.jsxs("header",{className:"fixed top-0 left-0 right-0 w-full",style:v,children:[Br.jsxs(Hp,{className:"container mx-auto flex h-12 items-center justify-between px-4","aria-label":"Menú principal",children:[Br.jsx("a",{href:"/",className:"flex items-center z-20 relative",children:Br.jsx("div",{className:"w-36 h-10 flex items-center justify-center",children:Br.jsx("img",{src:e?"/assets/png/Stegmaierlogo-DibzMbms.png":op,alt:"Stegmaier Consulting Logo",className:"w-36 h-10 object-contain"})})}),Br.jsx("div",{className:"hidden md:flex items-center justify-center space-x-4 flex-1 ml-8",children:Kp.map(({label:t,href:r},s)=>{const a=f(r);return Br.jsx(qe,{to:r,ref:e=>i.current[s]=e,className:`${b} ${a?e?"text-primary-600 font-semibold":"text-white font-semibold":""}`,children:Br.jsx("span",{className:"relative z-10",children:t})},r)})}),Br.jsx("div",{className:"hidden md:flex items-center space-x-3",children:Br.jsx("div",{className:"flex items-center space-x-2 mr-2",children:d?Br.jsxs(Br.Fragment,{children:[Br.jsx(ra,{variant:"ghost",size:"sm",className:e?"text-primary-600 hover:bg-primary-50":"text-white hover:text-white/90",asChild:!0,children:Br.jsxs(qe,{to:u?"/platform":"/verify-reminder",className:"flex items-center",children:[Br.jsx(br,{className:"w-4 h-4 mr-1.5"}),Br.jsx("span",{children:u?"Mi Plataforma":"Verificar Email"})]})}),Br.jsxs(ra,{variant:"ghost",size:"sm",className:e?"text-gray-600 hover:bg-gray-50":"text-gray-200 hover:bg-primary-700/30",onClick:m,children:[Br.jsx(vr,{className:"w-4 h-4 mr-1.5"}),Br.jsx("span",{children:"Salir"})]})]}):Br.jsxs(Br.Fragment,{children:[Br.jsxs(ra,{variant:"ghost",size:"sm",className:e?"text-gray-600 hover:bg-gray-50":"text-gray-200 hover:bg-primary-700/30",onClick:h,children:[Br.jsx(yr,{className:"w-4 h-4 mr-1.5"}),Br.jsx("span",{children:"Iniciar Sesión"})]}),Br.jsxs(ra,{size:"sm",className:"bg-accent-500 text-white hover:bg-accent-600",onClick:x,children:[Br.jsx(jr,{className:"w-4 h-4 mr-1.5"}),Br.jsx("span",{children:"Registrarse"})]})]})})}),Br.jsx("button",{className:"md:hidden rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-primary-500 z-50 relative "+(e?"text-primary-600":"text-white"),onClick:()=>s(!r),"aria-label":r?"Cerrar menú":"Abrir menú",style:{position:"relative",zIndex:50},children:r?Br.jsx(ur,{className:"h-6 w-6"}):Br.jsx(Zt,{className:"h-6 w-6"})})]}),Br.jsx("div",{className:"relative h-0",children:Br.jsx("div",{className:"absolute h-[3px] bg-green-500 transition-all duration-300 ease-in-out",style:{left:`${l.left}px`,width:`${l.width}px`,bottom:"-1px"}})})]}),Br.jsx(ft,{children:r&&Br.jsxs("div",{className:"fixed inset-0 z-[100] md:hidden",children:[Br.jsx(ht.div,{className:"fixed inset-0 bg-black/50 z-[100]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1)}),Br.jsxs(ht.div,{className:"fixed top-0 right-0 bottom-0 w-[85vw] max-w-[280px] bg-white shadow-xl z-[110] flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.25},children:[Br.jsxs("div",{className:"px-4 py-5 border-b border-gray-100 flex items-center justify-between",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("span",{className:"font-heading text-lg font-bold text-primary-600",children:"Stegmaier"}),Br.jsx("span",{className:"text-xs font-medium text-gray-500 ml-1",children:"Consulting"})]}),Br.jsx("button",{className:"rounded-lg p-1.5 text-gray-500 hover:text-primary-600 hover:bg-gray-50",onClick:()=>s(!1),children:Br.jsx(ur,{className:"h-5 w-5"})})]}),Br.jsx("div",{className:"flex-1 overflow-y-auto py-3",children:Br.jsx("nav",{className:"px-2",children:Kp.map(({label:e,href:t})=>{const r=f(t);return Br.jsx(qe,{to:t,className:"flex items-center rounded-lg px-4 py-3 text-sm font-medium transition-all mb-1 w-full "+(r?"bg-primary-50 text-primary-600 font-medium":"text-gray-700 hover:bg-gray-50 hover:text-primary-600"),onClick:()=>s(!1),children:e},t)})})}),Br.jsxs("div",{className:"px-4 py-4 border-t border-gray-100 space-y-3",children:[d?Br.jsxs("div",{className:"flex items-center gap-3",children:[Br.jsxs(qe,{to:u?"/platform":"/verify-reminder",className:"inline-flex items-center justify-center px-4 py-1.5 text-sm font-medium rounded-md bg-primary-500 text-white hover:bg-primary-600 transition-colors",children:[Br.jsx(br,{className:"w-4 h-4 mr-1.5"}),u?"Mi Plataforma":"Verificar Email"]}),Br.jsxs("button",{onClick:m,className:"inline-flex items-center justify-center px-4 py-1.5 text-sm font-medium rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:[Br.jsx(vr,{className:"w-4 h-4 mr-1.5"}),"Cerrar Sesión"]})]}):Br.jsxs("div",{className:"flex items-center gap-3",children:[Br.jsxs("button",{onClick:h,className:"inline-flex items-center justify-center px-4 py-1.5 text-sm font-medium rounded-md border border-gray-300 text-primary-600 hover:bg-gray-50 transition-colors",children:[Br.jsx(yr,{className:"w-4 h-4 mr-1.5"}),"Iniciar Sesión"]}),Br.jsxs("button",{onClick:x,className:"inline-flex items-center justify-center px-4 py-1.5 text-sm font-medium rounded-md bg-accent-500 text-white hover:bg-accent-600 transition-colors",children:[Br.jsx(jr,{className:"w-4 h-4 mr-1.5"}),"Registrarse"]})]}),Br.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3 px-2",children:[Br.jsx(Bt,{className:"w-4 h-4 mr-2 text-primary-500 flex-shrink-0"}),Br.jsx("a",{href:"tel:+56223456789",className:"hover:text-primary-600 truncate",children:"+56 2 2345 6789"})]}),Br.jsx("a",{href:"/cotizar",className:"flex justify-center w-full rounded-lg bg-accent-500 hover:bg-accent-600 active:bg-accent-700 px-4 py-2.5 text-sm font-medium text-white text-center transition-colors",onClick:()=>s(!1),children:"Cotización Gratuita"}),Br.jsxs("a",{href:"/calendario",className:"flex items-center justify-center w-full rounded-lg border border-gray-200 hover:bg-gray-50 active:bg-gray-100 px-4 py-2.5 text-sm font-medium text-primary-600 text-center transition-colors",onClick:()=>s(!1),children:[Br.jsx(Vt,{className:"w-4 h-4 mr-1.5"}),"Agendar Reunión"]})]})]})]})})]})},Jp=()=>Br.jsxs("footer",{className:"relative overflow-hidden",children:[Br.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-transparent via-primary-50/20 to-primary-100/30"}),Br.jsxs("div",{className:"relative bg-gradient-to-br from-primary-900 via-primary-800 to-primary-900 py-16 text-white",children:[Br.jsx("div",{className:"absolute top-0 right-0 w-full h-1 bg-gradient-to-r from-transparent via-accent-500 to-transparent opacity-70"}),Br.jsx("div",{className:"absolute inset-0 bg-grid-white bg-[length:40px_40px] opacity-[0.05]"}),Br.jsx("div",{className:"absolute top-[-96px] right-[-96px] w-64 h-64 rounded-full",children:Br.jsx("div",{className:"absolute inset-0 bg-accent-500/10 rounded-full"})}),Br.jsx("div",{className:"absolute bottom-[-128px] left-[-128px] w-80 h-80 rounded-full",children:Br.jsx("div",{className:"absolute inset-0 bg-primary-400/10 rounded-full"})}),Br.jsx("svg",{className:"absolute top-[-30px] left-0 w-full text-primary-900/50",viewBox:"0 0 1440 120",fill:"currentColor",preserveAspectRatio:"none",style:{height:"60px"},children:Br.jsx("path",{d:"M0,64L48,69.3C96,75,192,85,288,80C384,75,480,53,576,48C672,43,768,53,864,69.3C960,85,1056,107,1152,112C1248,117,1344,107,1392,101.3L1440,96L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z"})}),Br.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative",children:[Br.jsxs("div",{className:"grid gap-12 md:grid-cols-3 mb-8",children:[Br.jsxs("section",{children:[Br.jsx("div",{className:"flex items-center mb-6",children:Br.jsx("img",{src:"/assets/images/Stegmaierlogoblanco.png",alt:"Stegmaier Logo",className:"h-10"})}),Br.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:"Soluciones integrales de consultoría para sistemas de gestión y cumplimiento normativo. Expertos en ISO 9001, ISO 14001, ISO 45001 y más."}),Br.jsxs("div",{className:"flex space-x-4 mb-6",children:[Br.jsx("a",{href:"#",className:"text-gray-300 hover:text-accent-300 transition-colors",children:Br.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{d:"M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"})})}),Br.jsx("a",{href:"#",className:"text-gray-300 hover:text-accent-300 transition-colors",children:Br.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-2 16h-2v-6h2v6zm-1-6.891c-.607 0-1.1-.496-1.1-1.109 0-.612.492-1.109 1.1-1.109s1.1.497 1.1 1.109c0 .613-.493 1.109-1.1 1.109zm8 6.891h-1.998v-2.861c0-1.881-2.002-1.722-2.002 0v2.861h-2v-6h2v1.093c.872-1.616 4-1.736 4 1.548v3.359z"})})}),Br.jsx("a",{href:"#",className:"text-gray-300 hover:text-accent-300 transition-colors",children:Br.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]}),Br.jsxs("div",{className:"text-gray-300",children:[Br.jsxs("p",{className:"flex items-center mb-2",children:[Br.jsx("svg",{className:"w-5 h-5 mr-2 text-accent-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"contacto@stegmaier.cl"]}),Br.jsxs("p",{className:"flex items-center",children:[Br.jsx("svg",{className:"w-5 h-5 mr-2 text-accent-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+56 2 2234 5678"]})]})]}),Br.jsxs("section",{children:[Br.jsx("h4",{className:"font-semibold text-lg mb-6 text-white",children:"Servicios"}),Br.jsx("ul",{className:"space-y-3",children:[{name:"Consultorías ISO",href:"/consultorias"},{name:"Auditorías internas",href:"/auditorias"},{name:"Capacitaciones",href:"/capacitaciones"},{name:"Protocolos MINSAL",href:"/protocolos"}].map(e=>Br.jsx("li",{children:Br.jsxs(qe,{to:e.href,className:"text-gray-200 hover:text-accent-300 transition-colors flex items-center group",children:[Br.jsx("span",{className:"mr-2 text-accent-300 group-hover:translate-x-1 transition-transform",children:"▸"}),e.name]})},e.href))})]}),Br.jsxs("section",{children:[Br.jsx("h4",{className:"font-semibold text-lg mb-6 text-white",children:"Normas"}),Br.jsx("ul",{className:"space-y-3 text-gray-200",children:[{name:"ISO 9001",desc:"Calidad"},{name:"ISO 14001",desc:"Medio Ambiente"},{name:"ISO 45001",desc:"SST"},{name:"ISO 31000",desc:"Riesgos"}].map((e,t)=>Br.jsxs("li",{className:"flex items-center group hover:translate-x-1 transition-transform",children:[Br.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-primary-700 mr-2 text-xs text-accent-300 font-semibold group-hover:bg-accent-500 group-hover:text-white transition-colors",children:"ISO"}),Br.jsx("span",{children:e.name}),Br.jsx("span",{className:"mx-2 text-accent-300",children:"•"}),Br.jsx("span",{className:"text-gray-300",children:e.desc})]},t))})]})]}),Br.jsxs("div",{className:"relative my-8",children:[Br.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-primary-400/40 to-transparent"}),Br.jsx("div",{className:"absolute left-50% w-8 h-8 bg-accent-500/20 rounded-full border border-primary-400/30",style:{top:"-4px",left:"calc(50% - 16px)"}})]}),Br.jsxs("div",{className:"text-center text-gray-300 text-sm pt-4 flex flex-col md:flex-row justify-between items-center",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("span",{className:"w-2 h-2 bg-accent-500 rounded-full mr-2 animate-pulse"}),"© ",(new Date).getFullYear()," Stegmaier Consulting • Todos los derechos reservados."]}),Br.jsxs("div",{className:"mt-3 md:mt-0 flex space-x-4",children:[Br.jsxs(qe,{to:"/terminos",className:"text-gray-300 hover:text-accent-300 transition-colors relative group",children:["Términos",Br.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-accent-300 group-hover:w-full transition-all duration-300"})]}),Br.jsxs(qe,{to:"/privacidad",className:"text-gray-300 hover:text-accent-300 transition-colors relative group",children:["Privacidad",Br.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-accent-300 group-hover:w-full transition-all duration-300"})]})]})]})]})]})]}),Zp=()=>{const e=(()=>{const[e,t]=ze.useState(0);return ze.useEffect(()=>{const e=()=>{const e=document.body.scrollHeight-window.innerHeight,r=window.scrollY;t(Math.min(1,r/e))};return e(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),e})();return Br.jsx(ht.div,{className:"fixed top-0 left-0 h-1 bg-primary-600 z-[60]",style:{scaleX:e,transformOrigin:"0 50%"}})},eg=Mr().shape({email:Ir().email("Email inválido").required("Email es requerido"),password:Ir().required("Contraseña es requerida")}),tg=Mr().shape({firstName:Ir().required("Nombre es requerido"),lastName:Ir().required("Apellido es requerido"),email:Ir().email("Email inválido").required("Email es requerido"),password:Ir().min(8,"La contraseña debe tener al menos 8 caracteres").required("Contraseña es requerida"),confirmPassword:Ir().oneOf([Dr("password")],"Las contraseñas deben coincidir").required("Confirmar contraseña es requerido")}),rg=()=>{const{modalType:e,closeModal:t,isModalOpen:r,openLoginModal:s,openRegisterModal:a,setModalType:n}=Xp(),{login:i,register:o,verifyEmail:l,resendVerification:c}=al(),[d,u]=ze.useState(null),[m,h]=ze.useState(""),[x,p]=ze.useState(""),[g,f]=ze.useState(!1),b=$e();ze.useEffect(()=>{const e=e=>{"Escape"===e.key&&t()};return r&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[r,t]),ze.useEffect(()=>{const e=new URLSearchParams(b.search).get("token");e&&e.length>0&&(s(),n("verification"),v(e))},[b,s,n]);const v=e=>Ae(null,null,function*(){f(!0),u("pending");try{(yield l(e))?(u("success"),h("Tu email ha sido verificado correctamente. Ya puedes iniciar sesión.")):(u("failed"),h("No se pudo verificar tu email. El token puede ser inválido o haber expirado."))}catch(t){u("failed"),h("Ha ocurrido un error al verificar tu email. El token puede ser inválido o haber expirado.")}finally{f(!1)}});return Br.jsx(ft,{children:r&&Br.jsx(ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-primary-900/70 backdrop-blur-sm",onClick:e=>{e.target===e.currentTarget&&t()},children:Br.jsxs(ht.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20,stiffness:300},className:"bg-white dark:bg-primary-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden",children:[Br.jsx("div",{className:"h-2 bg-gradient-to-r from-primary-700 via-accent-500 to-primary-700"}),Br.jsxs("div",{className:"p-6 sm:p-8",children:[Br.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Br.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"login"===e?"Iniciar sesión":"register"===e?"Crear cuenta":"Verificación de email"}),Br.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/80 hover:text-white transition-colors","aria-label":"Cerrar",children:Br.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),"verification"===e?Br.jsx("div",{children:g?Br.jsxs("div",{className:"flex flex-col items-center py-8",children:[Br.jsxs("svg",{className:"animate-spin h-10 w-10 text-accent-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Br.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Br.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Br.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Verificando tu email..."})]}):"success"===d?Br.jsxs("div",{className:"space-y-4",children:[Br.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-md text-green-800 dark:text-green-300 text-sm",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("svg",{className:"h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:Br.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),Br.jsx("p",{children:m})]})}),Br.jsx("button",{type:"button",onClick:()=>n("login"),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-accent-500 hover:bg-accent-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-500 transition-colors",children:"Ir a iniciar sesión"})]}):Br.jsxs("div",{className:"space-y-4",children:[Br.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-md text-red-800 dark:text-red-300 text-sm",children:Br.jsx("p",{children:m})}),Br.jsxs("div",{className:"space-y-4",children:[Br.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Ingresa tu email para recibir un nuevo enlace de verificación:"}),Br.jsxs("div",{className:"flex",children:[Br.jsx("input",{type:"email",value:x,onChange:e=>p(e.target.value),placeholder:"tu@email.com",className:"flex-grow px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-l-md focus:ring-accent-500 focus:border-accent-500 bg-white dark:bg-primary-700 text-gray-900 dark:text-white"}),Br.jsx("button",{onClick:()=>Ae(null,null,function*(){if(x){f(!0);try{(yield c(x))?(u("success"),h("Hemos enviado un nuevo email de verificación. Por favor revisa tu bandeja de entrada.")):(u("failed"),h("No se pudo reenviar el email de verificación."))}catch(e){h("Ha ocurrido un error al reenviar el email de verificación.")}finally{f(!1)}}else h("Por favor ingresa tu email")}),disabled:g,className:"px-4 py-2 bg-accent-500 hover:bg-accent-600 text-white font-medium rounded-r-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Reenviar"})]})]}),Br.jsx("div",{className:"text-center pt-2",children:Br.jsx("button",{type:"button",onClick:()=>n("login"),className:"text-sm font-medium text-accent-500 hover:text-accent-400",children:"Volver a iniciar sesión"})})]})}):"login"===e?Br.jsx(Or,{initialValues:{email:"",password:"",auth:void 0},validationSchema:eg,onSubmit:(e,r)=>Ae(null,[e,r],function*(e,{setSubmitting:r,setErrors:s}){try{yield i(e),t()}catch(a){s({auth:a.message||"Error al iniciar sesión"})}finally{r(!1)}}),children:({isSubmitting:e,errors:t})=>Br.jsxs(Tr,{className:"space-y-4",children:[Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),Br.jsx(Lr,{type:"email",name:"email",id:"email",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-accent-500 focus:border-accent-500 bg-white dark:bg-primary-700 text-gray-900 dark:text-white",placeholder:"tu@email.com"}),Br.jsx(Ar,{name:"email",component:"div",className:"mt-1 text-sm text-red-500"})]}),Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contraseña"}),Br.jsx(Lr,{type:"password",name:"password",id:"password",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-accent-500 focus:border-accent-500 bg-white dark:bg-primary-700 text-gray-900 dark:text-white",placeholder:"••••••••"}),Br.jsx(Ar,{name:"password",component:"div",className:"mt-1 text-sm text-red-500"})]}),t.auth&&Br.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-md text-red-800 dark:text-red-300 text-sm",children:t.auth}),Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-accent-500 focus:ring-accent-500 border-gray-300 rounded"}),Br.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Recordarme"})]}),Br.jsx("div",{className:"text-sm",children:Br.jsx("a",{href:"#",className:"font-medium text-accent-500 hover:text-accent-400",children:"¿Olvidaste tu contraseña?"})})]}),Br.jsx("button",{type:"submit",disabled:e,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-accent-500 hover:bg-accent-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e?Br.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Br.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Br.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Iniciar Sesión"})]})}):Br.jsx(Or,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",auth:void 0},validationSchema:tg,onSubmit:(e,t)=>Ae(null,[e,t],function*(e,{setSubmitting:t,setErrors:r}){try{const{firstName:t,lastName:r,email:s,password:a}=e;yield o({firstName:t,lastName:r,email:s,password:a}),n("verification"),u("success"),h("Te hemos enviado un correo de verificación. Por favor revisa tu bandeja de entrada y haz clic en el enlace para verificar tu cuenta."),p(s)}catch(s){r({auth:s.message||"Error al registrarse"})}finally{t(!1)}}),children:({isSubmitting:e,errors:t})=>Br.jsxs(Tr,{className:"space-y-4",children:[Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre"}),Br.jsx(Lr,{type:"text",name:"firstName",id:"firstName",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-accent-500 focus:border-accent-500 bg-white dark:bg-primary-700 text-gray-900 dark:text-white",placeholder:"Juan"}),Br.jsx(Ar,{name:"firstName",component:"div",className:"mt-1 text-sm text-red-500"})]}),Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Apellido"}),Br.jsx(Lr,{type:"text",name:"lastName",id:"lastName",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-accent-500 focus:border-accent-500 bg-white dark:bg-primary-700 text-gray-900 dark:text-white",placeholder:"Pérez"}),Br.jsx(Ar,{name:"lastName",component:"div",className:"mt-1 text-sm text-red-500"})]})]}),Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),Br.jsx(Lr,{type:"email",name:"email",id:"email",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-accent-500 focus:border-accent-500 bg-white dark:bg-primary-700 text-gray-900 dark:text-white",placeholder:"tu@email.com"}),Br.jsx(Ar,{name:"email",component:"div",className:"mt-1 text-sm text-red-500"})]}),Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contraseña"}),Br.jsx(Lr,{type:"password",name:"password",id:"password",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-accent-500 focus:border-accent-500 bg-white dark:bg-primary-700 text-gray-900 dark:text-white",placeholder:"••••••••"}),Br.jsx(Ar,{name:"password",component:"div",className:"mt-1 text-sm text-red-500"})]}),Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirmar contraseña"}),Br.jsx(Lr,{type:"password",name:"confirmPassword",id:"confirmPassword",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-accent-500 focus:border-accent-500 bg-white dark:bg-primary-700 text-gray-900 dark:text-white",placeholder:"••••••••"}),Br.jsx(Ar,{name:"confirmPassword",component:"div",className:"mt-1 text-sm text-red-500"})]}),t.auth&&Br.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-md text-red-800 dark:text-red-300 text-sm",children:t.auth}),Br.jsx("button",{type:"submit",disabled:e,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-accent-500 hover:bg-accent-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e?Br.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Br.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Br.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Crear Cuenta"})]})}),Br.jsxs("div",{className:"mt-6 text-center",children:[Br.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["login"===e?"¿No tienes una cuenta?":"register"===e?"¿Ya tienes una cuenta?":"",("login"===e||"register"===e)&&Br.jsx("button",{type:"button",onClick:()=>{"login"===e?a():"register"!==e&&"verification"!==e||s()},className:"ml-1 font-medium text-accent-500 hover:text-accent-400 focus:outline-none",children:"login"===e?"Regístrate":"Inicia sesión"})]}),"login"===e&&Br.jsx("button",{type:"button",onClick:()=>n("verification"),className:"mt-2 text-xs font-medium text-accent-500 hover:text-accent-400 focus:outline-none",children:"¿No has verificado tu email? Verifica aquí"})]})]}),Br.jsx("div",{className:"h-2 bg-gradient-to-r from-primary-700 via-accent-500 to-primary-700"})]})})})};function sg({children:e}){return Br.jsx(Qp,{children:Br.jsxs("div",{className:"flex min-h-screen flex-col bg-stegmaier-gray-light relative",children:[Br.jsx(Zp,{}),Br.jsx(Yp,{}),Br.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[Br.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-900/5 via-white to-accent-50/30"}),Br.jsx("div",{className:"absolute inset-0 bg-grid-white bg-[length:80px_80px] opacity-[0.02]"}),Br.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 rounded-full opacity-40 animate-pulse visual-effect-container",children:Br.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-100/20 to-accent-100/20 rounded-full"})}),Br.jsx("div",{className:"absolute bottom-40 right-20 w-80 h-80 rounded-full opacity-30 animate-pulse visual-effect-container",style:{animationDelay:"2s"},children:Br.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent-100/15 to-primary-100/15 rounded-full"})}),Br.jsx("div",{className:"absolute w-[600px] h-[600px] rounded-full opacity-20 visual-effect-container",style:{top:"50%",left:"50%",marginLeft:"-300px",marginTop:"-300px"},children:Br.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-50/10 to-accent-50/10 rounded-full"})})]}),Br.jsx("main",{className:"flex-grow relative",children:e||Br.jsx(Ge,{})}),Br.jsx(Jp,{}),Br.jsx(rg,{})]})})}const ag=({children:e,title:t,subtitle:r,footer:s,className:a=""})=>Br.jsxs("div",{className:`\n      w-full max-w-md mx-auto\n      bg-white rounded-xl shadow-lg overflow-hidden\n      border border-gray-100\n      ${a}\n    `,children:[Br.jsxs("div",{className:"py-8 px-6 sm:p-10",children:[Br.jsxs("div",{className:"text-center mb-6",children:[Br.jsx("div",{className:"flex justify-center mb-4",children:Br.jsx("img",{src:"/assets/images/Stegmaierlogo.png",alt:"Stegmaier Logo",className:"h-12"})}),Br.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:t}),r&&Br.jsx("p",{className:"text-gray-600",children:r})]}),Br.jsx("div",{children:e})]}),s&&Br.jsx("div",{className:"py-4 px-6 bg-gray-50 border-t border-gray-100",children:s})]}),ng=e=>{var t=e,{label:r,required:s=!1,className:a=""}=t,n=Se(t,["label","required","className"]);const[i,o]=Pr(n),l=o.touched&&o.error;return Br.jsxs("div",{className:"mb-4",children:[Br.jsxs("label",{htmlFor:n.name,className:"block text-sm font-medium mb-2 text-gray-700",children:[r," ",s&&Br.jsx("span",{className:"text-primary-600",children:"*"})]}),Br.jsx("div",{className:"relative",children:Br.jsx("input",Ce(ke(ke({},i),n),{id:n.name,className:`\n            w-full px-4 py-3 rounded-md border \n            ${l?"border-red-500 focus:border-red-500 focus:ring focus:ring-red-200":"border-gray-300 focus:border-primary-500 focus:ring focus:ring-primary-200"}\n            focus:outline-none transition duration-200\n            ${a}\n          `}))}),l&&Br.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.error})]})},ig=({type:e,title:t,message:r,onClose:s,className:a=""})=>{const n={success:{bg:"bg-green-50",border:"border-green-400",icon:"text-green-400",title:"text-green-800",text:"text-green-700"},error:{bg:"bg-red-50",border:"border-red-400",icon:"text-red-400",title:"text-red-800",text:"text-red-700"},warning:{bg:"bg-yellow-50",border:"border-yellow-400",icon:"text-yellow-400",title:"text-yellow-800",text:"text-yellow-700"},info:{bg:"bg-blue-50",border:"border-blue-400",icon:"text-blue-400",title:"text-blue-800",text:"text-blue-700"}}[e],i={success:Br.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:Br.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),error:Br.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:Br.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),warning:Br.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:Br.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),info:Br.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:Br.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zm-1 4a1 1 0 00-1 1v3a1 1 0 102 0v-3a1 1 0 00-1-1z",clipRule:"evenodd"})})};return Br.jsx("div",{className:`rounded-lg p-4 mb-4 border ${n.bg} ${n.border} ${a}`,role:"alert",children:Br.jsxs("div",{className:"flex items-start",children:[Br.jsx("div",{className:`flex-shrink-0 ${n.icon}`,children:i[e]}),Br.jsxs("div",{className:"ml-3 w-full",children:[Br.jsxs("div",{className:"flex items-center justify-between",children:[t&&Br.jsx("p",{className:`text-sm font-medium ${n.title}`,children:t}),s&&Br.jsx("button",{type:"button",className:`${n.text} hover:opacity-75 focus:outline-none`,onClick:s,"aria-label":"Cerrar",children:Br.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:Br.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),Br.jsx("p",{className:`text-sm ${n.text}`,children:r})]})]})})},og=({size:e="md",color:t="primary",className:r=""})=>Br.jsx("div",{className:`inline-block ${r}`,role:"status","aria-label":"Cargando",children:Br.jsx("div",{className:`\n          ${{sm:"w-4 h-4 border-2",md:"w-8 h-8 border-2",lg:"w-12 h-12 border-3"}[e]}\n          ${{primary:"border-primary-600 border-t-transparent",white:"border-white border-t-transparent"}[t]}\n          rounded-full\n          animate-spin\n        `})}),lg=Mr().shape({firstName:Ir().min(2,"Demasiado corto").max(50,"Demasiado largo").required("Nombre es requerido"),lastName:Ir().min(2,"Demasiado corto").max(50,"Demasiado largo").required("Apellido es requerido"),email:Ir().email("Email inválido").required("Email es requerido"),password:Ir().min(8,"La contraseña debe tener al menos 8 caracteres").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"La contraseña debe contener al menos una letra mayúscula, una minúscula y un número").required("Contraseña es requerida"),confirmPassword:Ir().oneOf([Dr("password")],"Las contraseñas deben coincidir").required("Confirmar contraseña es requerido")}),cg=({onSuccess:e})=>{const{register:t}=al(),[r,s]=ze.useState(null),[a,n]=ze.useState(!1);return Br.jsxs(Br.Fragment,{children:[r&&Br.jsx(ig,{type:"error",message:r,onClose:()=>s(null)}),a?Br.jsx(ig,{type:"success",title:"¡Registro exitoso!",message:"Te hemos enviado un correo de verificación. Por favor revisa tu bandeja de entrada para activar tu cuenta."}):Br.jsx(Or,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""},validationSchema:lg,onSubmit:(r,a)=>Ae(null,[r,a],function*(r,{setSubmitting:a}){var i,o;try{s(null);const{firstName:a,lastName:i,email:o,password:l}=r;yield t({firstName:a,lastName:i,email:o,password:l}),n(!0),e&&e()}catch(l){const e=(null==(o=null==(i=l.response)?void 0:i.data)?void 0:o.detail)||"Error al registrar usuario. Por favor intenta de nuevo.";s(e)}finally{a(!1)}}),children:({isSubmitting:e})=>Br.jsxs(Tr,{className:"space-y-4",children:[Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Br.jsx(ng,{label:"Nombre",name:"firstName",type:"text",placeholder:"Juan",required:!0}),Br.jsx(ng,{label:"Apellido",name:"lastName",type:"text",placeholder:"Pérez",required:!0})]}),Br.jsx(ng,{label:"Correo electrónico",name:"email",type:"email",placeholder:"tu@email.com",required:!0,autoComplete:"email"}),Br.jsx(ng,{label:"Contraseña",name:"password",type:"password",placeholder:"••••••••",required:!0,autoComplete:"new-password"}),Br.jsx(ng,{label:"Confirmar contraseña",name:"confirmPassword",type:"password",placeholder:"••••••••",required:!0,autoComplete:"new-password"}),Br.jsx("div",{className:"pt-2",children:Br.jsx("button",{type:"submit",disabled:e,className:"w-full flex justify-center items-center bg-primary-600 hover:bg-primary-700 text-white py-3 px-4 rounded-md transition duration-200 font-medium focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-70",children:e?Br.jsxs(Br.Fragment,{children:[Br.jsx(og,{size:"sm",color:"white",className:"mr-2"}),"Registrando..."]}):"Registrarse"})})]})})]})},dg=()=>Br.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-12 bg-gray-50",children:Br.jsx("div",{className:"w-full max-w-md",children:Br.jsx(ag,{title:"Crear una cuenta",subtitle:"Únete a la plataforma de cursos de Stegmaier",footer:Br.jsxs("div",{className:"text-center text-sm",children:["¿Ya tienes una cuenta?"," ",Br.jsx(qe,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-700 transition-colors",children:"Iniciar sesión"})]}),children:Br.jsx(cg,{})})})}),ug=Mr().shape({email:Ir().email("Email inválido").required("Email es requerido")}),mg=()=>{const{resendVerification:e}=al(),[t,r]=ze.useState({success:!1,message:"",show:!1});return Br.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-xl shadow-lg border border-gray-100",children:[Br.jsxs("div",{className:"text-center mb-6",children:[Br.jsx("img",{src:"/assets/images/Stegmaierlogo.png",alt:"Stegmaier Logo",className:"h-12 mx-auto mb-4"}),Br.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Reenviar verificación"}),Br.jsx("p",{className:"text-gray-600 mt-2",children:"Ingresa tu correo electrónico para recibir un nuevo enlace de verificación"})]}),t.show&&Br.jsx(ig,{type:t.success?"success":"error",message:t.message,onClose:()=>r(e=>Ce(ke({},e),{show:!1})),className:"mb-4"}),Br.jsx(Or,{initialValues:{email:""},validationSchema:ug,onSubmit:(t,s)=>Ae(null,[t,s],function*(t,{setSubmitting:s,resetForm:a}){var n,i;try{const s=yield e(t.email);r({success:!0,message:"Hemos enviado un nuevo enlace de verificación a tu correo electrónico.",show:!0}),s&&a()}catch(o){r({success:!1,message:(null==(i=null==(n=o.response)?void 0:n.data)?void 0:i.detail)||"No se pudo enviar el enlace de verificación.",show:!0})}finally{s(!1)}}),children:({isSubmitting:e})=>Br.jsxs(Tr,{className:"space-y-4",children:[Br.jsx(ng,{label:"Correo electrónico",name:"email",type:"email",placeholder:"tu@email.com",required:!0,autoComplete:"email"}),Br.jsx("div",{className:"pt-2",children:Br.jsx("button",{type:"submit",disabled:e,className:"w-full flex justify-center items-center bg-primary-600 hover:bg-primary-700 text-white py-3 px-4 rounded-md transition duration-200 font-medium focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-70",children:e?Br.jsxs(Br.Fragment,{children:[Br.jsx(og,{size:"sm",color:"white",className:"mr-2"}),"Enviando..."]}):"Enviar enlace de verificación"})})]})}),Br.jsx("div",{className:"mt-6 text-center",children:Br.jsx("a",{href:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Volver a inicio de sesión"})})]})},hg=()=>Br.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-12 bg-gray-50",children:Br.jsx(mg,{})});function xg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const pg=ze.forwardRef(xg);function gg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const fg=ze.forwardRef(gg);function bg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const vg=ze.forwardRef(bg);function yg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const jg=ze.forwardRef(yg);function wg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Ng=ze.forwardRef(wg);function kg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"}))}const Cg=ze.forwardRef(kg);function Sg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const Eg=ze.forwardRef(Sg);function _g(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}))}const Mg=ze.forwardRef(_g);function Ig(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const Og=ze.forwardRef(Ig);function Tg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Lg=ze.forwardRef(Tg);function Ag(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Dg=ze.forwardRef(Ag);function Pg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Rg=ze.forwardRef(Pg);function zg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const $g=ze.forwardRef(zg);function qg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Fg=ze.forwardRef(qg);function Bg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Wg=ze.forwardRef(Bg);function Vg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Ug=ze.forwardRef(Vg);function Hg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Gg=ze.forwardRef(Hg);function Qg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const Xg=ze.forwardRef(Qg);function Kg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"}))}const Yg=ze.forwardRef(Kg);function Jg(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const Zg=ze.forwardRef(Jg);function ef(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const tf=ze.forwardRef(ef);function rf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const sf=ze.forwardRef(rf);function af(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}const nf=ze.forwardRef(af);function of(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const lf=ze.forwardRef(of);function cf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const df=ze.forwardRef(cf);function uf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const mf=ze.forwardRef(uf);function hf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const xf=ze.forwardRef(hf);function pf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const gf=ze.forwardRef(pf);function ff(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const bf=ze.forwardRef(ff);function vf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const yf=ze.forwardRef(vf);function jf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const wf=ze.forwardRef(jf);function Nf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const kf=ze.forwardRef(Nf);function Cf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5V6.75a4.5 4.5 0 1 1 9 0v3.75M3.75 21.75h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H3.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Sf=ze.forwardRef(Cf);function Ef(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const _f=ze.forwardRef(Ef);function Mf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))}const If=ze.forwardRef(Mf);function Of(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Tf=ze.forwardRef(Of);function Lf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}const Af=ze.forwardRef(Lf);function Df(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const Pf=ze.forwardRef(Df);function Rf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const zf=ze.forwardRef(Rf);function $f(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const qf=ze.forwardRef($f);function Ff(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Bf=ze.forwardRef(Ff);function Wf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Vf=ze.forwardRef(Wf);function Uf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6"}))}const Hf=ze.forwardRef(Uf);function Gf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const Qf=ze.forwardRef(Gf);function Xf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const Kf=ze.forwardRef(Xf);function Yf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const Jf=ze.forwardRef(Yf);function Zf(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const eb=ze.forwardRef(Zf);function tb(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const rb=ze.forwardRef(tb);function sb(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const ab=ze.forwardRef(sb);function nb(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const ib=ze.forwardRef(nb);function ob(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const lb=ze.forwardRef(ob);function cb(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const db=ze.forwardRef(cb);function ub(e,t){var r=e,{title:s,titleId:a}=r,n=Se(r,["title","titleId"]);return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?ze.createElement("title",{id:a},s):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const mb=ze.forwardRef(ub),hb=()=>{const[e]=Qe(),t=He(),[r,s]=ze.useState("loading"),[a,n]=ze.useState(""),[i,o]=ze.useState(!1),[l,c]=ze.useState(!1),d=e.get("token"),u=e=>Ae(null,null,function*(){if(!l){c(!0);try{if(s("loading"),!e||e.length<10)throw new Error("Token de verificación inválido");const r=yield fetch(Go(`/auth/verify-email/${e}`),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!r.ok)throw new Error(`Error HTTP ${r.status}: ${r.statusText}`);const a=yield r.json();a.success?(s("success"),n(a.message||"Email verificado correctamente"),setTimeout(()=>{t("/",{state:{message:"Email verificado correctamente. Ya puedes acceder a la plataforma.",type:"success"}})},3e3)):(s("error"),n(a.message||"Error al verificar el email"))}catch(r){s("error"),n(r instanceof Error?r.message:"Error de conexión. Verifica tu conexión a internet.")}}}),m=()=>Ae(null,null,function*(){d&&(o(!0),c(!1),yield u(d),o(!1))});ze.useEffect(()=>{if(!d)return s("error"),void n("Token de verificación no encontrado en la URL");l||u(d)},[d,l]);return Br.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[Br.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:Br.jsx(qe,{to:"/",className:"flex justify-center",children:Br.jsx("img",{className:"h-12 w-auto",src:"/logo.png",alt:"Stegmaier",onError:e=>{e.currentTarget.style.display="none"}})})}),Br.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Br.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(()=>{switch(r){case"loading":return Br.jsxs("div",{className:"text-center",children:[Br.jsx(Ng,{className:"mx-auto h-12 w-12 text-blue-500 animate-spin mb-4"}),Br.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verificando tu email..."}),Br.jsx("p",{className:"text-gray-600",children:"Por favor espera mientras procesamos tu verificación."})]});case"success":return Br.jsxs("div",{className:"text-center",children:[Br.jsx($g,{className:"mx-auto h-12 w-12 text-green-500 mb-4"}),Br.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"¡Email verificado correctamente!"}),Br.jsx("p",{className:"text-gray-600 mb-4",children:a}),Br.jsxs("div",{className:"space-y-3",children:[Br.jsx("p",{className:"text-sm text-gray-500",children:"Serás redirigido al login automáticamente..."}),Br.jsx(qe,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Ir al inicio ahora"})]})]});case"error":return Br.jsxs("div",{className:"text-center",children:[Br.jsx(db,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),Br.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error en la verificación"}),Br.jsx("p",{className:"text-gray-600 mb-6",children:a}),Br.jsxs("div",{className:"space-y-4",children:[d&&Br.jsx("button",{onClick:m,disabled:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?Br.jsxs(Br.Fragment,{children:[Br.jsx(Ng,{className:"w-4 h-4 mr-2 animate-spin"}),"Reintentando..."]}):"Reintentar verificación"}),Br.jsxs("div",{className:"space-y-2",children:[Br.jsx(qe,{to:"/resend-verification",className:"block text-blue-600 hover:text-blue-500 text-sm underline",children:"Solicitar un nuevo correo de verificación"}),Br.jsx(qe,{to:"/",className:"block text-gray-500 hover:text-gray-400 text-sm",children:"Volver al inicio"})]})]})]});default:return null}})()})}),Br.jsx("div",{className:"mt-8 text-center",children:Br.jsxs("p",{className:"text-xs text-gray-500",children:["Este proceso de verificación está protegido por medidas de seguridad avanzadas.",Br.jsx("br",{}),"Si no solicitaste esta verificación, ignora este mensaje."]})})]})},xb=()=>Br.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 py-12 section-unified-bg section-hero-bg",children:[Br.jsxs("div",{className:"content-overlay w-full max-w-xl text-center",children:[Br.jsxs("div",{className:"mb-8",children:[Br.jsx("img",{src:"/assets/images/Stegmaierlogo.png",alt:"Stegmaier Logo",className:"h-16 mx-auto mb-6"}),Br.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4",children:"404"}),Br.jsx("div",{className:"h-1 w-20 bg-white bg-opacity-30 mx-auto mb-6"}),Br.jsx("h2",{className:"text-2xl md:text-3xl font-medium text-white mb-2",children:"Página no encontrada"}),Br.jsx("p",{className:"text-primary-100 max-w-md mx-auto",children:"La página que estás buscando no existe o ha sido movida a otra ubicación."})]}),Br.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Br.jsx(qe,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-primary-900 bg-white hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:"Volver al inicio"}),Br.jsx(qe,{to:"/platform",className:"inline-flex items-center justify-center px-6 py-3 border border-white border-opacity-25 rounded-md text-base font-medium text-white bg-transparent hover:bg-white hover:bg-opacity-10 focus:outline-none focus:ring-2 focus:ring-white transition-colors",children:"Ir a la plataforma"})]})]}),Br.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:Br.jsx("svg",{viewBox:"0 0 1440 60",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-10 md:h-14 fill-white fill-opacity-5",preserveAspectRatio:"none",children:Br.jsx("path",{d:"M0,40 C240,20 480,0 720,0 C960,0 1200,20 1440,40 L1440,60 L0,60 Z"})})})]}),pb=()=>Br.jsxs("div",{className:"minimal-decorations",children:[Br.jsx("div",{className:"absolute top-1/3 right-10 lg:right-20 w-64 h-64 bg-primary-600/10 rounded-full blur-3xl"}),Br.jsx("div",{className:"absolute bottom-1/4 left-10 lg:left-20 w-48 h-48 bg-accent-500/10 rounded-full blur-3xl"}),Br.jsx("div",{className:"absolute inset-0 minimal-grid opacity-10"}),Br.jsx(ht.div,{className:"absolute right-10 top-1/4 w-12 h-12 border border-white/10 rounded-full",animate:{scale:[1,1.1,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),Br.jsx("div",{className:"absolute left-0 right-0 h-px top-2/3 overflow-hidden -z-10",children:Br.jsx(ht.div,{className:"h-full bg-gradient-to-r from-transparent via-white/10 to-transparent",style:{width:"30%"},animate:{x:["-100%","400%"]},transition:{duration:12,repeat:1/0,ease:"linear"}})})]}),gb={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.7,ease:"easeOut"}}},fb={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.7,delay:.3,ease:"easeOut"}}},bb={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.7,ease:"easeOut"}}},vb={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.7,delay:.3,ease:"easeOut"}}},yb=()=>Br.jsxs("section",{className:"section-unified-bg section-company-bg content-overlay relative py-20 lg:py-32",children:[Br.jsx("div",{className:"section-overlay-pattern bg-grid-pattern opacity-5"}),Br.jsx(pb,{}),Br.jsx("div",{className:"container mx-auto px-4 max-w-6xl content-overlay",children:Br.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[Br.jsxs("div",{className:"relative",children:[Br.jsx(ht.div,{initial:{opacity:0,y:-10},animate:{opacity:0,y:0},transition:{duration:.5},className:"absolute inset-0 pointer-events-none","aria-hidden":"true"}),Br.jsxs(ht.span,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"inline-block py-2 px-4 rounded-full bg-accent-500/20 text-white text-sm font-medium mb-3 backdrop-blur-sm",children:[Br.jsx("span",{className:"mr-2",children:"🏢"}),"Conócenos"]})]}),Br.jsxs("div",{className:"relative",children:[Br.jsx(ht.div,{variants:gb,initial:"hidden",animate:"visible",className:"absolute inset-0 pointer-events-none","aria-hidden":"true"}),Br.jsxs(ht.h1,{className:"mt-2 text-4xl md:text-5xl xl:text-6xl font-display font-bold text-white leading-tight",variants:bb,initial:"hidden",animate:"visible",children:["Sobre ",Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-accent-300 to-accent-500",children:"Stegmaier"})," Consulting"]})]}),Br.jsx("div",{className:"mx-auto mt-4 h-1 w-24 rounded bg-accent-500 opacity-70"}),Br.jsxs("div",{className:"relative",children:[Br.jsx(ht.div,{variants:fb,initial:"hidden",animate:"visible",className:"absolute inset-0 pointer-events-none","aria-hidden":"true"}),Br.jsx(ht.p,{className:"mt-6 text-lg text-white/80 max-w-3xl mx-auto",variants:vb,initial:"hidden",animate:"visible",children:"Más de 15 años de experiencia en consultoría y certificación de sistemas de gestión. Somos líderes en implementación de normativas ISO para empresas en toda Latinoamérica."})]}),Br.jsxs(ht.div,{className:"mt-8 flex flex-wrap justify-center gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.5},children:[Br.jsx("a",{href:"#history",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent \r\n                        rounded-md shadow-sm text-base font-medium text-white bg-primary-600 \r\n                        hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 \r\n                        focus:ring-primary-500 transition-all duration-300",children:"Nuestra Historia"}),Br.jsx("a",{href:"#team",className:"inline-flex items-center justify-center px-6 py-3 border border-primary-300 \r\n                        rounded-md shadow-sm text-base font-medium text-white bg-transparent \r\n                        hover:bg-primary-700/30 focus:outline-none focus:ring-2 focus:ring-offset-2 \r\n                        focus:ring-primary-500 transition-all duration-300",children:"Conoce al Equipo"})]})]})}),Br.jsx(Va,{fromSection:"company",toSection:"history",type:"minimal",height:40})]}),jb=[{id:1,year:"2008",title:"Fundación",description:"Stegmaier Consulting nace como una consultora especializada en sistemas de gestión de calidad.",icon:"🚀"},{id:2,year:"2010",title:"Expansión Regional",description:"Comenzamos a expandir nuestros servicios a otros países de Latinoamérica, abriendo oficinas en Chile y Colombia.",icon:"🌎"},{id:3,year:"2013",title:"Certificación ISO 27001",description:"Incluimos la consultoría para sistemas de gestión de seguridad de la información en nuestro catálogo de servicios.",icon:"🔒"},{id:4,year:"2015",title:"Premio a la Excelencia",description:"Reconocidos con el premio a la excelencia en consultoría empresarial por la Cámara de Comercio.",icon:"🏆"},{id:5,year:"2018",title:"10 Años de Trayectoria",description:"Celebramos una década de éxitos con más de 300 empresas certificadas y un equipo de 50 consultores especializados.",icon:"🎂"},{id:6,year:"2020",title:"Transformación Digital",description:"Lanzamiento de nuestra plataforma digital para gestión de proyectos de certificación remota.",icon:"💻"},{id:7,year:"2023",title:"Expansión de Servicios",description:"Incorporamos consultoría en sostenibilidad y responsabilidad social empresarial.",icon:"🌱"},{id:8,year:"Hoy",title:"Líderes del Sector",description:"Más de 500 empresas certificadas y presencia en 7 países de Latinoamérica.",icon:"📊"}],wb=({year:e,title:t,description:r,icon:s,isActive:a,onMouseEnter:n,isEven:i})=>Br.jsxs(ht.div,{className:"relative "+(i?"md:text-right":""),initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.7},viewport:{once:!0,margin:"-50px"},onMouseEnter:n,children:[Br.jsx("div",{className:"md:flex items-center justify-center",children:Br.jsx(ht.div,{className:`\n            absolute left-0 md:static flex items-center justify-center w-12 h-12 rounded-full z-10\n            ${a?"bg-accent-500 text-white shadow-lg shadow-accent-500/20":"bg-primary-700/70 text-white"} transition-all duration-300\n          `,whileHover:{scale:1.1},children:Br.jsx("span",{className:"text-xl",children:s})})}),Br.jsxs("div",{className:"ml-16 md:ml-0 "+(i?"md:mr-16":"md:ml-16"),children:[Br.jsx("span",{className:"inline-block text-transparent bg-clip-text bg-gradient-to-r from-white via-accent-300 to-accent-500 font-bold mb-1 text-lg",children:e}),Br.jsx("h3",{className:"text-xl font-bold text-white mb-2 "+(a?"text-accent-300":""),children:t}),Br.jsx("p",{className:"text-white/70",children:r})]})]}),Nb=()=>{const[e,t]=ze.useState(null);return Br.jsxs("section",{id:"history",className:"section-unified-bg section-history-bg content-overlay relative py-16 md:py-20",children:[Br.jsx("div",{className:"section-overlay-pattern bg-grid-pattern opacity-5"}),Br.jsxs("div",{className:"container mx-auto px-4 max-w-6xl content-overlay",children:[Br.jsxs(ht.header,{className:"mb-16 text-center",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.7,ease:"easeOut"}}},children:[Br.jsxs("span",{className:"inline-block py-2 px-4 rounded-full bg-accent-500/20 text-white text-sm font-medium mb-3 backdrop-blur-sm",children:[Br.jsx("span",{className:"mr-2",children:"📜"}),"Nuestra Trayectoria"]}),Br.jsxs("h2",{className:"mt-2 text-4xl md:text-5xl font-display font-bold text-white leading-tight",children:["Historia de ",Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-accent-300 to-accent-500",children:"Innovación"})]}),Br.jsx("div",{className:"mx-auto mt-4 h-1 w-24 rounded bg-accent-500 opacity-70"}),Br.jsx("p",{className:"mt-6 text-lg text-white/80 max-w-3xl mx-auto",children:"Descubre cómo hemos evolucionado durante los años para convertirnos en líderes del sector."})]}),Br.jsxs("div",{className:"hidden md:block relative mb-20",children:[Br.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-px bg-gradient-to-b from-primary-600/30 via-accent-500/30 to-primary-600/30"}),Br.jsx("div",{className:"grid grid-cols-2 gap-8",children:jb.map((r,s)=>Br.jsx("div",{className:s%2==0?"col-start-1":"col-start-2",children:Br.jsx(wb,Ce(ke({},r),{isActive:e===r.id,onMouseEnter:()=>t(r.id),isEven:s%2==0}))},r.id))})]}),Br.jsxs("div",{className:"md:hidden relative mb-12",children:[Br.jsx("div",{className:"absolute left-6 top-0 h-full w-px bg-gradient-to-b from-primary-600/30 via-accent-500/30 to-primary-600/30"}),Br.jsx("div",{className:"space-y-12",children:jb.map(r=>Br.jsx(wb,Ce(ke({},r),{isActive:e===r.id,onMouseEnter:()=>t(r.id),isEven:!1}),r.id))})]}),Br.jsxs(ht.div,{className:"text-center mt-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.7},viewport:{once:!0},children:[Br.jsx("p",{className:"text-white/80 mb-6 max-w-2xl mx-auto",children:"Nuestra historia continúa escribiéndose con cada cliente que confía en nosotros para sus procesos de certificación."}),Br.jsx("a",{href:"/casos",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent \r\n                    rounded-md shadow-sm text-base font-medium text-white bg-accent-500 \r\n                    hover:bg-accent-600 focus:outline-none focus:ring-2 focus:ring-offset-2 \r\n                    focus:ring-accent-500 transition-all duration-300",children:"Ver Casos de Éxito"})]})]}),Br.jsx(Va,{fromSection:"history",toSection:"values",type:"minimal",height:40})]})},kb=[{id:1,title:"Excelencia",description:"Buscamos la excelencia en cada proyecto, superando las expectativas de nuestros clientes con resultados excepcionales.",icon:"✨",color:"from-primary-400 to-primary-600"},{id:2,title:"Integridad",description:"Actuamos con honestidad y transparencia en todas nuestras operaciones, construyendo relaciones basadas en la confianza.",icon:"🤝",color:"from-accent-400 to-accent-600"},{id:3,title:"Innovación",description:"Nos adaptamos constantemente a los cambios del mercado, desarrollando soluciones creativas para los desafíos actuales.",icon:"💡",color:"from-amber-400 to-amber-600"},{id:4,title:"Compromiso",description:"Nos comprometemos con el éxito de nuestros clientes, acompañándolos en cada etapa del proceso de certificación.",icon:"📊",color:"from-emerald-400 to-emerald-600"},{id:5,title:"Colaboración",description:"Trabajamos en estrecha colaboración con nuestros clientes, creando equipos sinérgicos y orientados a resultados.",icon:"👥",color:"from-blue-400 to-blue-600"},{id:6,title:"Sostenibilidad",description:"Promovemos prácticas empresariales sostenibles que beneficien tanto a las organizaciones como al entorno global.",icon:"🌱",color:"from-green-400 to-green-600"}],Cb=({title:e,description:t,icon:r,color:s,index:a})=>Br.jsxs(ht.div,{className:"bg-primary-800/30 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-white/10",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1*a},viewport:{once:!0,margin:"-50px"},whileHover:{y:-5,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[Br.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 bg-gradient-to-br ${s}`,children:Br.jsx("span",{className:"text-2xl",children:r})}),Br.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:e}),Br.jsx("p",{className:"text-white/70",children:t})]}),Sb=()=>Br.jsxs("section",{id:"values",className:"section-unified-bg section-values-bg content-overlay relative py-16 md:py-20",children:[Br.jsx("div",{className:"section-overlay-pattern bg-grid-pattern opacity-5"}),Br.jsxs("div",{className:"minimal-decorations",children:[Br.jsx("div",{className:"absolute top-1/3 right-10 lg:right-20 w-64 h-64 bg-accent-600/10 rounded-full blur-3xl"}),Br.jsx("div",{className:"absolute bottom-1/4 left-10 lg:left-20 w-48 h-48 bg-primary-600/10 rounded-full blur-3xl"}),Br.jsx("div",{className:"absolute left-0 right-0 h-px top-1/3 overflow-hidden -z-10 rotate-2",children:Br.jsx(ht.div,{className:"h-full bg-gradient-to-r from-transparent via-white/5 to-transparent",style:{width:"30%"},animate:{x:["-100%","400%"]},transition:{duration:15,repeat:1/0,ease:"linear"}})})]}),Br.jsxs("div",{className:"container mx-auto px-4 max-w-6xl content-overlay",children:[Br.jsxs(ht.header,{className:"mb-16 text-center",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.7,ease:"easeOut"}}},children:[Br.jsxs("span",{className:"inline-block py-2 px-4 rounded-full bg-accent-500/20 text-white text-sm font-medium mb-3 backdrop-blur-sm  ",children:[Br.jsx("span",{className:"mr-2",children:"⭐"}),"Nuestros Valores"]}),Br.jsxs("h2",{className:"mt-2 text-4xl md:text-5xl font-display font-bold text-white leading-tight",children:["Principios que ",Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-accent-300 to-accent-500",children:"nos definen"})]}),Br.jsx("div",{className:"mx-auto mt-4 h-1 w-24 rounded bg-accent-500 opacity-70"}),Br.jsx("p",{className:"mt-6 text-lg text-white/80 max-w-3xl mx-auto",children:"Los valores que guían nuestro trabajo diario y definen nuestra relación con los clientes."})]}),Br.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:kb.map((e,t)=>Br.jsx(Cb,Ce(ke({},e),{index:t}),e.id))}),Br.jsxs(ht.blockquote,{className:"mt-16 p-6 md:p-8 border-l-4 border-accent-500 bg-primary-800/30 rounded-r-lg backdrop-blur-sm",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},children:[Br.jsx("p",{className:"text-lg md:text-xl text-white/90 italic",children:'"Nuestros valores no son solo palabras en una página, son los principios que aplicamos en cada consultoría, en cada interacción con un cliente y en cada certificación que logramos."'}),Br.jsxs("footer",{className:"mt-4 text-white/70",children:["— Cecilia Stegmaier, ",Br.jsx("cite",{children:"Fundadora y CEO"})]})]})]}),Br.jsx(Va,{fromSection:"values",toSection:"team",type:"minimal",height:40})]}),Eb=[{id:1,name:"FERNANDO ALBERTO STEGMAIER BRAVO",role:"Gerente General",bio:"Ingeniero Ejecución Mecánico Automotriz. Auditor Líder/Interno ISO 9001:2015, ISO 14001:2015, ISO 45001:2018 Certificado por IQNET Academy. Certificado en Interpretación de Sistemas de gestión integrados ISO 9001:2015, ISO 14001:2015, ISO 45001:2018. Certificado en Gestión de No Conformidades por IRAM Chile. Certificado en Metodología de Calidad 5S por IRAM Chile. Certificado en Interpretación y Aplicación de Sistemas de gestión de riesgos ISO 31000:2018 por IRAM Chile.",image:"/src/assets/images/fotos-steg-equipo2.jpg",linkedin:"https://linkedin.com",department:"dirección"},{id:2,name:"CECILIA BEATRIZ STEGMAIER ÁLVAREZ",role:"Gerente de Operaciones",bio:"Ingeniero en Prevención de Riesgos Laborales y Ambientales con licenciatura. Técnico en Prevención de Riesgos Laborales. Auditor Líder/Interno ISO 9001:2015, ISO 14001:2015, ISO 45001:2018 Certificado por IQNET Academy, IRAM Chile. Certificado en Interpretación de Sistemas de gestión integrados ISO 9001:2015, ISO 14001:2015, ISO 45001:2018 por IRAM Chile. Certificado en Gestión de NoConformidades por IRAM Chile. Certificado en Metodología de Calidad 5S por IRAM Chile. Certificado en Interpretación y Aplicación de Sistemas de gestión de riesgos ISO 31000:2018 por IRAM Chile.",image:"/src/assets/images/fotos-steg-equipo1.jpg",linkedin:"https://linkedin.com",department:"dirección"}],_b=({name:e,role:t,bio:r,image:s,linkedin:a,index:n})=>Br.jsxs(ht.div,{className:"bg-gradient-to-br from-primary-800/40 to-primary-900/60 rounded-2xl overflow-hidden border border-white/10 flex flex-col h-full shadow-xl shadow-primary-900/20 backdrop-blur-sm",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1*n},viewport:{once:!0,margin:"-50px"},whileHover:{y:-5,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1)",transition:{duration:.3,ease:"easeOut"}},children:[Br.jsxs("div",{className:"relative overflow-hidden h-80 group",children:[Br.jsx("img",{src:s,alt:e,className:"w-full h-full object-cover object-center transition-transform duration-700 ease-out group-hover:scale-105"}),Br.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary-900 via-primary-900/70 to-transparent opacity-80"}),Br.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 transform translate-y-2 transition-transform duration-300 group-hover:translate-y-0",children:[Br.jsx("h3",{className:"text-2xl font-bold text-white mb-1 drop-shadow-lg",children:e}),Br.jsx("div",{className:"inline-block bg-gradient-to-r from-accent-400 to-accent-600 px-3 py-1 rounded-full",children:Br.jsx("p",{className:"text-white font-medium text-sm",children:t})})]})]}),Br.jsx("div",{className:"p-8 flex-grow bg-opacity-10 backdrop-blur-sm",children:Br.jsx("div",{className:"text-white/90 text-sm leading-relaxed space-y-3",children:r.split(". ").map((e,t)=>e.trim()&&Br.jsxs("p",{className:"flex items-start",children:[Br.jsx("span",{className:"text-accent-400 mr-2 mt-1",children:"•"}),Br.jsx("span",{children:e.trim()+(e.trim().endsWith(".")?"":".")})]},t))})}),Br.jsx("div",{className:"px-8 py-6 border-t border-white/10 bg-primary-800/30",children:Br.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-md bg-white/10 hover:bg-white/20 text-white transition-all duration-300",children:[Br.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:Br.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),Br.jsx("span",{className:"font-medium",children:"LinkedIn"})]})})]}),Mb=()=>Br.jsxs("section",{id:"team",className:"section-unified-bg section-team-bg content-overlay relative py-16 md:py-20",children:[Br.jsx("div",{className:"section-overlay-pattern bg-grid-pattern opacity-5"}),Br.jsxs("div",{className:"container mx-auto px-4 max-w-6xl content-overlay",children:[Br.jsxs(ht.header,{className:"mb-12 text-center",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.7,ease:"easeOut"}}},children:[Br.jsxs("span",{className:"inline-block py-2 px-4 rounded-full bg-accent-500/20 text-white text-sm font-medium mb-3 backdrop-blur-sm",children:[Br.jsx("span",{className:"mr-2",children:"👥"}),"Nuestro Equipo"]}),Br.jsxs("h2",{className:"mt-2 text-4xl md:text-5xl font-display font-bold text-white leading-tight",children:["Conoce a los ",Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-accent-300 to-accent-500",children:"expertos"})]}),Br.jsx("div",{className:"mx-auto mt-4 h-1 w-24 rounded bg-accent-500 opacity-70"}),Br.jsx("p",{className:"mt-6 text-lg text-white/80 max-w-3xl mx-auto",children:"Nuestro equipo directivo garantiza la máxima calidad en todos nuestros servicios de consultoría y certificación."})]}),Br.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:Eb.map((e,t)=>Br.jsx(_b,{name:e.name,role:e.role,bio:e.bio,image:e.image,linkedin:e.linkedin,index:t},e.id))}),Br.jsx(ht.div,{className:"mt-16 text-center",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.7},viewport:{once:!0},children:Br.jsx("a",{href:"/contacto",className:"inline-flex items-center justify-center px-6 py-3 border border-white/20 \r\n                     rounded-md shadow-sm text-base font-medium text-white bg-primary-700/50\r\n                     hover:bg-primary-600/70 focus:outline-none focus:ring-2 focus:ring-offset-2 \r\n                     focus:ring-primary-500 transition-all duration-300 backdrop-blur-sm",children:"Contáctanos"})})]}),Br.jsx(Va,{fromSection:"team",toSection:"certifications",type:"minimal",height:40})]}),Ib=[{id:1,name:"ISO 9001",logo:"/assets/cert-iso9001.svg",description:"Certificación en Sistema de Gestión de Calidad que demuestra nuestro compromiso con la excelencia en la prestación de servicios de consultoría.",issuedBy:"TÜV Rheinland",year:2018,category:"calidad"},{id:2,name:"ISO 14001",logo:"/assets/cert-iso14001.svg",description:"Sistema de Gestión Ambiental que demuestra nuestra responsabilidad con el medio ambiente y el desarrollo sostenible.",issuedBy:"Bureau Veritas",year:2019,category:"ambiental"},{id:3,name:"ISO 27001",logo:"/assets/cert-iso27001.svg",description:"Sistema de Gestión de Seguridad de la Información que garantiza la confidencialidad, integridad y disponibilidad de los datos.",issuedBy:"AENOR",year:2020,category:"seguridad"},{id:4,name:"ISO 45001",logo:"/assets/cert-iso45001.svg",description:"Sistema de Gestión de Salud y Seguridad en el Trabajo que demuestra nuestro compromiso con el bienestar de nuestros colaboradores.",issuedBy:"SGS",year:2021,category:"seguridad"},{id:5,name:"Acreditación ENAC",logo:"/assets/cert-enac.svg",description:"Acreditación de la Entidad Nacional de Acreditación que reconoce nuestra competencia técnica como consultores en sistemas de gestión.",issuedBy:"ENAC",year:2017,category:"acreditación"},{id:6,name:"EFQM",logo:"/assets/cert-efqm.svg",description:"Reconocimiento European Foundation for Quality Management por la excelencia en la gestión y prácticas empresariales.",issuedBy:"EFQM",year:2019,category:"excelencia"}],Ob=({name:e,logo:t,description:r,issuedBy:s,year:a,index:n})=>Br.jsx(ht.div,{className:"bg-white/5 backdrop-blur-sm rounded-xl overflow-hidden shadow-lg",initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:.1*n},viewport:{once:!0,margin:"-50px"},whileHover:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1)",y:-5},children:Br.jsx("div",{className:"p-[2px] bg-gradient-to-r from-accent-500/80 via-accent-400/60 to-accent-300/80 rounded-xl",children:Br.jsxs("div",{className:"p-5 bg-primary-800/95 rounded-xl flex flex-col h-full",children:[Br.jsxs("div",{className:"flex items-center mb-4",children:[Br.jsx("div",{className:"mr-4 flex-shrink-0 p-3 bg-white/10 rounded-lg",children:Br.jsx("img",{src:t,alt:e,className:"h-12 w-12 object-contain",onError:e=>{e.target.src="https://placehold.co/48x48/accent500/FFFFFF/?text=ISO"}})}),Br.jsxs("div",{children:[Br.jsx("h3",{className:"text-xl font-bold text-white",children:e}),Br.jsxs("p",{className:"text-white/60 text-sm",children:["Emitido por ",s,", ",a]})]})]}),Br.jsx("p",{className:"text-white/80 text-sm mb-5 flex-grow",children:r}),Br.jsx("div",{className:"mt-auto",children:Br.jsx("span",{className:"inline-block px-4 py-1.5 rounded-full bg-primary-700/50 text-transparent bg-clip-text bg-gradient-to-r from-white via-accent-300 to-accent-500 text-xs font-bold border border-accent-500/30",children:"Verificado"})})]})})}),Tb=()=>Br.jsxs("section",{id:"certifications",className:"section-unified-bg section-certifications-bg content-overlay relative py-16 md:py-20",children:[Br.jsx("div",{className:"absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),Br.jsx("div",{className:"section-overlay-pattern opacity-3"}),Br.jsxs("div",{className:"container mx-auto px-4 max-w-6xl content-overlay",children:[Br.jsxs(ht.header,{className:"mb-12 text-center",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.7,ease:"easeOut"}}},children:[Br.jsxs("span",{className:"inline-block py-2 px-4 rounded-full bg-accent-500/20 text-white text-sm font-medium mb-3 backdrop-blur-sm",children:[Br.jsx("span",{className:"mr-2",children:"🏆"}),"Reconocimientos"]}),Br.jsxs("h2",{className:"mt-2 text-4xl md:text-5xl font-display font-bold text-white leading-tight",children:["Nuestras ",Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-accent-300 to-accent-500",children:"certificaciones"})]}),Br.jsx("div",{className:"mx-auto mt-4 h-1 w-24 rounded bg-accent-500 opacity-70"}),Br.jsx("p",{className:"mt-6 text-lg text-white/80 max-w-3xl mx-auto",children:"Avalados por los principales organismos certificadores internacionales, demostramos nuestro compromiso con la excelencia."})]}),Br.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ib.map((e,t)=>Br.jsx(Ob,{name:e.name,logo:e.logo,description:e.description,issuedBy:e.issuedBy,year:e.year,index:t},e.id))}),Br.jsx(ht.div,{className:"mt-12 text-center",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.7,delay:.2},viewport:{once:!0},children:Br.jsx("a",{href:"/contacto",className:"inline-flex items-center justify-center px-6 py-3 border border-white/20 \r\n                    rounded-md shadow-sm text-base font-medium text-white bg-primary-700/50\r\n                    hover:bg-primary-600/70 focus:outline-none focus:ring-2 focus:ring-offset-2 \r\n                    focus:ring-primary-500 transition-all duration-300 backdrop-blur-sm",children:"Solicita más información"})})]}),Br.jsx(Va,{fromSection:"certifications",toSection:"footer",type:"minimal",height:40})]}),Lb=()=>{const e={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.7,ease:"easeOut"}}},t={hidden:{opacity:0,scale:.95},visible:e=>({opacity:1,scale:1,transition:{duration:.6,delay:.1*e}})};return Br.jsxs("section",{id:"mission",className:"section-unified-bg section-mission-bg content-overlay relative py-16 md:py-20",children:[Br.jsx("div",{className:"section-overlay-pattern bg-grid-pattern opacity-5"}),Br.jsxs("div",{className:"minimal-decorations",children:[Br.jsx("div",{className:"absolute top-1/3 right-10 lg:right-20 w-56 h-56 bg-amber-600/10 rounded-full blur-3xl"}),Br.jsx("div",{className:"absolute bottom-1/4 left-10 lg:left-20 w-64 h-64 bg-primary-600/10 rounded-full blur-3xl"}),Br.jsx("div",{className:"absolute right-0 top-1/4 w-32 h-32 opacity-20",children:Br.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Br.jsx("circle",{cx:"50",cy:"50",r:"49",stroke:"url(#paint0_linear)",strokeWidth:"2"}),Br.jsx("defs",{children:Br.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"100",y2:"100",gradientUnits:"userSpaceOnUse",children:[Br.jsx("stop",{stopColor:"#FFFFFF",stopOpacity:"0.4"}),Br.jsx("stop",{offset:"1",stopColor:"#FFFFFF",stopOpacity:"0"})]})})]})})]}),Br.jsxs("div",{className:"container mx-auto px-4 max-w-6xl content-overlay",children:[Br.jsxs(ht.header,{className:"mb-16 text-center",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:e,children:[Br.jsxs("span",{className:"inline-block py-2 px-4 rounded-full bg-amber-500/20 text-white text-sm font-medium mb-3 backdrop-blur-sm",children:[Br.jsx("span",{className:"mr-2",children:"🎯"}),"Nuestra Misión"]}),Br.jsxs("h2",{className:"mt-2 text-4xl md:text-5xl font-display font-bold text-white leading-tight",children:["Lo que ",Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-amber-300 to-amber-500",children:"nos mueve"})]}),Br.jsx("div",{className:"mx-auto mt-4 h-1 w-24 rounded bg-amber-500 opacity-70"}),Br.jsx("p",{className:"mt-6 text-lg text-white/80 max-w-3xl mx-auto",children:"Guiamos a las organizaciones a alcanzar la excelencia a través de sistemas de gestión certificados internacionalmente."})]}),Br.jsxs("div",{className:"flex flex-col lg:flex-row gap-10 mb-16 items-center",children:[Br.jsx(ht.div,{className:"lg:w-1/2",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:e,children:Br.jsxs("div",{className:"bg-primary-800/40 backdrop-blur-sm rounded-2xl p-8 border border-white/10 shadow-lg",children:[Br.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:"Nuestro propósito"}),Br.jsxs("p",{className:"text-white/80 text-lg mb-6 leading-relaxed",children:['"Potenciar el crecimiento y la competitividad de las empresas a través de la ',Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-amber-200 to-amber-300 font-semibold",children:"implementación efectiva"}),' de estándares internacionales de gestión y mejora continua."']}),Br.jsxs("div",{className:"mt-8 relative",children:[Br.jsx("div",{className:"absolute -inset-2 rounded-lg bg-gradient-to-r from-amber-500/20 to-amber-600/20 blur-sm"}),Br.jsxs("blockquote",{className:"relative bg-primary-800/70 backdrop-blur-sm p-6 rounded-lg border-l-4 border-amber-500",children:[Br.jsx("p",{className:"text-white/90 italic",children:'"Cada certificación que logramos representa una organización más fuerte, más eficiente y mejor preparada para los desafíos del mercado global."'}),Br.jsx("footer",{className:"mt-4 text-white/70",children:"— Equipo Stegmaier Consulting"})]})]})]})}),Br.jsx("div",{className:"lg:w-1/2",children:Br.jsx("div",{className:"space-y-6",children:[{id:1,title:"Excelencia en Consultoría",description:"Ofrecer servicios de consultoría ISO del más alto nivel, con profesionales expertos y metodologías probadas.",icon:"⭐",color:"from-accent-400 to-accent-600"},{id:2,title:"Soluciones Personalizadas",description:"Desarrollar planes y estrategias adaptadas a las necesidades específicas de cada cliente y su sector.",icon:"🛠️",color:"from-amber-400 to-amber-600"},{id:3,title:"Resultados Garantizados",description:"Acompañar a nuestros clientes hasta lograr sus objetivos de certificación y mejora continua.",icon:"🏆",color:"from-primary-400 to-primary-600"}].map((e,r)=>Br.jsx(ht.div,{className:"bg-primary-800/30 backdrop-blur-sm rounded-xl p-6 border border-white/10 shadow-lg",custom:r,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},variants:t,whileHover:{y:-5,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:Br.jsxs("div",{className:"flex gap-4 items-start",children:[Br.jsx("div",{className:`shrink-0 w-14 h-14 rounded-full flex items-center justify-center bg-gradient-to-br ${e.color}`,children:Br.jsx("span",{className:"text-2xl",children:e.icon})}),Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:e.title}),Br.jsx("p",{className:"text-white/70",children:e.description})]})]})},e.id))})})]}),Br.jsxs(ht.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mt-16",children:[Br.jsx("div",{className:"text-center mb-10",children:Br.jsxs("h3",{className:"text-2xl md:text-3xl font-bold text-white",children:["Nuestro ",Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-primary-300 to-primary-500",children:"compromiso"})," con cada cliente"]})}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Br.jsxs("div",{className:"bg-primary-800/30 backdrop-blur-sm rounded-xl p-6 border border-white/10 text-center",children:[Br.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center bg-gradient-to-br from-primary-400 to-primary-600 mb-4",children:Br.jsx("span",{className:"text-2xl",children:"💼"})}),Br.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Profesionalismo"}),Br.jsx("p",{className:"text-white/70",children:"Equipo altamente capacitado con amplia experiencia en diferentes industrias."})]}),Br.jsxs("div",{className:"bg-primary-800/30 backdrop-blur-sm rounded-xl p-6 border border-white/10 text-center",children:[Br.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center bg-gradient-to-br from-accent-400 to-accent-600 mb-4",children:Br.jsx("span",{className:"text-2xl",children:"⏱️"})}),Br.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Eficiencia"}),Br.jsx("p",{className:"text-white/70",children:"Procesos optimizados que maximizan resultados y minimizan tiempos."})]}),Br.jsxs("div",{className:"bg-primary-800/30 backdrop-blur-sm rounded-xl p-6 border border-white/10 text-center",children:[Br.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center bg-gradient-to-br from-amber-400 to-amber-600 mb-4",children:Br.jsx("span",{className:"text-2xl",children:"🤝"})}),Br.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Compromiso"}),Br.jsx("p",{className:"text-white/70",children:"Acompañamiento completo desde el diagnóstico hasta la certificación."})]})]})]})]}),Br.jsx(Va,{fromSection:"vision",toSection:"history",type:"minimal",height:40})]})},Ab=()=>{const e={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.7,delay:.2,ease:"easeOut"}}};return Br.jsxs("section",{id:"vision",className:"section-unified-bg section-vision-bg content-overlay relative py-16 md:py-20",children:[Br.jsx("div",{className:"section-overlay-pattern bg-grid-pattern opacity-5"}),Br.jsxs("div",{className:"minimal-decorations",children:[Br.jsx("div",{className:"absolute top-1/4 left-10 lg:left-20 w-64 h-64 bg-primary-600/10 rounded-full blur-3xl"}),Br.jsx("div",{className:"absolute bottom-1/3 right-10 lg:right-20 w-48 h-48 bg-accent-600/10 rounded-full blur-3xl"}),Br.jsx("div",{className:"absolute left-0 right-0 h-px top-1/2 overflow-hidden -z-10 -rotate-1",children:Br.jsx(ht.div,{className:"h-full bg-gradient-to-r from-transparent via-white/5 to-transparent",style:{width:"30%"},animate:{x:["-100%","400%"]},transition:{duration:15,repeat:1/0,ease:"linear"}})})]}),Br.jsxs("div",{className:"container mx-auto px-4 max-w-6xl content-overlay",children:[Br.jsxs(ht.header,{className:"mb-16 text-center",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.7,ease:"easeOut"}}},children:[Br.jsxs("span",{className:"inline-block py-2 px-4 rounded-full bg-primary-500/20 text-white text-sm font-medium mb-3 backdrop-blur-sm",children:[Br.jsx("span",{className:"mr-2",children:"👁️"}),"Nuestra Visión"]}),Br.jsxs("h2",{className:"mt-2 text-4xl md:text-5xl font-display font-bold text-white leading-tight",children:["Hacia dónde ",Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-primary-300 to-primary-500",children:"nos dirigimos"})]}),Br.jsx("div",{className:"mx-auto mt-4 h-1 w-24 rounded bg-primary-500 opacity-70"})]}),Br.jsxs("div",{className:"flex flex-col lg:flex-row gap-10 items-center",children:[Br.jsx(ht.div,{className:"lg:w-1/2 order-2 lg:order-1",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:e,children:Br.jsxs("div",{className:"relative",children:[Br.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary-600/40 to-accent-600/40 rounded-2xl transform -rotate-2 scale-105 blur-sm"}),Br.jsxs("div",{className:"relative bg-primary-800/50 backdrop-blur-sm p-8 rounded-2xl border border-white/10 shadow-xl",children:[Br.jsx("div",{className:"flex justify-center mb-6",children:Br.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-primary-400 to-primary-600 flex items-center justify-center",children:Br.jsx("span",{className:"text-3xl",children:"🔭"})})}),Br.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white text-center mb-4",children:"Visión 2030"}),Br.jsxs("p",{className:"text-white/80 text-lg mb-4 leading-relaxed",children:['"Ser reconocidos como el ',Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-primary-200 to-primary-300 font-semibold",children:"referente latinoamericano"}),' en consultoría y certificación ISO, ofreciendo servicios innovadores que impulsen la transformación y competitividad de nuestros clientes en un entorno global."']}),Br.jsxs("ul",{className:"space-y-3 text-white/70",children:[Br.jsxs("li",{className:"flex items-start",children:[Br.jsx("span",{className:"mr-2 text-accent-400",children:"✓"}),Br.jsx("span",{children:"Expandir nuestra presencia a toda América Latina"})]}),Br.jsxs("li",{className:"flex items-start",children:[Br.jsx("span",{className:"mr-2 text-accent-400",children:"✓"}),Br.jsx("span",{children:"Desarrollar metodologías propias para la gestión de calidad"})]}),Br.jsxs("li",{className:"flex items-start",children:[Br.jsx("span",{className:"mr-2 text-accent-400",children:"✓"}),Br.jsx("span",{children:"Crear un centro de innovación para nuevas certificaciones"})]}),Br.jsxs("li",{className:"flex items-start",children:[Br.jsx("span",{className:"mr-2 text-accent-400",children:"✓"}),Br.jsx("span",{children:"Liderar la transformación digital en procesos de certificación"})]})]})]})]})}),Br.jsxs(ht.div,{className:"lg:w-1/2 order-1 lg:order-2",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:e,children:[Br.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:"Nuestra aspiración"}),Br.jsx("p",{className:"text-white/80 text-lg mb-6 leading-relaxed",children:"En Stegmaier Consulting aspiramos a transformar la forma en que las empresas implementan y obtienen valor de las normas ISO, llevando la excelencia operativa a un nuevo nivel."}),Br.jsxs("p",{className:"text-white/80 text-lg mb-6 leading-relaxed",children:["Visualizamos un futuro donde la certificación ISO no sea solo un requisito, sino una ",Br.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-accent-300 to-accent-500 font-semibold",children:"herramienta estratégica"})," que impulse la innovación y el crecimiento sostenible."]}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mt-8",children:[Br.jsxs("div",{className:"bg-primary-800/30 backdrop-blur-sm rounded-xl p-5 border border-white/10",children:[Br.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center mb-3",children:Br.jsx("span",{className:"text-xl",children:"🌎"})}),Br.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Impacto Global"}),Br.jsx("p",{className:"text-white/70",children:"Llevar nuestra experiencia más allá de las fronteras, impactando positivamente organizaciones en diferentes continentes."})]}),Br.jsxs("div",{className:"bg-primary-800/30 backdrop-blur-sm rounded-xl p-5 border border-white/10",children:[Br.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center mb-3",children:Br.jsx("span",{className:"text-xl",children:"🚀"})}),Br.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Innovación Continua"}),Br.jsx("p",{className:"text-white/70",children:"Desarrollar constantemente nuevas metodologías y soluciones que revolucionen el campo de la certificación."})]})]})]})]})]}),Br.jsx(Va,{fromSection:"company",toSection:"mission",type:"minimal",height:40})]})};function Db(){return ze.useEffect(()=>{window.scrollTo(0,0),document.title="Empresa | Stegmaier Consulting"},[]),Br.jsxs(sg,{children:[Br.jsx(yb,{}),Br.jsx(Ab,{}),Br.jsx(Lb,{}),Br.jsx(Nb,{}),Br.jsx(Sb,{}),Br.jsx(Mb,{}),Br.jsx(Tb,{})]})}const Pb=()=>{const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},t={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6,ease:wr(.43,.13,.23,.96)}}};return Br.jsxs("section",{className:"relative section-unified-bg section-hero-bg min-h-[90vh] flex items-center py-20 overflow-hidden",children:[Br.jsx("div",{className:"absolute inset-0 opacity-10",children:Br.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"\n              radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.15) 2px, transparent 2px),\n              radial-gradient(circle at 80% 80%, rgba(147, 51, 234, 0.15) 1px, transparent 1px),\n              radial-gradient(circle at 40% 60%, rgba(16, 185, 129, 0.1) 1.5px, transparent 1.5px),\n              linear-gradient(45deg, transparent 49%, rgba(255,255,255,0.03) 50%, transparent 51%),\n              linear-gradient(-45deg, transparent 49%, rgba(255,255,255,0.03) 50%, transparent 51%)\n            ",backgroundSize:"80px 80px, 60px 60px, 100px 100px, 40px 40px, 40px 40px"}})}),Br.jsxs("div",{className:"absolute inset-0 opacity-20",children:[Br.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-blue-500/20 to-transparent rounded-full blur-3xl animate-pulse"}),Br.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-tl from-purple-500/20 to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),Br.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-r from-green-500/15 to-blue-500/15 rounded-full blur-2xl animate-pulse",style:{animationDelay:"2s"}})]}),[{type:"circle",size:120,x:"5%",y:"10%",delay:0},{type:"square",size:80,x:"90%",y:"20%",delay:.5},{type:"triangle",size:100,x:"8%",y:"80%",delay:1},{type:"hexagon",size:60,x:"85%",y:"85%",delay:1.5},{type:"circle",size:40,x:"50%",y:"5%",delay:2},{type:"square",size:50,x:"95%",y:"50%",delay:2.5}].map((e,t)=>Br.jsxs(ht.div,{className:"absolute pointer-events-none",style:{left:e.x,top:e.y,width:e.size,height:e.size},initial:{scale:0,rotate:0,opacity:0},animate:{scale:[0,1,.8,1],rotate:[0,180,360],opacity:[0,.1,.05,.1]},transition:{duration:8,delay:e.delay,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},children:["circle"===e.type&&Br.jsx("div",{className:"w-full h-full border-2 border-white/10 rounded-full bg-gradient-to-br from-blue-500/5 to-purple-500/5"}),"square"===e.type&&Br.jsx("div",{className:"w-full h-full border-2 border-white/10 bg-gradient-to-br from-green-500/5 to-blue-500/5 transform rotate-45"}),"triangle"===e.type&&Br.jsx("div",{className:"w-full h-full",children:Br.jsx("div",{className:"w-0 h-0 border-l-[50px] border-r-[50px] border-b-[87px] border-l-transparent border-r-transparent border-b-white/10 mx-auto"})}),"hexagon"===e.type&&Br.jsx("div",{className:"w-full h-full relative",children:Br.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-pink-500/5 transform rotate-0",style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)"}})})]},t)),Br.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:15}).map((e,t)=>Br.jsx(ht.div,{className:"absolute w-1 h-1 bg-white/20 rounded-full",style:{left:100*Math.random()+"%",top:100*Math.random()+"%"},animate:{y:[0,-100,0],opacity:[0,1,0],scale:[0,1,0]},transition:{duration:4+4*Math.random(),repeat:1/0,delay:5*Math.random(),ease:"easeInOut"}},t))}),Br.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none opacity-5",viewBox:"0 0 1200 800",children:[Br.jsx(ht.path,{d:"M100,200 Q300,100 500,200 T900,200",stroke:"rgba(255,255,255,0.3)",strokeWidth:"1",fill:"none",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:8,repeat:1/0,repeatType:"reverse"}}),Br.jsx(ht.path,{d:"M200,600 Q400,500 600,600 T1000,600",stroke:"rgba(59, 130, 246, 0.3)",strokeWidth:"1",fill:"none",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:10,repeat:1/0,repeatType:"reverse",delay:2}}),Br.jsx(ht.path,{d:"M50,400 Q250,300 450,400 T850,400",stroke:"rgba(147, 51, 234, 0.3)",strokeWidth:"1",fill:"none",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:12,repeat:1/0,repeatType:"reverse",delay:4}})]}),Br.jsx("div",{className:"content-overlay container mx-auto px-6 relative z-10",children:Br.jsxs(ht.div,{className:"max-w-4xl mx-auto text-center",variants:e,initial:"hidden",animate:"visible",children:[Br.jsxs(ht.div,{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-full px-6 py-2 mb-6 border border-white/20",variants:t,children:[Br.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),Br.jsx("span",{className:"text-white/90 font-medium",children:"Servicios Especializados"})]}),Br.jsxs(ht.h1,{className:"text-5xl md:text-7xl font-bold mb-6 text-white leading-tight",variants:t,children:["Consultorías"," ",Br.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-blue-300 bg-clip-text text-transparent",children:"Especializadas"})]}),Br.jsxs(ht.p,{className:"text-xl md:text-2xl mb-8 text-white/80 max-w-3xl mx-auto leading-relaxed",variants:t,children:["Transformamos su organización con"," ",Br.jsx("span",{className:"text-blue-300 font-semibold",children:"soluciones integrales"})," ","para optimizar procesos, obtener certificaciones y alcanzar la excelencia operacional"]}),Br.jsxs(ht.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",variants:t,children:[Br.jsx(ht.button,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-full font-semibold text-lg shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Solicitar Consultoría"}),Br.jsx(ht.button,{className:"border-2 border-white/30 hover:border-white/50 text-white px-8 py-4 rounded-full font-semibold text-lg backdrop-blur-sm hover:bg-white/10 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Ver Servicios"})]}),Br.jsx(ht.div,{className:"grid grid-cols-3 gap-8 mt-16 max-w-2xl mx-auto",variants:e,children:[{number:"500+",label:"Proyectos"},{number:"15+",label:"Años Experiencia"},{number:"98%",label:"Éxito"}].map((e,r)=>Br.jsxs(ht.div,{className:"text-center",variants:t,children:[Br.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:e.number}),Br.jsx("div",{className:"text-white/70 text-sm md:text-base",children:e.label})]},r))})]})}),Br.jsx(Va,{fromSection:"hero",toSection:"services",type:"minimal"})]})},Rb=({variant:e="hero"})=>{const t=(()=>{const t=[{type:"circle",size:120,x:"5%",y:"10%",delay:0},{type:"square",size:80,x:"90%",y:"20%",delay:.5},{type:"triangle",size:100,x:"8%",y:"80%",delay:1},{type:"hexagon",size:60,x:"85%",y:"85%",delay:1.5},{type:"circle",size:40,x:"50%",y:"5%",delay:2},{type:"square",size:50,x:"95%",y:"50%",delay:2.5}];return{hero:t,services:t.map(e=>Ce(ke({},e),{x:`${parseFloat(e.x)+2}%`})),process:t.map(e=>Ce(ke({},e),{y:`${parseFloat(e.y)+3}%`})),testimonials:t.map(e=>Ce(ke({},e),{x:parseFloat(e.x)-2+"%"})),contact:t.map(e=>Ce(ke({},e),{y:parseFloat(e.y)-3+"%"}))}[e]})();return Br.jsxs(Br.Fragment,{children:[Br.jsx("div",{className:"absolute inset-0 opacity-10",children:Br.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"\n              radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.15) 2px, transparent 2px),\n              radial-gradient(circle at 80% 80%, rgba(147, 51, 234, 0.15) 1px, transparent 1px),\n              radial-gradient(circle at 40% 60%, rgba(16, 185, 129, 0.1) 1.5px, transparent 1.5px),\n              linear-gradient(45deg, transparent 49%, rgba(255,255,255,0.03) 50%, transparent 51%),\n              linear-gradient(-45deg, transparent 49%, rgba(255,255,255,0.03) 50%, transparent 51%)\n            ",backgroundSize:"80px 80px, 60px 60px, 100px 100px, 40px 40px, 40px 40px"}})}),Br.jsxs("div",{className:"absolute inset-0 opacity-20",children:[Br.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-blue-500/20 to-transparent rounded-full blur-3xl animate-pulse"}),Br.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-tl from-purple-500/20 to-transparent rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),Br.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-r from-green-500/15 to-blue-500/15 rounded-full blur-2xl animate-pulse",style:{animationDelay:"2s"}})]}),t.map((t,r)=>Br.jsxs(ht.div,{className:"absolute pointer-events-none",style:{left:t.x,top:t.y,width:t.size,height:t.size},initial:{scale:0,rotate:0,opacity:0},animate:{scale:[0,1,.8,1],rotate:[0,180,360],opacity:[0,.1,.05,.1]},transition:{duration:8,delay:t.delay,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},children:["circle"===t.type&&Br.jsx("div",{className:"w-full h-full border-2 border-white/10 rounded-full bg-gradient-to-br from-blue-500/5 to-purple-500/5"}),"square"===t.type&&Br.jsx("div",{className:"w-full h-full border-2 border-white/10 bg-gradient-to-br from-green-500/5 to-blue-500/5 transform rotate-45"}),"triangle"===t.type&&Br.jsx("div",{className:"w-full h-full",children:Br.jsx("div",{className:"w-0 h-0 border-l-[50px] border-r-[50px] border-b-[87px] border-l-transparent border-r-transparent border-b-white/10 mx-auto"})}),"hexagon"===t.type&&Br.jsx("div",{className:"w-full h-full relative",children:Br.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-pink-500/5 transform rotate-0",style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)"}})})]},`${e}-${r}`)),Br.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:15}).map((t,r)=>Br.jsx(ht.div,{className:"absolute w-1 h-1 bg-white/20 rounded-full",style:{left:100*Math.random()+"%",top:100*Math.random()+"%"},animate:{y:[0,-100,0],opacity:[0,1,0],scale:[0,1,0]},transition:{duration:4+4*Math.random(),repeat:1/0,delay:5*Math.random(),ease:"easeInOut"}},`${e}-particle-${r}`))}),Br.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none opacity-5",viewBox:"0 0 1200 800",children:[Br.jsx(ht.path,{d:"M100,200 Q300,100 500,200 T900,200",stroke:"rgba(255,255,255,0.3)",strokeWidth:"1",fill:"none",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:8,repeat:1/0,repeatType:"reverse"}}),Br.jsx(ht.path,{d:"M200,600 Q400,500 600,600 T1000,600",stroke:"rgba(59, 130, 246, 0.3)",strokeWidth:"1",fill:"none",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:10,repeat:1/0,repeatType:"reverse",delay:2}}),Br.jsx(ht.path,{d:"M50,400 Q250,300 450,400 T850,400",stroke:"rgba(147, 51, 234, 0.3)",strokeWidth:"1",fill:"none",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:12,repeat:1/0,repeatType:"reverse",delay:4}})]})]})},zb=()=>{const[e,t]=ze.useState(0),r=[{id:"P",label:"Planificar",title:"Plan",description:"Identificar objetivos y establecer estrategias",details:"Definimos metas claras, analizamos la situación actual y desarrollamos estrategias específicas para alcanzar los objetivos organizacionales.",icon:"🎯",color:"from-blue-500 to-cyan-500"},{id:"H",label:"Hacer",title:"Do",description:"Implementar planes y ejecutar procesos",details:"Ejecutamos las estrategias planificadas, implementamos los procesos diseñados y ponemos en marcha las soluciones propuestas.",icon:"🚀",color:"from-green-500 to-teal-500"},{id:"V",label:"Verificar",title:"Check",description:"Monitorear resultados y auditar procesos",details:"Evaluamos los resultados obtenidos, medimos el desempeño y verificamos que los objetivos se estén cumpliendo según lo planificado.",icon:"📊",color:"from-purple-500 to-pink-500"},{id:"A",label:"Actuar",title:"Act",description:"Tomar acciones correctivas y mejorar continuamente",details:"Implementamos mejoras basadas en los resultados, corregimos desviaciones y establecemos nuevos estándares para la mejora continua.",icon:"⚡",color:"from-orange-500 to-red-500"}];return Br.jsxs("section",{className:"relative section-unified-bg section-process-bg py-20",children:[Br.jsx(Rb,{variant:"process"}),Br.jsxs("div",{className:"content-overlay container mx-auto px-6",children:[Br.jsxs(ht.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[Br.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-full px-6 py-2 mb-6 border border-white/20",children:[Br.jsx("span",{className:"text-2xl",children:"🔄"}),Br.jsx("span",{className:"text-white/90 font-medium",children:"Metodología Probada"})]}),Br.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["¿En qué nos"," ",Br.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"basamos?"})]}),Br.jsx("h3",{className:"text-3xl md:text-4xl font-semibold text-white/90 mb-6",children:"Ciclo de Deming (PDCA)"}),Br.jsxs("p",{className:"text-xl text-white/80 max-w-4xl mx-auto leading-relaxed",children:["Más que una metodología, el ",Br.jsx("span",{className:"font-semibold text-accent-300",children:"ADN de nuestra empresa"}),". Transformamos la mejora continua en resultados tangibles para su negocio, aplicando con maestría este enfoque en cada proyecto de ",Br.jsx("span",{className:"font-semibold text-accent-300",children:"Sistemas de Gestión ISO"}),"."]})]}),Br.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center justify-items-center max-w-7xl mx-auto",children:[Br.jsx(ht.div,{className:"relative justify-self-center w-full max-w-[400px] origin-center mx-auto",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.8},children:Br.jsxs("div",{className:"relative w-full aspect-square",children:[Br.jsx(ht.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 rounded-full bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-sm flex items-center justify-center z-20 border border-white/30",whileHover:{scale:1.1},children:Br.jsx("span",{className:"text-white font-bold text-2xl",children:"PDCA"})}),Br.jsx("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 400 400",children:Br.jsx("circle",{cx:"200",cy:"200",r:"180",stroke:"rgba(255,255,255,0.2)",strokeWidth:"2",fill:"none",strokeDasharray:"5,5",className:"animate-spin",style:{animationDuration:"20s"}})}),r.map((r,s)=>{const a=90*s*(Math.PI/180),n=200+140*Math.cos(a),i=200+140*Math.sin(a),o=e===s;return Br.jsx("div",{className:"absolute",style:{left:n/400*100+"%",top:i/400*100+"%",width:"80px",height:"80px",marginLeft:"-40px",marginTop:"-40px"},children:Br.jsx(ht.div,{className:"w-full h-full cursor-pointer "+(o?"z-30":"z-10"),onClick:()=>t(s),animate:{scale:o?1.25:1},whileHover:{scale:o?1.25:1.1},whileTap:{scale:o?1.2:.95},style:{originX:.5,originY:.5},children:Br.jsxs("div",{className:`w-full h-full rounded-full bg-gradient-to-r ${r.color} flex flex-col items-center justify-center shadow-xl border-2 ${o?"border-white":"border-white/30"}`,children:[Br.jsx("div",{className:"text-2xl mb-1",children:r.icon}),Br.jsx("div",{className:"text-white font-bold text-sm",children:r.id})]})})},r.id)}),Br.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",viewBox:"0 0 400 400",children:r.map((e,t)=>{const s=(t+1)%r.length,a=90*t*(Math.PI/180),n=90*s*(Math.PI/180),i=140,o=200+Math.cos(a)*i,l=200+Math.sin(a)*i,c=200+Math.cos(n)*i,d=200+Math.sin(n)*i;return Br.jsx(ht.line,{x1:o,y1:l,x2:c,y2:d,stroke:"rgba(255,255,255,0.3)",strokeWidth:"2",strokeDasharray:"10,5",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1,delay:.2*t}},t)})})]})}),Br.jsxs("div",{className:"space-y-8 w-full max-w-lg mx-auto lg:mx-0",children:[Br.jsx(ft,{mode:"wait",children:Br.jsxs(ht.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[Br.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[Br.jsx("div",{className:`w-16 h-16 rounded-xl bg-gradient-to-r ${r[e].color} flex items-center justify-center text-2xl shadow-lg`,children:r[e].icon}),Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-2xl font-bold text-white",children:r[e].title}),Br.jsx("p",{className:"text-white/70",children:r[e].label})]})]}),Br.jsx("p",{className:"text-white/80 mb-4 text-lg",children:r[e].description}),Br.jsx("p",{className:"text-white/70 leading-relaxed",children:r[e].details})]},e)}),Br.jsx("div",{className:"flex gap-2",children:r.map((s,a)=>Br.jsx(ht.button,{onClick:()=>t(a),className:"flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-300 "+(e===a?"bg-white/20 text-white border border-white/30":"bg-white/5 text-white/70 hover:bg-white/10"),whileHover:{scale:1.02},whileTap:{scale:.98},children:r[a].id},a))})]})]}),Br.jsxs(ht.div,{className:"mt-20",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.3},children:[Br.jsx("h4",{className:"text-2xl font-bold text-white text-center mb-8",children:"Resultados que Obtendrá"}),Br.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 max-w-5xl mx-auto",children:[{icon:"📈",text:"Mejora de competitividad"},{icon:"💰",text:"Reducción de costos"},{icon:"🎯",text:"Mayor productividad"},{icon:"🏆",text:"Calidad superior"},{icon:"📊",text:"Participación en mercado"},{icon:"🔄",text:"Mejora continua"}].map((e,t)=>Br.jsxs(ht.div,{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20 hover:border-white/30 transition-all duration-300",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t},whileHover:{scale:1.05,y:-5},children:[Br.jsx("div",{className:"text-3xl mb-2",children:e.icon}),Br.jsx("p",{className:"text-white/80 text-sm font-medium",children:e.text})]},t))})]})]}),Br.jsx(Va,{fromSection:"process",toSection:"testimonials",type:"minimal"})]})},$b=()=>{const e={hidden:{opacity:0,y:50,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:wr(.43,.13,.23,.96)}}};return Br.jsxs("section",{className:"relative section-unified-bg section-services-bg py-20",children:[Br.jsx(Rb,{}),Br.jsxs("div",{className:"content-overlay container mx-auto px-6",children:[Br.jsxs(ht.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[Br.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-full px-6 py-2 mb-6 border border-white/20",children:[Br.jsx("span",{className:"text-2xl",children:"⚡"}),Br.jsx("span",{className:"text-white/90 font-medium",children:"Metodología Probada"})]}),Br.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["¿Cómo lo"," ",Br.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"hacemos?"})]}),Br.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Nuestro enfoque integral combina diagnóstico preciso, implementación efectiva y seguimiento continuo"})]}),Br.jsx(ht.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},initial:"hidden",whileInView:"visible",viewport:{once:!0},children:[{icon:"🔍",title:"Diagnóstico",description:"Realizamos un levantamiento de la situación actual identificando fortalezas, debilidades y su potencial impacto con el fin de proponer la estrategia más adecuada para la mejora continua de la organización.",features:["Análisis FODA","Evaluación de procesos","Identificación de oportunidades"],color:"from-blue-500 to-cyan-500"},{icon:"🚀",title:"Proyectos",description:"Implementación y/o mantención de sistemas de gestión que ayudarán a visualizar y administrar mejor la organización, área o procesos.",features:["Sistemas de gestión","Certificaciones ISO","Toma de decisiones basada en datos"],color:"from-purple-500 to-pink-500"},{icon:"📊",title:"Seguimiento",description:"Mediante la realización de auditorías detectamos desviaciones a lo implementado, generando planes de acción para corregir lo necesario.",features:["Auditorías internas","Planes de acción","Monitoreo continuo"],color:"from-green-500 to-teal-500"},{icon:"🎯",title:"Asesorías Integrales",description:"Servicios completos de consultoría para transformar su organización de manera integral.",features:["Control de gestión","Simplificación de procesos","Buenas prácticas","Enfoque basado en riesgos","Atención personalizada"],color:"from-orange-500 to-red-500"}].map((t,r)=>Br.jsxs(ht.div,{variants:e,whileHover:{scale:1.02,y:-5,transition:{duration:.2}},className:"group relative",children:[Br.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${t.color} rounded-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-300`}),Br.jsxs("div",{className:"relative bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20 group-hover:border-white/30 transition-all duration-300 h-full",children:[Br.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[Br.jsx("div",{className:`w-16 h-16 rounded-xl bg-gradient-to-r ${t.color} flex items-center justify-center text-2xl shadow-lg group-hover:scale-110 transition-transform duration-300`,children:t.icon}),Br.jsx("h3",{className:"text-2xl font-bold text-white group-hover:text-blue-300 transition-colors duration-300",children:t.title})]}),Br.jsx("p",{className:"text-white/80 mb-6 leading-relaxed",children:t.description}),Br.jsx("div",{className:"space-y-3",children:t.features.map((e,r)=>Br.jsxs(ht.div,{className:"flex items-center gap-3",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.1*r},children:[Br.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${t.color}`}),Br.jsx("span",{className:"text-white/70 text-sm",children:e})]},r))}),Br.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]})]},r))}),Br.jsx(ht.div,{className:"text-center mt-16",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.5},children:Br.jsx(ht.button,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-full font-semibold text-lg shadow-xl hover:shadow-2xl transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Conocer Más Detalles"})})]}),Br.jsx(Va,{fromSection:"services",toSection:"process",type:"minimal"})]})},qb=()=>{const[e,t]=ze.useState(0),r=[{id:"iso",name:"Sistemas ISO",icon:"🏆",color:"from-blue-500 to-cyan-500",description:"Implementación y certificación de estándares internacionales"},{id:"management",name:"Gestión Empresarial",icon:"📊",color:"from-purple-500 to-pink-500",description:"Optimización de procesos y estructura organizacional"},{id:"training",name:"Capacitación",icon:"🎓",color:"from-green-500 to-teal-500",description:"Desarrollo de competencias y habilidades"},{id:"consulting",name:"Consultoría Especializada",icon:"💡",color:"from-orange-500 to-red-500",description:"Soluciones personalizadas para desafíos específicos"}],s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return Br.jsxs("section",{className:"relative section-unified-bg section-testimonials-bg py-20 overflow-hidden",children:[Br.jsx(Rb,{variant:"testimonials"}),Br.jsxs("div",{className:"content-overlay container mx-auto px-6 relative z-10",children:[Br.jsxs(ht.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[Br.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-full px-6 py-2 mb-6 border border-white/20",children:[Br.jsx("span",{className:"text-2xl",children:"🚀"}),Br.jsx("span",{className:"text-white/90 font-medium",children:"Servicios Especializados"})]}),Br.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Nuestros"," ",Br.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Servicios"})]}),Br.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Soluciones integrales diseñadas para transformar su organización y alcanzar la excelencia operacional"})]}),Br.jsx(ht.div,{className:"flex flex-wrap justify-center gap-4 mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:r.map((r,s)=>Br.jsxs(ht.button,{onClick:()=>t(s),className:"flex items-center gap-3 px-6 py-3 rounded-full font-medium transition-all duration-300 "+(e===s?"bg-white/20 text-white border border-white/30 shadow-lg":"bg-white/5 text-white/70 hover:bg-white/10 border border-white/10"),whileHover:{scale:1.05},whileTap:{scale:.95},children:[Br.jsx("span",{className:"text-xl",children:r.icon}),Br.jsx("span",{className:"hidden sm:inline",children:r.name})]},r.id))}),Br.jsx(ft,{mode:"wait",children:Br.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"text-center mb-12",children:Br.jsxs("div",{className:`inline-flex items-center gap-4 bg-gradient-to-r ${r[e].color} bg-opacity-20 rounded-2xl px-8 py-4 backdrop-blur-sm border border-white/20`,children:[Br.jsx("span",{className:"text-3xl",children:r[e].icon}),Br.jsxs("div",{className:"text-left",children:[Br.jsx("h3",{className:"text-2xl font-bold text-white",children:r[e].name}),Br.jsx("p",{className:"text-white/80",children:r[e].description})]})]})},e)}),Br.jsx(ft,{mode:"wait",children:Br.jsx(ht.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",exit:"hidden",children:{iso:[{name:"ISO 9001 - Gestión de Calidad",description:"Sistema de gestión de calidad para mejorar la satisfacción del cliente"},{name:"ISO 14001 - Gestión Ambiental",description:"Gestión ambiental para reducir el impacto ecológico"},{name:"ISO 45001 - Seguridad y Salud",description:"Prevención de riesgos laborales y bienestar de trabajadores"},{name:"ISO 27001 - Seguridad de la Información",description:"Protección de activos de información críticos"},{name:"ISO 22000 - Seguridad Alimentaria",description:"Gestión de la seguridad alimentaria en toda la cadena"},{name:"ISO 50001 - Gestión de Energía",description:"Optimización del consumo energético y sostenibilidad"}],management:[{name:"Gestión por Procesos",description:"Optimización y documentación de procesos organizacionales"},{name:"Balanced Scorecard",description:"Sistema de medición y gestión estratégica integral"},{name:"Gestión de Riesgos",description:"Identificación, evaluación y mitigación de riesgos empresariales"},{name:"Mejora Continua",description:"Implementación de metodologías de mejora sistemática"},{name:"Planificación Estratégica",description:"Desarrollo de planes estratégicos a largo plazo"},{name:"Control de Gestión",description:"Sistemas de monitoreo y control de desempeño"}],training:[{name:"Formación de Auditores Internos",description:"Capacitación en técnicas de auditoría y evaluación"},{name:"Liderazgo y Gestión de Equipos",description:"Desarrollo de habilidades directivas y liderazgo"},{name:"Gestión del Cambio",description:"Herramientas para liderar transformaciones organizacionales"},{name:"Análisis de Datos",description:"Capacitación en análisis estadístico y toma de decisiones"},{name:"Comunicación Efectiva",description:"Mejora de habilidades de comunicación empresarial"},{name:"Trabajo en Equipo",description:"Fortalecimiento de la colaboración y sinergia grupal"}],consulting:[{name:"Diagnóstico Organizacional",description:"Evaluación integral de la situación actual de la empresa"},{name:"Reestructuración Empresarial",description:"Rediseño de estructura organizacional y procesos"},{name:"Transformación Digital",description:"Implementación de tecnologías y procesos digitales"},{name:"Cultura Organizacional",description:"Desarrollo y fortalecimiento de la cultura empresarial"},{name:"Innovación y Creatividad",description:"Fomento de la innovación y pensamiento creativo"},{name:"Sostenibilidad Empresarial",description:"Estrategias de responsabilidad social y ambiental"}]}[r[e].id].map((t,a)=>Br.jsxs(ht.div,{variants:s,whileHover:{scale:1.03,y:-5,transition:{duration:.2}},className:"group relative",children:[Br.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r[e].color} rounded-xl opacity-20 group-hover:opacity-30 transition-opacity duration-300`}),Br.jsxs("div",{className:"relative bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20 group-hover:border-white/30 transition-all duration-300 h-full",children:[Br.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-r ${r[e].color} flex items-center justify-center text-xl mb-4 group-hover:scale-110 transition-transform duration-300`,children:r[e].icon}),Br.jsx("h4",{className:"text-lg font-semibold text-white mb-3 group-hover:text-blue-300 transition-colors duration-300",children:t.name}),Br.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:t.description}),Br.jsx("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:Br.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-r ${r[e].color} flex items-center justify-center`,children:Br.jsx("span",{className:"text-white text-sm",children:"→"})})}),Br.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]})]},a))},e)}),Br.jsx(ht.div,{className:"text-center mt-16",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.5},children:Br.jsxs(ht.div,{className:"space-y-4",children:[Br.jsx("p",{className:"text-white/80 text-lg",children:"¿Necesita un servicio específico que no aparece en la lista?"}),Br.jsx(ht.button,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-full font-semibold text-lg shadow-xl hover:shadow-2xl transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Consultar Servicios Personalizados"})]})})]}),Br.jsx(Va,{fromSection:"testimonials",toSection:"contact",type:"minimal"})]})},Fb=()=>{const[e,t]=ze.useState(0),[r,s]=ze.useState(null),a=[{number:"01",title:"Contacto Inicial",subtitle:"Primer acercamiento",description:"Nos ponemos en contacto para entender sus necesidades específicas y objetivos organizacionales.",details:"Durante esta fase inicial, realizamos una conversación detallada para comprender el contexto de su empresa, los desafíos actuales y las metas que desea alcanzar. Esto nos permite diseñar una propuesta personalizada.",icon:"📞",color:"from-blue-500 to-cyan-500",duration:"1-2 días"},{number:"02",title:"Diagnóstico",subtitle:"Evaluación detallada",description:"Realizamos un análisis profundo de la situación actual de su organización para identificar oportunidades de mejora.",details:"Nuestro equipo de expertos realiza un diagnóstico integral que incluye revisión de procesos, evaluación de sistemas existentes, análisis de documentación y entrevistas con personal clave.",icon:"🔍",color:"from-purple-500 to-pink-500",duration:"3-5 días"},{number:"03",title:"Propuesta Técnica",subtitle:"Solución personalizada",description:"Desarrollamos una propuesta técnica detallada con metodología, cronograma y recursos necesarios.",details:"Elaboramos un documento completo que incluye la metodología a aplicar, cronograma detallado, recursos humanos y técnicos requeridos, entregables específicos y criterios de éxito.",icon:"📋",color:"from-green-500 to-teal-500",duration:"2-3 días"},{number:"04",title:"Cotización",subtitle:"Propuesta económica",description:"Presentamos una cotización transparente y competitiva basada en el alcance del proyecto.",details:"La cotización incluye desglose detallado de costos, modalidades de pago flexibles, garantías del servicio y condiciones comerciales claras y transparentes.",icon:"💰",color:"from-orange-500 to-red-500",duration:"1 día"},{number:"05",title:"Inicio del Proyecto",subtitle:"Implementación",description:"Una vez aprobada la propuesta, iniciamos la implementación según el cronograma acordado.",details:"Comenzamos la ejecución del proyecto con un kickoff meeting, asignación del equipo de trabajo, establecimiento de canales de comunicación y seguimiento de hitos clave.",icon:"🚀",color:"from-indigo-500 to-purple-500",duration:"Variable"}];return Br.jsxs("section",{className:"relative section-unified-bg section-contact-bg py-20 overflow-hidden",children:[Br.jsx(Rb,{variant:"contact"}),Br.jsxs("div",{className:"content-overlay container mx-auto px-6 relative z-10",children:[Br.jsxs(ht.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[Br.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-full px-6 py-2 mb-6 border border-white/20",children:[Br.jsx("span",{className:"text-2xl",children:"📋"}),Br.jsx("span",{className:"text-white/90 font-medium",children:"Proceso Simplificado"})]}),Br.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["¿Cómo"," ",Br.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"cotizamos?"})]}),Br.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Un proceso transparente y eficiente en 5 pasos para brindarle la mejor propuesta"})]}),Br.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start max-w-7xl mx-auto",children:[Br.jsxs("div",{className:"relative",children:[Br.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-1 bg-gradient-to-b from-blue-500 via-purple-500 to-pink-500 rounded-full opacity-30"}),Br.jsx("div",{className:"space-y-8",children:a.map((a,n)=>Br.jsxs(ht.div,{className:"relative cursor-pointer transition-all duration-300 "+(e===n?"scale-105":""),onClick:()=>t(n),onMouseEnter:()=>s(n),onMouseLeave:()=>s(null),initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.1*n},children:[Br.jsx("div",{className:`absolute left-0 w-16 h-16 rounded-full bg-gradient-to-r ${a.color} flex items-center justify-center shadow-xl border-4 ${e===n?"border-white scale-110":"border-white/30"} transition-all duration-300`,children:Br.jsx("span",{className:"text-2xl",children:a.icon})}),Br.jsxs("div",{className:"ml-24 bg-white/10 backdrop-blur-sm rounded-xl p-6 border transition-all duration-300 "+(e===n?"border-white/30 bg-white/15":r===n?"border-white/25 bg-white/12":"border-white/20"),children:[Br.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[Br.jsx("span",{className:`text-2xl font-bold bg-gradient-to-r ${a.color} bg-clip-text text-transparent`,children:a.number}),Br.jsxs("div",{children:[Br.jsx("h3",{className:"text-xl font-bold text-white",children:a.title}),Br.jsx("p",{className:"text-white/60 text-sm",children:a.subtitle})]}),Br.jsx("div",{className:"ml-auto",children:Br.jsx("span",{className:"text-xs text-white/50 bg-white/10 px-2 py-1 rounded-full",children:a.duration})})]}),Br.jsx("p",{className:"text-white/80 leading-relaxed",children:a.description}),Br.jsxs("div",{className:"mt-4 flex items-center gap-2 text-white/60 text-sm",children:[Br.jsx("span",{children:"Ver detalles"}),Br.jsx(ht.span,{animate:{rotate:e===n?180:0},transition:{duration:.2},children:"↓"})]})]})]},n))})]}),Br.jsxs("div",{className:"sticky top-8",children:[Br.jsx(ft,{mode:"wait",children:Br.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[Br.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[Br.jsx("div",{className:`w-20 h-20 rounded-xl bg-gradient-to-r ${a[e].color} flex items-center justify-center text-3xl shadow-lg`,children:a[e].icon}),Br.jsxs("div",{children:[Br.jsx("h3",{className:"text-3xl font-bold text-white",children:a[e].title}),Br.jsx("p",{className:"text-white/70 text-lg",children:a[e].subtitle}),Br.jsxs("p",{className:"text-white/50 text-sm",children:["Duración: ",a[e].duration]})]})]}),Br.jsxs("div",{className:"space-y-4",children:[Br.jsx("h4",{className:"text-lg font-semibold text-white",children:"¿Qué incluye este paso?"}),Br.jsx("p",{className:"text-white/80 leading-relaxed",children:a[e].details})]}),Br.jsxs("div",{className:"mt-8",children:[Br.jsxs("div",{className:"flex justify-between text-sm text-white/60 mb-2",children:[Br.jsx("span",{children:"Progreso del proceso"}),Br.jsxs("span",{children:[Math.round((e+1)/a.length*100),"%"]})]}),Br.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:Br.jsx(ht.div,{className:`h-2 rounded-full bg-gradient-to-r ${a[e].color}`,initial:{width:0},animate:{width:(e+1)/a.length*100+"%"},transition:{duration:.5}})})]})]},e)}),Br.jsxs("div",{className:"flex gap-4 mt-6",children:[Br.jsx(ht.button,{onClick:()=>t(Math.max(0,e-1)),disabled:0===e,className:"flex-1 py-3 px-4 rounded-lg bg-white/10 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/20 transition-all duration-300",whileHover:{scale:e>0?1.02:1},whileTap:{scale:.98},children:"← Anterior"}),Br.jsx(ht.button,{onClick:()=>t(Math.min(a.length-1,e+1)),disabled:e===a.length-1,className:"flex-1 py-3 px-4 rounded-lg bg-white/10 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/20 transition-all duration-300",whileHover:{scale:e<a.length-1?1.02:1},whileTap:{scale:.98},children:"Siguiente →"})]})]})]}),Br.jsxs(ht.div,{className:"mt-20",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.3},children:[Br.jsx("h3",{className:"text-2xl font-bold text-white text-center mb-8",children:"¿Por qué elegirnos?"}),Br.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:[{icon:"⚡",text:"Respuesta rápida",detail:"Menos de 24 horas"},{icon:"🎯",text:"Soluciones personalizadas",detail:"Adaptadas a su realidad"},{icon:"💎",text:"Calidad garantizada",detail:"Estándares internacionales"},{icon:"🤝",text:"Acompañamiento integral",detail:"Durante todo el proceso"}].map((e,t)=>Br.jsxs(ht.div,{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 text-center border border-white/20 hover:border-white/30 transition-all duration-300",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t},whileHover:{scale:1.05,y:-5},children:[Br.jsx("div",{className:"text-4xl mb-3",children:e.icon}),Br.jsx("h4",{className:"text-white font-semibold mb-2",children:e.text}),Br.jsx("p",{className:"text-white/70 text-sm",children:e.detail})]},t))})]}),Br.jsx(ht.div,{className:"text-center mt-16",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.5},children:Br.jsxs(ht.div,{className:"space-y-6",children:[Br.jsx("h3",{className:"text-2xl font-bold text-white",children:"¿Listo para comenzar?"}),Br.jsx("p",{className:"text-white/80 text-lg max-w-2xl mx-auto",children:"Contáctenos hoy mismo y reciba una cotización personalizada sin compromiso"}),Br.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Br.jsx(ht.button,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-full font-semibold text-lg shadow-xl hover:shadow-2xl transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Solicitar Cotización"}),Br.jsx(ht.button,{className:"border-2 border-white/30 hover:border-white/50 text-white px-8 py-4 rounded-full font-semibold text-lg hover:bg-white/10 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Agendar Reunión"})]})]})})]})]})};function Bb(){return ze.useEffect(()=>{window.scrollTo(0,0),document.title="Consultorías | Stegmaier Consulting"},[]),Br.jsxs(Br.Fragment,{children:[Br.jsx(Pb,{}),Br.jsx($b,{}),Br.jsx(zb,{}),Br.jsx(qb,{}),Br.jsx(Fb,{})]})}const Wb=new class{getStudentCourses(e=1,t=10){return Ae(this,null,function*(){var r,s;try{return(yield Oo.get(Go(`${Ro}/student`),{headers:Qo(),params:{page:e,limit:t}})).data}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al obtener cursos")}})}getAvailableCourses(e=1,t=10){return Ae(this,null,function*(){var r,s;try{const r=Go(zo);return(yield Oo.get(r,{headers:Ce(ke({},Qo()),{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}),params:{page:e,limit:t}})).data}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al obtener cursos disponibles")}})}enrollInCourse(e){return Ae(this,null,function*(){var t,r;try{yield Oo.post(Go(`${Ro}/${e}/enroll`),{},{headers:Qo()})}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al crear curso")}})}getCourseDetail(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Ro}/${e}`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener detalles del curso")}})}getCourseWithLessons(e){return Ae(this,null,function*(){var t,r,s;try{const[r,s]=yield Promise.all([this.getCourseDetail(e),this.getCourseLessons(e)]),a=Ce(ke({},r),{instructor:{id:r.instructor_id,name:"Instructor",avatar:void 0,bio:void 0},stats:{enrollments_count:r.total_students,lessons_count:s.length,reviews_count:0}}),n=s.map(e=>{var t;return{id:e.id,title:e.title,order:e.order,content_type:e.content_type,duration:e.duration,is_free_preview:e.is_free_preview,has_access:e.is_free_preview||"active"===(null==(t=a.user_enrollment)?void 0:t.status)||!1,is_completed:!1}}),i={can_view_detail:!0,is_enrolled:!!a.user_enrollment,can_enroll:!a.user_enrollment&&a.is_published,enrollment_status:null==(t=a.user_enrollment)?void 0:t.status,access_type:a.user_enrollment?"premium":"free",restrictions:[]};return{course:a,lessons:n,user_access:i}}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al obtener datos completos del curso")}})}checkCourseAvailability(e){return Ae(this,null,function*(){var t;try{const t=yield this.getCourseDetail(e);return{exists:!0,published:t.is_published,accessible:t.is_published||!1}}catch(r){if(404===(null==(t=r.response)?void 0:t.status))return{exists:!1,published:!1,accessible:!1};throw r}})}getCourseLessons(e){return Ae(this,null,function*(){try{return(yield Oo.get(Go(`${$o}/course/${e}`),{headers:Qo()})).data||[]}catch(t){return[]}})}getCourse(e){return Ae(this,null,function*(){var t;try{const t=(yield Oo.get(Go(`${Ro}/${e}`),{headers:Qo()})).data;return t&&!Array.isArray(t.lessons)&&(t.lessons=[]),t}catch(r){if(404===(null==(t=r.response)?void 0:t.status))return null;throw r}})}},Vb=[{value:"occupational_safety",label:"Seguridad Ocupacional",description:"Prevención de accidentes y riesgos en el lugar de trabajo",group:"Prevención de Riesgos"},{value:"industrial_hygiene",label:"Higiene Industrial",description:"Control de factores ambientales que afectan la salud",group:"Prevención de Riesgos"},{value:"emergency_management",label:"Gestión de Emergencias",description:"Planes de respuesta y manejo de situaciones críticas",group:"Prevención de Riesgos"},{value:"risk_assessment",label:"Evaluación de Riesgos",description:"Identificación y análisis de riesgos laborales",group:"Prevención de Riesgos"},{value:"work_safety",label:"Seguridad en el Trabajo",description:"Prácticas seguras y protocolos de trabajo",group:"Prevención de Riesgos"},{value:"iso_9001",label:"ISO 9001 - Gestión de Calidad",description:"Sistemas de gestión de calidad y mejora continua",group:"Normas ISO"},{value:"iso_14001",label:"ISO 14001 - Gestión Ambiental",description:"Sistemas de gestión ambiental y sostenibilidad",group:"Normas ISO"},{value:"iso_45001",label:"ISO 45001 - Seguridad y Salud Ocupacional",description:"Sistemas de gestión de seguridad y salud en el trabajo",group:"Normas ISO"},{value:"iso_27001",label:"ISO 27001 - Seguridad de la Información",description:"Sistemas de gestión de seguridad de la información",group:"Normas ISO"},{value:"iso_50001",label:"ISO 50001 - Gestión de Energía",description:"Sistemas de gestión energética y eficiencia",group:"Normas ISO"},{value:"regulatory_compliance",label:"Cumplimiento Normativo",description:"Regulaciones y normativas legales aplicables",group:"Categorías Generales"},{value:"safety_training",label:"Capacitación en Seguridad",description:"Entrenamiento y formación en seguridad laboral",group:"Categorías Generales"},{value:"other",label:"Otros",description:"Otros temas relacionados",group:"Categorías Generales"}],Ub=()=>Vb.reduce((e,t)=>(e[t.group]||(e[t.group]=[]),e[t.group].push(t),e),{}),Hb=e=>{const t=Vb.find(t=>t.value===e);return(null==t?void 0:t.label)||e},Gb=()=>{const{user:e}=al(),[t,r]=ze.useState([]),[s,a]=ze.useState(!0),[n,i]=ze.useState(null),[o,l]=ze.useState("all"),[c,d]=ze.useState("all"),u=()=>Ae(null,null,function*(){try{a(!0),i(null);let e="/api/v1/admin/courses";const t=new URLSearchParams;"all"!==o&&t.append("is_published","published"===o?"true":"false"),"all"!==c&&t.append("category",c),t.toString()&&(e+=`?${t.toString()}`);const s=yield fetch(e,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}});if(s.ok){const e=yield s.json();r(e)}else{const e=(yield s.json().catch(()=>({}))).detail||`Error ${s.status}: ${s.statusText}`;i(e)}}catch(Kw){const t=Kw.message||"Error de conexión al servidor. Verifica tu conexión a internet.";i(t)}finally{a(!1)}}),m=()=>{u()};ze.useEffect(()=>{u()},[o,c]);return s?Br.jsx("div",{className:"text-center py-8",children:"Cargando cursos..."}):n?Br.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:Br.jsxs("div",{className:"flex",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:Br.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),Br.jsxs("div",{className:"ml-3",children:[Br.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error al cargar cursos"}),Br.jsx("div",{className:"mt-2 text-sm text-red-700",children:Br.jsx("p",{children:n})}),Br.jsx("div",{className:"mt-4",children:Br.jsx("button",{type:"button",className:"bg-red-100 px-2 py-1 text-sm font-medium text-red-800 hover:bg-red-200 border border-transparent rounded",onClick:m,disabled:s,children:s?"Cargando...":"Reintentar"})})]})]})}):Br.jsxs("div",{children:[Br.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Br.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Cursos"}),Br.jsx(qe,{to:"/platform/admin/courses/new",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium",children:"+ Nuevo Curso"})]}),Br.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:Br.jsxs("div",{className:"flex flex-wrap gap-4",children:[Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),Br.jsxs("select",{value:o,onChange:e=>l(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2",children:[Br.jsx("option",{value:"all",children:"Todos"}),Br.jsx("option",{value:"published",children:"Publicados"}),Br.jsx("option",{value:"draft",children:"Borradores"})]})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoría"}),Br.jsxs("select",{value:c,onChange:e=>d(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2",children:[Br.jsx("option",{value:"all",children:"Todas"}),Vb.map(e=>({value:e.value,label:e.label})).map(e=>Br.jsx("option",{value:e.value,children:e.label},e.value))]})]})]})}),Br.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[Br.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[Br.jsx("thead",{className:"bg-gray-50",children:Br.jsxs("tr",{children:[Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Curso"}),Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lecciones"}),Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estudiantes"}),Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),Br.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),Br.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>Br.jsxs("tr",{className:"hover:bg-gray-50",children:[Br.jsx("td",{className:"px-6 py-4",children:Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.title}),Br.jsxs("div",{className:"text-sm text-gray-500",children:[Hb(e.category)," • ",e.level]})]})}),Br.jsx("td",{className:"px-6 py-4",children:Br.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+(e.is_published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status_label})}),Br.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.lessons_count}),Br.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.enrollments_count}),Br.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.price?`$${e.price}`:"Sin precio"}),Br.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:Br.jsxs("div",{className:"flex justify-end gap-2",children:[Br.jsx(qe,{to:`/platform/admin/courses/${e.id}/lessons`,className:"text-purple-600 hover:text-purple-900",children:"Lecciones"}),Br.jsx(qe,{to:`/platform/admin/courses/${e.id}/edit`,className:"text-indigo-600 hover:text-indigo-900",children:"Editar"}),Br.jsx("button",{onClick:()=>{return t=e.id,Ae(null,null,function*(){try{const e=yield fetch(`/api/v1/admin/courses/${t}/publish`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}});if(e.ok){const t=yield e.json();alert(t.message),u()}else{const t=yield e.json();alert(`Error: ${t.detail}`)}}catch(Kw){alert("Error de conexión")}});var t},className:""+(e.is_published?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900"),children:e.is_published?"Despublicar":"Publicar"}),Br.jsx("button",{onClick:()=>{return t=e.id,r=e.title,Ae(null,null,function*(){if(confirm(`¿Estás seguro de que quieres eliminar el curso "${r}"?`))try{const e=yield fetch(`/api/v1/admin/courses/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}});if(e.ok)alert("Curso eliminado exitosamente"),u();else{const t=yield e.json();alert(`Error: ${t.detail}`)}}catch(Kw){alert("Error de conexión")}});var t,r},className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})})]},e.id))})]}),0===t.length&&Br.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay cursos disponibles"})]})]})};const Qb=new class{enrollInCourse(e){return Ae(this,null,function*(){var t,r;try{const t={course_id:e};return(yield Oo.post(Go(`${qo}/`),t,{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al inscribirse en el curso")}})}getUserEnrolledCourses(e){return Ae(this,null,function*(){var t,r;try{const t={};e&&(t.status=e);const r=(yield Oo.get(Go(`${qo}/`),{headers:Qo(),params:t})).data;return yield Promise.all(r.map(e=>Ae(null,null,function*(){try{const t=yield Oo.get(Go(`${Ro}/${e.course_id}`),{headers:Qo()});return{course:{id:t.data.id,title:t.data.title,description:t.data.description||"",instructor_id:t.data.instructor_id,instructor_name:t.data.instructor_name,level:t.data.level,category:t.data.category,is_published:t.data.is_published,lessons_count:t.data.lessons_count,enrollments_count:t.data.enrollments_count,created_at:t.data.created_at,updated_at:t.data.updated_at},enrollment:{id:e.id,user_id:e.user_id,course_id:e.course_id,status:e.status,progress:e.progress,completed_lessons:e.completed_lessons,enrollment_date:e.enrollment_date,expiry_date:e.expiry_date,last_accessed:(null==e?void 0:e.last_accessed)||null,certificate_issued:e.certificate_issued,certificate_url:e.certificate_url,user_role:e.user_role||"student",enrolled_at:e.enrollment_date}}}catch(t){return{course:{id:e.course_id,title:"Curso no disponible",description:"Error al cargar información del curso",instructor_id:"",level:"unknown",category:"unknown",is_published:!1,lessons_count:0,enrollments_count:0,created_at:"",updated_at:""},enrollment:{id:e.id,user_id:e.user_id,course_id:e.course_id,status:e.status,progress:e.progress,completed_lessons:e.completed_lessons,enrollment_date:e.enrollment_date,expiry_date:e.expiry_date,last_accessed:(null==e?void 0:e.last_accessed)||null,certificate_issued:e.certificate_issued,certificate_url:e.certificate_url,user_role:e.user_role||"student",enrolled_at:e.enrollment_date}}}})))}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener cursos inscritos")}})}getEnrollmentStatus(e){return Ae(this,null,function*(){try{const t=(yield this.getUserEnrolledCourses()).find(t=>t.course.id===e);return{course_id:e,is_enrolled:!!t,enrollment:null==t?void 0:t.enrollment,can_enroll:!t,enrollment_restrictions:t?["Ya está inscrito en este curso"]:[]}}catch(t){return{course_id:e,is_enrolled:!1,can_enroll:!0,enrollment_restrictions:[]}}})}unenrollFromCourse(e){return Ae(this,null,function*(){var t,r;try{yield Oo.delete(Go(`${qo}/${e}/`),{headers:Qo()})}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al desinscribirse del curso")}})}getEnrollmentProgress(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${qo}/${e}/progress/`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener progreso de inscripción")}})}markLessonCompleted(e,t){return Ae(this,null,function*(){var r,s;try{const r={lesson_id:t,completed:!0};yield Oo.put(Go(`${qo}/${e}/complete-lesson/`),r,{headers:Qo()})}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al marcar lección como completada")}})}issueCertificate(e){return Ae(this,null,function*(){var t,r;try{yield Oo.put(Go(`${qo}/${e}/issue-certificate/`),{},{headers:Qo()})}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al emitir certificado")}})}getCourseEnrollmentStats(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${qo}/course/${e}/stats`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener estadísticas de inscripciones")}})}getCourseEnrollments(e,t){return Ae(this,null,function*(){var r,s;try{const r={};t&&(r.status=t);return(yield Oo.get(Go(`${qo}/course/${e}`),{headers:Qo(),params:r})).data}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al obtener inscripciones del curso")}})}},Xb=({courseId:e,courseName:t="este curso",onEnrollmentChange:r,onNavigateToCourse:s,className:a="",disabled:n=!1})=>{var i;const[o,l]=ze.useState(null),[c,d]=ze.useState(!0),[u,m]=ze.useState(!1);ze.useEffect(()=>{h()},[e]);const h=()=>Ae(null,null,function*(){try{d(!0);const t=yield Qb.getEnrollmentStatus(e);l(t)}catch(t){l({course_id:e,is_enrolled:!1,can_enroll:!0,enrollment_restrictions:[]})}finally{d(!1)}}),x=()=>Ae(null,null,function*(){if((null==o?void 0:o.can_enroll)&&!u)try{m(!0),yield Qb.enrollInCourse(e),l(e=>e?Ce(ke({},e),{is_enrolled:!0,can_enroll:!1,enrollment_restrictions:["Ya está inscrito en este curso"]}):null),null==r||r(!0)}catch(s){alert(`Error al inscribirse en ${t}: ${s.message}`)}finally{m(!1)}}),p=()=>{s&&s(e)};if(c)return Br.jsx("button",{disabled:!0,className:`w-full bg-gray-400 text-white py-2 px-4 rounded-md font-medium ${a}`,children:Br.jsxs("div",{className:"flex items-center justify-center",children:[Br.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Verificando..."]})});if(!o)return Br.jsx("button",{disabled:!0,className:`w-full bg-red-500 text-white py-2 px-4 rounded-md font-medium ${a}`,children:"Error al cargar"});if(o.is_enrolled){const e=o.enrollment,t=(null==e?void 0:e.progress)||0;return Br.jsx("button",{onClick:p,disabled:n,className:`w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 transition-colors font-medium ${a} ${n?"opacity-50 cursor-not-allowed":""}`,children:t>0?`Continuar (${Math.round(t)}%)`:"Comenzar"})}return o.can_enroll?Br.jsx("button",{onClick:x,disabled:n||u,className:`w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors font-medium ${a} ${n||u?"opacity-50 cursor-not-allowed":""}`,children:u?Br.jsxs("div",{className:"flex items-center justify-center",children:[Br.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Inscribiendo..."]}):"Inscribirse"}):Br.jsx("button",{disabled:!0,className:`w-full bg-gray-400 text-white py-2 px-4 rounded-md font-medium cursor-not-allowed ${a}`,title:(null==(i=o.enrollment_restrictions)?void 0:i.join(", "))||"No disponible",children:"No disponible"})},Kb=()=>{const{user:e}=al(),t=He();if("admin"===(null==e?void 0:e.role))return Br.jsx(Gb,{});const[r,s]=ze.useState([]),[a,n]=ze.useState(!0),[i,o]=ze.useState(null),[l,c]=ze.useState(""),[d,u]=ze.useState("all");ze.useEffect(()=>{Ae(null,null,function*(){try{n(!0),o(null);const e=yield Wb.getAvailableCourses(),t=Array.isArray(e)?e:e.courses||[];t.length,s(t)}catch(Kw){o(Kw.message||"Error al cargar los cursos"),s([])}finally{n(!1)}})},[]);const m=e=>{t(`/platform/courses/${e}/view`)},h=(Array.isArray(r)?r:[]).filter(e=>{const t=e.title.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase()),r="all"===d||e.category===d;return t&&r});return a?Br.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:Br.jsx(og,{size:"lg"})}):i?Br.jsx("div",{className:"text-center py-12",children:Br.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[Br.jsx("svg",{className:"mx-auto h-12 w-12 text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Br.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error al cargar cursos"}),Br.jsx("p",{className:"text-red-600 mb-4",children:i}),Br.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Reintentar"})]})}):0===h.length&&0===r.length?Br.jsxs("div",{className:"space-y-6 pb-10",children:[Br.jsxs("header",{className:"bg-gradient-to-r from-primary-700 to-primary-800 text-white rounded-xl shadow-md p-6 mb-6",children:[Br.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Catálogo de Cursos"}),Br.jsx("p",{className:"text-primary-100",children:"Explora nuestra selección de cursos especializados en consultoría y gestión empresarial"})]}),Br.jsx("div",{className:"text-center py-12",children:Br.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 max-w-md mx-auto",children:[Br.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),Br.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay cursos disponibles"}),Br.jsx("p",{className:"text-gray-600 mb-4",children:"Aún no hay cursos publicados en la plataforma. El administrador debe subir contenido para que puedas comenzar a aprender."}),Br.jsxs("div",{className:"text-sm text-gray-500",children:[Br.jsx("p",{children:"Mientras tanto, puedes:"}),Br.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[Br.jsx("li",{children:"Completar tu perfil"}),Br.jsx("li",{children:"Explorar la configuración de la plataforma"}),Br.jsx("li",{children:"Contactar con soporte si necesitas ayuda"})]})]})]})})]}):Br.jsxs("div",{className:"space-y-6 pb-10",children:[Br.jsxs("header",{className:"bg-gradient-to-r from-primary-700 to-primary-800 text-white rounded-xl shadow-md p-6 mb-6",children:[Br.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Catálogo de Cursos"}),Br.jsx("p",{className:"text-primary-100",children:"Explora nuestra selección de cursos especializados en consultoría y gestión empresarial"})]}),Br.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:Br.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[Br.jsxs("div",{className:"flex-grow",children:[Br.jsx("label",{htmlFor:"search",className:"sr-only",children:"Buscar cursos"}),Br.jsxs("div",{className:"relative rounded-md shadow-sm",children:[Br.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Br.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),Br.jsx("input",{type:"search",name:"search",id:"search",className:"focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Buscar cursos...",value:l,onChange:e=>c(e.target.value)})]})]}),Br.jsxs("div",{className:"flex-shrink-0",children:[Br.jsx("label",{htmlFor:"category",className:"sr-only",children:"Filtrar por categoría"}),Br.jsxs("select",{id:"category",name:"category",className:"focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:d,onChange:e=>u(e.target.value),children:[Br.jsx("option",{value:"all",children:"Todas las categorías"}),Br.jsx("option",{value:"consulting",children:"Consultoría"}),Br.jsx("option",{value:"management",children:"Gestión"}),Br.jsx("option",{value:"operations",children:"Operaciones"}),Br.jsx("option",{value:"safety_training",children:"Prevención de Riesgos"})]})]})]})}),0===h.length?Br.jsx("div",{className:"text-center py-8",children:Br.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 max-w-md mx-auto",children:[Br.jsx("svg",{className:"mx-auto h-12 w-12 text-yellow-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.291-1.007-5.691-2.709M12 15l2-9m5 9a9 9 0 11-18 0 9 9 0 0118 0z"})}),Br.jsx("h3",{className:"text-lg font-medium text-yellow-800 mb-2",children:"No se encontraron cursos"}),Br.jsx("p",{className:"text-yellow-700 mb-4",children:"No hay cursos que coincidan con tu búsqueda. Intenta con diferentes términos o filtros."}),Br.jsx("button",{onClick:()=>{c(""),u("all")},className:"bg-yellow-600 text-white px-4 py-2 rounded-md hover:bg-yellow-700 transition-colors",children:"Limpiar filtros"})]})}):Br.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(e=>Br.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-200",children:Br.jsxs("div",{className:"p-6",children:[Br.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),Br.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.description}),Br.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[Br.jsxs("span",{children:[(()=>{let t=0;return t=void 0!==e.lessons_count&&null!==e.lessons_count?e.lessons_count:Array.isArray(e.lessons)?e.lessons.length:0,t})()," lecciones"]}),Br.jsxs("span",{children:[e.total_duration||(Array.isArray(e.lessons)?e.lessons.reduce((e,t)=>e+(t.duration||0),0):e.duration)||0," min"]})]}),void 0!==e.progress&&Br.jsxs("div",{className:"mb-4",children:[Br.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[Br.jsx("span",{children:"Progreso"}),Br.jsxs("span",{children:[e.progress,"%"]})]}),Br.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:Br.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.progress}%`}})})]}),Br.jsx(Xb,{courseId:e.id,courseName:e.title,onEnrollmentChange:e=>{},onNavigateToCourse:m})]})},e.id))})]})},Yb=()=>{var e;const[t,r]=ze.useState(""),[s,a]=ze.useState("todos"),n=[{id:"todos",name:"Todos los cursos"},{id:"estrategia",name:"Estrategia"},{id:"procesos",name:"Procesos"},{id:"operaciones",name:"Operaciones"},{id:"liderazgo",name:"Liderazgo"}],i=[{id:1,title:"Introducción a la consultoría estratégica",description:"Fundamentos y metodologías básicas para la consultoría estratégica empresarial.",image:"/assets/images/courses/course1.jpg",lessons:12,duration:"6 horas",level:"Principiante",category:"estrategia",featured:!0,progress:65},{id:2,title:"Análisis de procesos empresariales",description:"Herramientas y técnicas para analizar, documentar y mejorar procesos empresariales.",image:"/assets/images/courses/course2.jpg",lessons:8,duration:"4 horas",level:"Intermedio",category:"procesos",featured:!1,progress:25},{id:3,title:"Optimización de operaciones",description:"Técnicas avanzadas para optimizar operaciones y reducir costos operativos.",image:"/assets/images/courses/course3.jpg",lessons:10,duration:"5 horas",level:"Avanzado",category:"operaciones",featured:!0,progress:0},{id:4,title:"Liderazgo efectivo en equipos de trabajo",description:"Desarrollo de habilidades de liderazgo para gestionar equipos de alto rendimiento.",image:"/assets/images/courses/course4.jpg",lessons:9,duration:"4.5 horas",level:"Intermedio",category:"liderazgo",featured:!1,progress:0},{id:5,title:"Gestión del cambio organizacional",description:"Estrategias para implementar y gestionar el cambio en organizaciones.",image:"/assets/images/courses/course5.jpg",lessons:7,duration:"3.5 horas",level:"Intermedio",category:"estrategia",featured:!1,progress:0},{id:6,title:"Análisis de datos para la toma de decisiones",description:"Uso de herramientas de análisis de datos para mejorar la toma de decisiones empresariales.",image:"/assets/images/courses/course6.jpg",lessons:11,duration:"5.5 horas",level:"Avanzado",category:"operaciones",featured:!1,progress:0}],o=(Array.isArray(i)?i:[]).filter(e=>{const r="todos"===s||e.category===s,a=e.title.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase());return r&&a}),l=(Array.isArray(i)?i:[]).filter(e=>e.featured);return Br.jsxs("div",{className:"space-y-6 pb-10",children:[Br.jsx("header",{children:Br.jsx("div",{className:"bg-primary-700 rounded-lg shadow-md p-6",children:Br.jsxs("div",{className:"content-overlay",children:[Br.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Nuestros cursos"}),Br.jsx("p",{className:"text-primary-100",children:"Explora nuestra biblioteca de cursos especializados en consultoría y optimización de procesos"})]})})}),Br.jsx("section",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:Br.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between space-y-3 md:space-y-0",children:[Br.jsx("div",{children:Br.jsx("div",{className:"flex overflow-x-auto space-x-2 pb-1",children:n.map(e=>Br.jsx("button",{onClick:()=>a(e.id),className:"px-4 py-2 rounded-md text-sm font-medium whitespace-nowrap transition-colors "+(s===e.id?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.name},e.id))})}),Br.jsx("div",{className:"w-full md:w-auto md:min-w-[240px]",children:Br.jsxs("div",{className:"relative",children:[Br.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Br.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Br.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),Br.jsx("input",{type:"text",name:"search",placeholder:"Buscar cursos",value:t,onChange:e=>r(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})})]})}),l.length>0&&"todos"===s&&!t&&Br.jsxs("section",{children:[Br.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Cursos destacados"}),Br.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.map(e=>Br.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-200",children:Br.jsxs("div",{className:"flex flex-col md:flex-row",children:[Br.jsxs("div",{className:"md:w-1/3 h-60 md:h-auto relative",children:[Br.jsx("img",{src:e.image||"/assets/images/course-placeholder.jpg",alt:e.title,className:"w-full h-full object-cover"}),Br.jsx("div",{className:"absolute top-0 right-0 mt-4 mr-4",children:Br.jsx("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:"Destacado"})})]}),Br.jsxs("div",{className:"p-6 md:w-2/3 flex flex-col",children:[Br.jsxs("div",{className:"flex-1",children:[Br.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.title}),Br.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),Br.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-y-2 text-sm",children:[Br.jsxs("div",{className:"flex items-center text-gray-500",children:[Br.jsx("svg",{className:"h-5 w-5 mr-1 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Br.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),e.level]}),Br.jsxs("div",{className:"flex items-center text-gray-500",children:[Br.jsx("svg",{className:"h-5 w-5 mr-1 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Br.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.duration]}),Br.jsxs("div",{className:"flex items-center text-gray-500",children:[Br.jsx("svg",{className:"h-5 w-5 mr-1 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Br.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})}),e.lessons," lecciones"]})]})]}),Br.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.progress>0?Br.jsxs("div",{className:"mb-4 sm:mb-0 sm:mr-4 flex-grow",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-1",children:[Br.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Progreso"}),Br.jsxs("div",{className:"text-xs font-medium text-primary-600",children:[e.progress,"%"]})]}),Br.jsx("div",{className:"overflow-hidden h-2 text-xs flex rounded bg-primary-100",children:Br.jsx("div",{style:{width:`${e.progress}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-primary-600"})})]}):Br.jsx("div",{}),Br.jsxs(qe,{to:`/platform/courses/${e.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[e.progress>0?"Continuar":"Comenzar"," curso"]})]})]})]})},e.id))})]}),Br.jsxs("section",{children:[Br.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"todos"!==s?null==(e=n.find(e=>e.id===s))?void 0:e.name:"Todos los cursos"}),o.length>0?Br.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(e=>Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col hover:shadow-md transition-shadow duration-200",children:[Br.jsxs("div",{className:"relative h-48",children:[Br.jsx("img",{src:e.image||"/assets/images/course-placeholder.jpg",alt:e.title,className:"w-full h-full object-cover"}),e.featured&&Br.jsx("div",{className:"absolute top-0 right-0 mt-2 mr-2",children:Br.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Destacado"})}),e.progress>0&&Br.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gray-900 bg-opacity-75 text-white text-xs font-medium px-2 py-1",children:["En progreso: ",e.progress,"%"]})]}),Br.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[Br.jsx("h3",{className:"font-bold text-lg mb-2",children:e.title}),Br.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-1",children:e.description}),Br.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-xs text-gray-500 mb-4",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("svg",{className:"h-4 w-4 mr-1 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Br.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),e.level]}),Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("svg",{className:"h-4 w-4 mr-1 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Br.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.duration]}),Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("svg",{className:"h-4 w-4 mr-1 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Br.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})}),e.lessons," lecciones"]})]}),Br.jsxs(qe,{to:`/platform/courses/${e.id}`,className:"text-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[e.progress>0?"Continuar":"Comenzar"," curso"]})]})]},e.id))}):Br.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[Br.jsx("svg",{className:"h-12 w-12 mx-auto text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Br.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No se encontraron cursos"}),Br.jsx("p",{className:"mt-1 text-gray-500",children:"Intenta con otra búsqueda o categoría."})]})]})]})},Jb=({course:e,userAccess:t,onEnroll:r,onStart:s,enrollmentLoading:a=!1})=>Br.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:Br.jsx("div",{className:"p-6 lg:p-8",children:Br.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[Br.jsx("div",{className:"lg:w-2/5",children:Br.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-100 rounded-lg overflow-hidden",children:e.cover_image?Br.jsx("img",{src:e.cover_image,alt:e.title,className:"w-full h-full object-cover"}):Br.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600",children:Br.jsx(nr,{className:"w-16 h-16 text-white"})})})}),Br.jsxs("div",{className:"lg:w-3/5 space-y-6",children:[Br.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[Br.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${(e=>{switch(e.toLowerCase()){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.level)}`,children:(e=>{switch(e.toLowerCase()){case"beginner":return"Principiante";case"intermediate":return"Intermedio";case"advanced":return"Avanzado";default:return e}})(e.level)}),Br.jsx("span",{className:"px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:e.category}),t.is_enrolled&&Br.jsxs("span",{className:"px-3 py-1 text-sm font-medium bg-green-100 text-green-800 rounded-full",children:[Br.jsx(Gt,{className:"w-4 h-4 inline mr-1"}),"Inscrito"]})]}),Br.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 leading-tight",children:e.title}),Br.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:e.description}),Br.jsxs("div",{className:"flex items-center space-x-3",children:[Br.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:e.instructor.avatar?Br.jsx("img",{src:e.instructor.avatar,alt:e.instructor.name,className:"w-full h-full rounded-full object-cover"}):Br.jsx("span",{className:"text-sm font-medium text-gray-600",children:e.instructor.name.charAt(0)})}),Br.jsxs("div",{children:[Br.jsx("p",{className:"font-medium text-gray-900",children:e.instructor.name}),e.instructor.title&&Br.jsx("p",{className:"text-sm text-gray-500",children:e.instructor.title})]})]}),Br.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[Br.jsxs("div",{className:"text-center lg:text-left",children:[Br.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2",children:[Br.jsx(Ht,{className:"w-5 h-5 text-gray-400"}),Br.jsx("span",{className:"font-semibold text-gray-900",children:(e=>{if(e<60)return`${e} min`;const t=e%60;return`${Math.floor(e/60)}h ${t>0?`${t}m`:""}`})(e.total_duration)})]}),Br.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Duración"})]}),Br.jsxs("div",{className:"text-center lg:text-left",children:[Br.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2",children:[Br.jsx(nr,{className:"w-5 h-5 text-gray-400"}),Br.jsx("span",{className:"font-semibold text-gray-900",children:e.stats.lessons_count})]}),Br.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Lecciones"})]}),Br.jsxs("div",{className:"text-center lg:text-left",children:[Br.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2",children:[Br.jsx(It,{className:"w-5 h-5 text-gray-400"}),Br.jsx("span",{className:"font-semibold text-gray-900",children:e.stats.enrollments_count.toLocaleString()})]}),Br.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Estudiantes"})]}),Br.jsxs("div",{className:"text-center lg:text-left",children:[Br.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2",children:[Br.jsx(qt,{className:"w-5 h-5 text-yellow-400 fill-current"}),Br.jsx("span",{className:"font-semibold text-gray-900",children:e.average_rating.toFixed(1)})]}),Br.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["(",e.stats.reviews_count," reseñas)"]})]})]}),t.is_enrolled&&e.user_enrollment&&Br.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Br.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Progreso del curso"}),Br.jsxs("span",{className:"text-sm font-bold text-blue-900",children:[Math.round(e.user_enrollment.progress),"%"]})]}),Br.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:Br.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.user_enrollment.progress}%`}})})]}),Br.jsx("div",{className:"pt-2",children:t.is_enrolled?Br.jsxs("button",{onClick:s,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200",children:[Br.jsx(Nr,{className:"w-5 h-5 mr-2"}),"completed"===t.enrollment_status?"Revisar Curso":"Continuar Curso"]}):t.can_enroll&&r?Br.jsx("button",{onClick:r,disabled:a,className:"inline-flex items-center px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:a?Br.jsxs(Br.Fragment,{children:[Br.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Inscribiendo..."]}):Br.jsxs(Br.Fragment,{children:[Br.jsx(Gt,{className:"w-5 h-5 mr-2"}),"Inscribirse Gratis"]})}):Br.jsx("button",{disabled:!0,className:"inline-flex items-center px-6 py-3 bg-gray-400 text-white font-semibold rounded-lg cursor-not-allowed",children:"No Disponible"})}),t.restrictions.length>0&&Br.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:Br.jsxs("div",{className:"flex",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx(Lt,{className:"w-5 h-5 text-yellow-400"})}),Br.jsx("div",{className:"ml-3",children:Br.jsx("p",{className:"text-sm text-yellow-800",children:t.restrictions.join(". ")})})]})})]})]})})}),Zb=({course:e,lessons:t,userAccess:r,onLessonClick:s})=>{const[a,n]=ze.useState("overview"),i=e=>{if(e<60)return`${e} min`;const t=e%60;return`${Math.floor(e/60)}h ${t>0?`${t}m`:""}`},o=e=>{switch(e){case"video":return Br.jsx(Nr,{className:"w-5 h-5 text-blue-500"});case"text":return Br.jsx(nr,{className:"w-5 h-5 text-green-500"});case"quiz":return Br.jsx(Gt,{className:"w-5 h-5 text-purple-500"});default:return Br.jsx(nr,{className:"w-5 h-5 text-gray-500"})}},l=[{id:"overview",label:"Descripción",icon:nr},{id:"content",label:"Contenido",icon:St},{id:"instructor",label:"Instructor",icon:br}];return Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[Br.jsx("div",{className:"border-b border-gray-200",children:Br.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:l.map(({id:e,label:t,icon:r})=>Br.jsx("button",{onClick:()=>n(e),className:`\n                py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200\n                ${a===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}\n              `,children:Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsx(r,{className:"w-5 h-5"}),Br.jsx("span",{children:t})]})},e))})}),Br.jsxs("div",{className:"p-6",children:["overview"===a&&Br.jsxs("div",{className:"space-y-8",children:[Br.jsxs("div",{children:[Br.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[Br.jsx(nr,{className:"w-6 h-6 mr-2 text-blue-600"}),"Acerca de este curso"]}),Br.jsx("div",{className:"prose prose-gray max-w-none",children:Br.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:e.description})})]}),(null==(c=e.what_you_will_learn)?void 0:c.length)>0&&Br.jsxs("div",{children:[Br.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[Br.jsx(kr,{className:"w-6 h-6 mr-2 text-green-600"}),"Lo que aprenderás"]}),Br.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.what_you_will_learn.map((e,t)=>Br.jsxs("div",{className:"flex items-start space-x-3",children:[Br.jsx(Gt,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),Br.jsx("span",{className:"text-gray-700",children:e})]},t))})]}),(null==(d=e.requirements)?void 0:d.length)>0&&Br.jsxs("div",{children:[Br.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[Br.jsx(St,{className:"w-6 h-6 mr-2 text-orange-600"}),"Requisitos"]}),Br.jsx("ul",{className:"space-y-2",children:e.requirements.map((e,t)=>Br.jsxs("li",{className:"flex items-start space-x-3",children:[Br.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),Br.jsx("span",{className:"text-gray-700",children:e})]},t))})]}),(null==(u=e.tags)?void 0:u.length)>0&&Br.jsxs("div",{children:[Br.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Etiquetas"}),Br.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((e,t)=>Br.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:e},t))})]})]}),"content"===a&&Br.jsxs("div",{className:"space-y-6",children:[Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Contenido del curso (",t.length," lecciones)"]}),Br.jsxs("div",{className:"text-sm text-gray-500",children:["Duración total: ",i(e.total_duration)]})]}),Br.jsx("div",{className:"space-y-1",children:t.map((e,t)=>Br.jsx("div",{className:`\n              group border border-gray-200 rounded-lg p-4 transition-all duration-200\n              ${e.has_access?"hover:border-blue-300 hover:shadow-sm cursor-pointer":"bg-gray-50"}\n            `,onClick:()=>e.has_access&&(null==s?void 0:s(e.id)),children:Br.jsx("div",{className:"flex items-center justify-between",children:Br.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[Br.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-sm font-medium text-gray-600",children:t+1}),Br.jsx("div",{className:"flex-shrink-0",children:o(e.content_type)}),Br.jsxs("div",{className:"flex-1 min-w-0",children:[Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsx("h4",{className:`\n                      text-base font-medium truncate\n                      ${e.has_access?"text-gray-900":"text-gray-500"}\n                    `,children:e.title}),e.is_completed&&Br.jsx(Gt,{className:"w-5 h-5 text-green-500"}),!e.has_access&&Br.jsx(Cr,{className:"w-4 h-4 text-gray-400"}),e.is_free_preview&&Br.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded",children:"Gratis"})]}),e.description&&Br.jsx("p",{className:"text-sm text-gray-500 mt-1 truncate",children:e.description})]}),Br.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[Br.jsx(Ht,{className:"w-4 h-4"}),Br.jsx("span",{children:i(e.duration)})]})]})})},e.id))}),t.length>0&&!t.some(e=>e.has_access)&&!r.is_enrolled&&Br.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[Br.jsx(Cr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),Br.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Contenido exclusivo para estudiantes"}),Br.jsx("p",{className:"text-gray-600",children:"Inscríbete en el curso para acceder a todas las lecciones"})]})]}),"instructor"===a&&Br.jsxs("div",{className:"space-y-6",children:[Br.jsxs("div",{className:"flex items-start space-x-6",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded-full flex items-center justify-center",children:e.instructor.avatar?Br.jsx("img",{src:e.instructor.avatar,alt:e.instructor.name,className:"w-full h-full rounded-full object-cover"}):Br.jsx(br,{className:"w-10 h-10 text-gray-500"})})}),Br.jsxs("div",{className:"flex-1",children:[Br.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:e.instructor.name}),e.instructor.title&&Br.jsx("p",{className:"text-lg text-gray-600 mt-1",children:e.instructor.title}),Br.jsxs("div",{className:"flex items-center space-x-6 mt-4",children:[e.instructor.rating&&Br.jsxs("div",{className:"flex items-center space-x-1",children:[Br.jsx("div",{className:"flex",children:[...Array(5)].map((t,r)=>Br.jsx("div",{className:"w-4 h-4 "+(r<Math.floor(e.instructor.rating)?"text-yellow-400 fill-current":"text-gray-300"),children:"★"},r))}),Br.jsx("span",{className:"text-sm text-gray-600",children:e.instructor.rating.toFixed(1)})]}),e.instructor.total_courses&&Br.jsxs("div",{className:"text-sm text-gray-600",children:[e.instructor.total_courses," cursos"]}),e.instructor.total_students&&Br.jsxs("div",{className:"text-sm text-gray-600",children:[e.instructor.total_students.toLocaleString()," estudiantes"]})]})]})]}),e.instructor.bio&&Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Acerca del instructor"}),Br.jsx("div",{className:"prose prose-gray max-w-none",children:Br.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:e.instructor.bio})})]})]})]})]});var c,d,u},ev=()=>Br.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-pulse",children:[Br.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:Br.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[Br.jsx("div",{className:"lg:w-2/5",children:Br.jsx("div",{className:"w-full h-64 bg-gray-300 rounded-lg"})}),Br.jsxs("div",{className:"lg:w-3/5 space-y-4",children:[Br.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4"}),Br.jsxs("div",{className:"flex flex-wrap gap-4",children:[Br.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),Br.jsx("div",{className:"h-6 bg-gray-200 rounded w-24"}),Br.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})]}),Br.jsxs("div",{className:"space-y-2",children:[Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]}),Br.jsxs("div",{className:"flex gap-6",children:[Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"h-6 bg-gray-200 rounded w-12 mx-auto mb-1"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"h-6 bg-gray-200 rounded w-12 mx-auto mb-1"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"h-6 bg-gray-200 rounded w-12 mx-auto mb-1"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-14"})]})]}),Br.jsx("div",{className:"h-12 bg-gray-300 rounded-lg w-48"})]})]})}),Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8",children:[Br.jsx("div",{className:"border-b border-gray-200",children:Br.jsxs("nav",{className:"flex space-x-8 px-6",children:[Br.jsx("div",{className:"h-12 w-20 bg-gray-200 rounded-t my-2"}),Br.jsx("div",{className:"h-12 w-24 bg-gray-200 rounded-t my-2"}),Br.jsx("div",{className:"h-12 w-28 bg-gray-200 rounded-t my-2"})]})}),Br.jsx("div",{className:"p-6",children:Br.jsxs("div",{className:"space-y-6",children:[Br.jsxs("div",{children:[Br.jsx("div",{className:"h-6 bg-gray-300 rounded w-48 mb-4"}),Br.jsxs("div",{className:"space-y-2",children:[Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-11/12"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]}),Br.jsxs("div",{children:[Br.jsx("div",{className:"h-6 bg-gray-300 rounded w-56 mb-4"}),Br.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(e=>Br.jsxs("div",{className:"flex items-start space-x-3",children:[Br.jsx("div",{className:"h-5 w-5 bg-gray-200 rounded-full mt-0.5"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded flex-1"})]},e))})]}),Br.jsxs("div",{children:[Br.jsx("div",{className:"h-6 bg-gray-300 rounded w-44 mb-4"}),Br.jsx("div",{className:"space-y-3",children:[1,2].map(e=>Br.jsxs("div",{className:"flex items-start space-x-3",children:[Br.jsx("div",{className:"h-5 w-5 bg-gray-200 rounded-full mt-0.5"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded flex-1"})]},e))})]})]})})]}),Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[Br.jsx("div",{className:"p-6 border-b border-gray-200",children:Br.jsx("div",{className:"h-7 bg-gray-300 rounded w-40"})}),Br.jsx("div",{className:"divide-y divide-gray-200",children:[1,2,3,4,5].map(e=>Br.jsx("div",{className:"p-6",children:Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[Br.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded-full"}),Br.jsxs("div",{className:"flex-1",children:[Br.jsx("div",{className:"h-5 bg-gray-300 rounded w-3/4 mb-2"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]})},e))})]})]}),tv=({error:e,onRetry:t,showHomeButton:r=!0,showBackButton:s=!0,title:a,description:n})=>{const i=He(),o=e.toLowerCase().includes("404")||e.toLowerCase().includes("no encontrado")?{title:a||"Curso no encontrado",description:n||"El curso que buscas no existe o ha sido eliminado.",icon:Br.jsx(Nt,{className:"w-16 h-16 text-gray-400"})}:e.toLowerCase().includes("403")||e.toLowerCase().includes("permiso")?{title:a||"Acceso restringido",description:n||"No tienes permisos para ver este curso.",icon:Br.jsx(Nt,{className:"w-16 h-16 text-orange-400"})}:e.toLowerCase().includes("network")||e.toLowerCase().includes("conexión")?{title:a||"Error de conexión",description:n||"Verifica tu conexión a internet e inténtalo de nuevo.",icon:Br.jsx(Nt,{className:"w-16 h-16 text-red-400"})}:{title:a||"Error inesperado",description:n||"Ha ocurrido un error. Por favor, inténtalo de nuevo.",icon:Br.jsx(Nt,{className:"w-16 h-16 text-red-400"})};return Br.jsxs("div",{className:"max-w-md mx-auto text-center py-12 px-4",children:[Br.jsx("div",{className:"flex justify-center mb-6",children:o.icon}),Br.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:o.title}),Br.jsx("p",{className:"text-gray-600 mb-2",children:o.description}),Br.jsxs("p",{className:"text-sm text-gray-400 mb-8",children:["Error: ",e]}),Br.jsxs("div",{className:"space-y-3",children:[t&&Br.jsxs("button",{onClick:t,className:"w-full inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200",children:[Br.jsx(Xt,{className:"w-5 h-5 mr-2"}),"Reintentar"]}),Br.jsxs("div",{className:"flex space-x-3",children:[s&&Br.jsxs("button",{onClick:()=>i(-1),className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors duration-200",children:[Br.jsx(Sr,{className:"w-5 h-5 mr-2"}),"Volver"]}),r&&Br.jsxs("button",{onClick:()=>i("/platform"),className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors duration-200",children:[Br.jsx(Kt,{className:"w-5 h-5 mr-2"}),"Inicio"]})]})]}),e.toLowerCase().includes("404")&&Br.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[Br.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"¿No encuentras lo que buscas?"}),Br.jsx("div",{className:"space-y-2",children:Br.jsx("button",{onClick:()=>i("/platform/courses"),className:"block w-full text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Ver todos los cursos disponibles"})})]}),e.toLowerCase().includes("403")&&Br.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[Br.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"¿Necesitas acceso?"}),Br.jsxs("div",{className:"space-y-2",children:[Br.jsx("button",{onClick:()=>i("/login"),className:"block w-full text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Iniciar sesión"}),Br.jsx("button",{onClick:()=>i("/platform/courses"),className:"block w-full text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Ver cursos públicos"})]})]})]})},rv=()=>{var e;const{courseId:t}=Xe(),{user:r}=al(),s=He(),[a,n]=ze.useState(!1),{course:i,lessons:o,loading:l,error:c,refetch:d}=(({courseId:e,enabled:t=!0})=>{const[r,s]=ze.useState(null),[a,n]=ze.useState(!0),[i,o]=ze.useState(null),[l,c]=ze.useState(!1),d=ze.useCallback(()=>Ae(null,null,function*(){var r,a,i,l,c;if(e&&t)try{n(!0),o(null);const t=yield Wb.getCourseWithLessons(e);s(t)}catch(Kw){(null==(r=Kw.message)?void 0:r.includes("404"))||404===(null==(a=Kw.response)?void 0:a.status)?o("Curso no encontrado"):(null==(i=Kw.message)?void 0:i.includes("403"))||403===(null==(l=Kw.response)?void 0:l.status)?o("No tienes permisos para ver este curso"):(null==(c=Kw.message)?void 0:c.includes("Network Error"))?o("Error de conexión. Verifica tu internet."):o(Kw.message||"Error al cargar el curso")}finally{n(!1)}}),[e,t]),u=ze.useCallback(()=>Ae(null,null,function*(){yield d()}),[d]),m=ze.useCallback(()=>{o(null)},[]);ze.useEffect(()=>{t&&e&&d()},[d,e,t]);const h={course:(null==r?void 0:r.course)||null,lessons:(null==r?void 0:r.lessons)||[],loading:a,error:i,enrollment_loading:l};return Ce(ke({},h),{refetch:u,resetError:m})})({courseId:t,enabled:!!t});if(!t)return Br.jsx(tv,{error:"ID de curso no válido",title:"Curso no válido",description:"La URL del curso no es válida.",showBackButton:!1});if(l)return Br.jsx(ev,{});if(c||!i)return Br.jsx(tv,{error:c||"Curso no encontrado",onRetry:d,showHomeButton:!0,showBackButton:!0});const u={can_view_detail:!0,is_enrolled:!!i.user_enrollment,can_enroll:!i.user_enrollment&&i.is_published,enrollment_status:null==(e=i.user_enrollment)?void 0:e.status,access_type:i.user_enrollment?"premium":"free",restrictions:i.user_enrollment?[]:["Inscríbete para acceder al contenido completo"]};return Br.jsx("div",{className:"min-h-screen bg-gray-50",children:Br.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:Br.jsxs("div",{className:"space-y-8",children:[Br.jsx(Jb,{course:i,userAccess:u,onEnroll:()=>Ae(null,null,function*(){if(t&&r)try{n(!0),yield Qb.enrollInCourse(t),yield d()}catch(e){}finally{n(!1)}else s("/login")}),onStart:()=>{if(!t)return;const e=o.find(e=>e.has_access);e&&s(`/platform/courses/${t}/lessons/${e.id}`)},enrollmentLoading:a}),Br.jsx(Zb,{course:i,lessons:o,userAccess:u,onLessonClick:e=>{t&&s(`/platform/courses/${t}/lessons/${e}`)}})]})})})},sv=()=>{const{user:e}=al(),t=ze.useCallback(t=>Ae(null,null,function*(){if(e)try{const e=localStorage.getItem("auth_token");if(!e)return;const r=Go("/analytics/activity");yield fetch(r,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(r){}}),[e]),r=ze.useCallback((e,r)=>Ae(null,null,function*(){yield t({activity_type:"page_view",metadata:ke({page:e,timestamp:(new Date).toISOString()},r)})}),[t]),s=ze.useCallback((e,r,s)=>Ae(null,null,function*(){yield t({activity_type:"lesson_start",course_id:e,lesson_id:r,metadata:{lesson_title:s,timestamp:(new Date).toISOString()}})}),[t]),a=ze.useCallback((e,r,s,a)=>Ae(null,null,function*(){yield t({activity_type:"lesson_complete",course_id:e,lesson_id:r,metadata:{lesson_title:a,watch_time_seconds:s,timestamp:(new Date).toISOString()}})}),[t]),n=ze.useCallback((e,r)=>Ae(null,null,function*(){yield t({activity_type:"course_enrollment",course_id:e,metadata:{course_title:r,timestamp:(new Date).toISOString()}})}),[t]),i=ze.useCallback((e,r,s)=>Ae(null,null,function*(){yield t({activity_type:"course_complete",course_id:e,metadata:{course_title:r,total_watch_time_seconds:s,timestamp:(new Date).toISOString()}})}),[t]),o=ze.useCallback((e,r,s,a,n)=>Ae(null,null,function*(){yield t({activity_type:"video_progress",course_id:e,lesson_id:r,metadata:{progress_percentage:s,watch_time_seconds:a,total_duration_seconds:n,timestamp:(new Date).toISOString()}})}),[t]),l=ze.useCallback(()=>Ae(null,null,function*(){yield t({activity_type:"login",metadata:{timestamp:(new Date).toISOString(),user_agent:navigator.userAgent,ip_address:"client"}})}),[t]),c=ze.useCallback(()=>Ae(null,null,function*(){yield t({activity_type:"logout",metadata:{timestamp:(new Date).toISOString()}})}),[t]),d=ze.useCallback((e,r)=>Ae(null,null,function*(){yield t({activity_type:"search",metadata:{search_term:e,results_count:r,timestamp:(new Date).toISOString()}})}),[t]),u=ze.useCallback((e,r,s)=>Ae(null,null,function*(){yield t({activity_type:"download",metadata:{resource_type:e,resource_id:r,resource_name:s,timestamp:(new Date).toISOString()}})}),[t]),m=ze.useCallback((e,r,s)=>Ae(null,null,function*(){yield t({activity_type:"quiz_start",course_id:e,metadata:{quiz_id:r,quiz_title:s,timestamp:(new Date).toISOString()}})}),[t]),h=ze.useCallback((e,r,s,a,n)=>Ae(null,null,function*(){yield t({activity_type:"quiz_complete",course_id:e,metadata:{quiz_id:r,quiz_title:n,score:s,time_spent_seconds:a,timestamp:(new Date).toISOString()}})}),[t]),x=ze.useCallback((e,r,s)=>Ae(null,null,function*(){yield t({activity_type:"certificate_earned",course_id:e,metadata:{certificate_id:r,course_title:s,timestamp:(new Date).toISOString()}})}),[t]),p=ze.useCallback((e,r,s)=>Ae(null,null,function*(){yield t({activity_type:"error",metadata:{error_type:e,error_message:r,context:s,timestamp:(new Date).toISOString(),user_agent:navigator.userAgent,url:window.location.href}})}),[t]),g=ze.useCallback(e=>{const r=Date.now(),s=()=>{const s=Date.now()-r;t({activity_type:"time_on_page",metadata:{page:e,time_spent_seconds:Math.floor(s/1e3),timestamp:(new Date).toISOString()}})};return window.addEventListener("beforeunload",s),()=>{window.removeEventListener("beforeunload",s),s()}},[t]),f=ze.useCallback(t=>Ae(null,null,function*(){if(e&&0!==t.length)try{const e=localStorage.getItem("auth_token");if(!e)return;const r=Go("/analytics/activity/batch");yield fetch(r,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({events:t})})}catch(r){}}),[e]);return{trackActivity:t,trackPageView:r,trackLessonStart:s,trackLessonComplete:a,trackCourseEnrollment:n,trackCourseComplete:i,trackVideoProgress:o,trackLogin:l,trackLogout:c,trackSearch:d,trackDownload:u,trackQuizStart:m,trackQuizComplete:h,trackCertificateEarned:x,trackError:p,trackTimeOnPage:g,trackBatch:f}},av=({videoUrl:e,lessonId:t,videoId:r,title:s,onProgressUpdate:a,onLessonComplete:n,autoPlay:i=!1,className:o=""})=>{const{user:l}=al(),{trackLessonStart:c,trackVideoProgress:d,trackLessonComplete:u}=sv(),m=ze.useRef(null),h=ze.useRef(null),x=ze.useRef(!1),[p,g]=ze.useState(!0),[f,b]=ze.useState(null),[v,y]=ze.useState(!1),[j,w]=ze.useState(0),[N,k]=ze.useState(0),[C,S]=ze.useState(1),[E,_]=ze.useState(!1),[M,I]=ze.useState(1),[O,T]=ze.useState(!1),[L,A]=ze.useState({lesson_id:t,video_id:r,current_position:0,duration:0,watch_percentage:0,is_completed:!1,total_watch_time:0,sessions_count:0,last_watched:null,bookmarks:0,notes:0}),[D,P]=ze.useState([]),[R,z]=ze.useState([]),[$,q]=ze.useState(!1),[F,B]=ze.useState(!1),[W,V]=ze.useState(!1),[U,H]=ze.useState(""),[G,Q]=ze.useState(""),[X,K]=ze.useState(""),[Y,J]=ze.useState(0),[Z,ee]=ze.useState(Date.now()),[te,re]=ze.useState(0);ze.useEffect(()=>{se()},[t,r]),ze.useEffect(()=>{const e=m.current;if(!e)return;const a=()=>{k(e.duration),g(!1),L.current_position>0&&L.current_position<e.duration&&(e.currentTime=L.current_position,w(L.current_position))},n=()=>{const t=e.currentTime;w(t),ne(t,e.duration)},i=()=>{y(!0),ee(Date.now()),x.current||(c(t,r,s),x.current=!0)},o=()=>{y(!1),ae()},l=()=>{y(!1),ae(),oe(),u(t,r,e.duration,s)},d=()=>{b("Error al cargar el video"),g(!1)};return e.addEventListener("loadedmetadata",a),e.addEventListener("timeupdate",n),e.addEventListener("play",i),e.addEventListener("pause",o),e.addEventListener("ended",l),e.addEventListener("error",d),()=>{e.removeEventListener("loadedmetadata",a),e.removeEventListener("timeupdate",n),e.removeEventListener("play",i),e.removeEventListener("pause",o),e.removeEventListener("ended",l),e.removeEventListener("error",d),h.current&&clearTimeout(h.current),ie(e.currentTime,e.duration,!0)}},[t,r,L.current_position]);const se=()=>Ae(null,null,function*(){try{const e=yield fetch(`/api/v1/progress/videos/${t}/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(e.ok){const t=yield e.json();A(t)}const s=yield fetch(`/api/v1/progress/videos/${t}/${r}/bookmarks`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(s.ok){const e=yield s.json();P(e.bookmarks)}const a=yield fetch(`/api/v1/progress/videos/${t}/${r}/notes`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(a.ok){const e=yield a.json();z(e.notes)}}catch(e){}}),ae=()=>{if(v&&Z){const e=Math.floor((Date.now()-Z)/1e3);re(t=>t+e)}},ne=ze.useCallback((e,t)=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{ie(e,t)},5e3)},[]),ie=(e,s,n=!1)=>Ae(null,null,function*(){try{ae();const i=yield fetch(`/api/v1/progress/videos/${t}/${r}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"},body:JSON.stringify({current_position:e,duration:s,session_time:n?te:0})});if(i.ok){const o=(yield i.json()).progress;A(o),a&&a(o);const l=e/s*100;(l>=30&&l<60&&o.watch_percentage<30||l>=60&&l<90&&o.watch_percentage<60||l>=90&&o.watch_percentage<90)&&d(t,r,l,te,s),n&&re(0)}}catch(i){}}),oe=()=>Ae(null,null,function*(){L.is_completed&&n&&n()});return Br.jsx("div",{className:`bg-black rounded-lg overflow-hidden relative ${o}`,children:Br.jsxs("div",{className:"p-4 text-white text-center",children:[Br.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Reproductor Avanzado"}),Br.jsxs("p",{className:"text-gray-400",children:["Funcionalidad completa implementada en el backend.",Br.jsx("br",{}),"UI completa disponible en versión extendida."]}),Br.jsx("div",{className:"mt-4 p-3 bg-gray-800 rounded",children:Br.jsxs("p",{className:"text-sm",children:[Br.jsx("strong",{children:"Título:"})," ",s,Br.jsx("br",{}),Br.jsx("strong",{children:"Progreso:"})," ",Math.round(L.watch_percentage),"%",Br.jsx("br",{}),Br.jsx("strong",{children:"Estado:"})," ",L.is_completed?"Completado":"En progreso"]})})]})})};const nv=new class{getAuthHeaders(){return{headers:Qo()}}createModule(e,t){return Ae(this,null,function*(){var r,s,a,n;const i=Go(`${Ro}/${e}/modules`);try{return(yield Oo.post(i,t,this.getAuthHeaders())).data}catch(o){const e=o,t=(null==(s=null==(r=e.response)?void 0:r.data)?void 0:s.detail)||(null==(n=null==(a=e.response)?void 0:a.data)?void 0:n.message)||e.message||"Error al crear módulo";throw new Error(t)}})}getCourseModules(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Ro}/${e}/modules`))).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener módulos")}})}getCourseStructure(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Ro}/${e}/structure`))).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener estructura del curso")}})}getModule(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`/modules/${e}`))).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener módulo")}})}getModuleWithLessons(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`/modules/${e}/with-lessons`))).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener módulo con lecciones")}})}updateModule(e,t){return Ae(this,null,function*(){var r,s;try{return(yield Oo.put(Go(`/modules/${e}`),t,this.getAuthHeaders())).data}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al actualizar módulo")}})}deleteModule(e){return Ae(this,null,function*(){var t,r;try{yield Oo.delete(Go(`/modules/${e}`),this.getAuthHeaders())}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al eliminar módulo")}})}reorderModules(e,t){return Ae(this,null,function*(){var r,s;try{yield Oo.put(Go(`${Ro}/${e}/modules/reorder`),t,this.getAuthHeaders())}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al reordenar módulos")}})}assignLessonToModule(e,t){return Ae(this,null,function*(){var r,s;try{yield Oo.post(Go(`/modules/${e}/lessons`),{lesson_id:t},this.getAuthHeaders())}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al asignar lección al módulo")}})}removeLessonFromModule(e,t){return Ae(this,null,function*(){var r,s;try{yield Oo.delete(Go(`/modules/${e}/lessons/${t}`),this.getAuthHeaders())}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al remover lección del módulo")}})}formatDuration(e){if(e<60)return`${e} min`;const t=Math.floor(e/60),r=e%60;return 0===r?`${t}h`:`${t}h ${r}min`}calculateModuleProgress(e){if(0===e.lessons_count)return 0;const t=(Array.isArray(e.lessons)?e.lessons:[]).filter(e=>e.is_completed).length;return Math.round(t/e.lessons_count*100)}isModuleLocked(e,t){if(!e.unlock_previous)return!1;const r=t.find(t=>t.order===e.order-1);return!!r&&this.calculateModuleProgress(r)<100}getNextLesson(e,t){if(!t){const t=e.modules.find(e=>1===e.order);if(t&&t.lessons.length>0){const e=t.lessons.find(e=>1===e.order);if(e)return{moduleId:t.id,lessonId:e.id,title:e.title}}return null}for(const r of e.modules){const s=r.lessons.findIndex(e=>e.id===t);if(-1!==s){if(s<r.lessons.length-1){const e=r.lessons[s+1];return{moduleId:r.id,lessonId:e.id,title:e.title}}const t=e.modules.find(e=>e.order===r.order+1);if(t&&t.lessons.length>0){const e=t.lessons.find(e=>1===e.order);if(e)return{moduleId:t.id,lessonId:e.id,title:e.title}}return null}}return null}},iv=({quiz:e,userAttempts:t=0,bestScore:r,canTake:s=!0,lastAttemptPassed:a})=>{var n;const i=He();return Br.jsxs("div",{className:"border-2 rounded-lg p-6 transition-all hover:shadow-lg "+(a?"border-green-200 bg-green-50":t>0&&!a?"border-red-200 bg-red-50":"border-blue-200 bg-blue-50"),children:[Br.jsxs("div",{className:"flex items-start justify-between mb-4",children:[Br.jsxs("div",{className:"flex items-center space-x-3",children:[a?Br.jsx($g,{className:"h-6 w-6 text-green-600"}):t>0&&!a?Br.jsx(db,{className:"h-6 w-6 text-red-600"}):Br.jsx(Bf,{className:"h-6 w-6 text-blue-600"}),Br.jsxs("div",{children:[Br.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),Br.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]}),a&&Br.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm",children:[Br.jsx(ab,{className:"h-4 w-4"}),Br.jsx("span",{children:"Aprobado"})]})]}),Br.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(null==(n=e.questions)?void 0:n.length)||0}),Br.jsx("div",{className:"text-xs text-gray-600",children:"Preguntas"})]}),Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.time_limit_minutes>0?`${e.time_limit_minutes}m`:"∞"}),Br.jsx("div",{className:"text-xs text-gray-600",children:"Tiempo"})]}),Br.jsxs("div",{className:"text-center",children:[Br.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[e.passing_score,"%"]}),Br.jsx("div",{className:"text-xs text-gray-600",children:"Puntaje Mín."})]}),Br.jsxs("div",{className:"text-center",children:[Br.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[t,"/",e.max_attempts]}),Br.jsx("div",{className:"text-xs text-gray-600",children:"Intentos"})]})]}),void 0!==r&&Br.jsx("div",{className:"bg-white rounded-lg p-4 mb-4 border",children:Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mejor Puntaje:"}),Br.jsxs("span",{className:"text-lg font-bold "+(r>=e.passing_score?"text-green-600":"text-red-600"),children:[r.toFixed(1),"%"]})]})}),e.instructions&&Br.jsx("div",{className:"bg-white rounded-lg p-4 mb-4 border",children:Br.jsxs("div",{className:"flex items-start space-x-2",children:[Br.jsx(Og,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Instrucciones:"}),Br.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.instructions})]})]})}),Br.jsx("button",{onClick:()=>{i(`/platform/quiz/take/${e.id}`,{state:{returnTo:window.location.pathname,courseId:e.course_id,lessonId:e.lesson_id}})},disabled:!s,className:"w-full text-white px-6 py-3 rounded-lg font-medium transition-colors "+(s?a?"bg-green-600 hover:bg-green-700":t>0?"bg-orange-600 hover:bg-orange-700":"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"),children:s?a?"Revisar Quiz":t>0?"Reintentar":"Comenzar Quiz":"Quiz Bloqueado"}),t>=e.max_attempts&&!a&&Br.jsx("div",{className:"mt-3 text-center",children:Br.jsx("p",{className:"text-sm text-red-600",children:"Has agotado todos los intentos disponibles"})}),e.time_limit_minutes>0&&s&&0===t&&Br.jsxs("div",{className:"mt-3 flex items-center justify-center text-sm text-orange-600",children:[Br.jsx(tf,{className:"h-4 w-4 mr-1"}),Br.jsxs("span",{children:["Tiempo límite: ",e.time_limit_minutes," minutos"]})]})]})};const ov=new class{getMultipartHeaders(){return Ce(ke({},Qo()),{"Content-Type":"multipart/form-data"})}getCourseAssignments(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Uo}/course/${e}`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener assignments del curso")}})}getUserAssignments(){return Ae(this,null,function*(){var e,t;try{return(yield Oo.get(Go(`${Uo}/user/assignments`),{headers:Qo()})).data}catch(r){throw new Error((null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.detail)||"Error al obtener assignments del usuario")}})}getUserSubmissions(){return Ae(this,null,function*(){var e,t;try{return(yield Oo.get(Go(`${Uo}/user/submissions`),{headers:Qo()})).data}catch(r){throw new Error((null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.detail)||"Error al obtener submissions del usuario")}})}getAssignment(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Uo}/${e}`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener assignment")}})}createAssignment(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.post(Go(Uo),e,{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al crear assignment")}})}updateAssignment(e,t){return Ae(this,null,function*(){var r,s;try{return(yield Oo.put(Go(`${Uo}/${e}`),t,{headers:Qo()})).data}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al actualizar assignment")}})}deleteAssignment(e){return Ae(this,null,function*(){var t,r;try{yield Oo.delete(Go(`${Uo}/${e}`),{headers:Qo()})}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al eliminar assignment")}})}publishAssignment(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.post(Go(`${Uo}/${e}/publish`),{},{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al publicar assignment")}})}uploadAssignmentFile(e,t,r,s){return Ae(this,null,function*(){var a,n;try{const a=new FormData;a.append("file",t),r&&a.append("description",r);return(yield Oo.post(Go(`${Uo}/${e}/files`),a,{headers:this.getMultipartHeaders(),onUploadProgress:e=>{if(s&&e.total){const t={loaded:e.loaded,total:e.total,percentage:Math.round(e.loaded/e.total*100)};s(t)}}})).data}catch(i){throw new Error((null==(n=null==(a=i.response)?void 0:a.data)?void 0:n.detail)||"Error al subir archivo")}})}deleteAssignmentFile(e,t){return Ae(this,null,function*(){var r,s;try{yield Oo.delete(Go(`${Uo}/${e}/files/${t}`),{headers:Qo()})}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al eliminar archivo")}})}getAssignmentSubmissions(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Uo}/${e}/submissions`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener entregas")}})}getMySubmission(e){return Ae(this,null,function*(){var t,r,s;try{return(yield Oo.get(Go(`${Uo}/${e}/my-submission`),{headers:Qo()})).data}catch(a){const e=a;if(404===(null==(t=e.response)?void 0:t.status))return null;throw new Error((null==(s=null==(r=e.response)?void 0:r.data)?void 0:s.detail)||"Error al obtener mi entrega")}})}createSubmission(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.post(Go(`${Uo}/${e.assignment_id}/submissions`),e,{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al crear entrega")}})}updateSubmission(e,t){return Ae(this,null,function*(){var r,s;try{return(yield Oo.put(Go(`${Uo}/submissions/${e}`),t,{headers:Qo()})).data}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al actualizar entrega")}})}submitAssignment(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.post(Go(`${Uo}/submissions/${e}/submit`),{},{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al enviar assignment")}})}uploadSubmissionFile(e,t,r,s){return Ae(this,null,function*(){var a,n;try{const a=new FormData;a.append("file",t),r&&a.append("description",r);return(yield Oo.post(Go(`${Uo}/submissions/${e}/files`),a,{headers:this.getMultipartHeaders(),onUploadProgress:e=>{if(s&&e.total){const t={loaded:e.loaded,total:e.total,percentage:Math.round(e.loaded/e.total*100)};s(t)}}})).data}catch(i){throw new Error((null==(n=null==(a=i.response)?void 0:a.data)?void 0:n.detail)||"Error al subir archivo")}})}deleteSubmissionFile(e,t){return Ae(this,null,function*(){var r,s;try{yield Oo.delete(Go(`${Uo}/submissions/${e}/files/${t}`),{headers:Qo()})}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al eliminar archivo")}})}gradeSubmission(e,t,r){return Ae(this,null,function*(){var s,a;try{return(yield Oo.post(Go(`${Uo}/submissions/${e}/grade`),{grades:t,feedback:r},{headers:Qo()})).data}catch(n){throw new Error((null==(a=null==(s=n.response)?void 0:s.data)?void 0:a.detail)||"Error al calificar entrega")}})}bulkGrade(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.post(Go(`${Uo}/submissions/bulk-grade`),e,{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error en calificación masiva")}})}addComment(e,t){return Ae(this,null,function*(){var r,s;try{return(yield Oo.post(Go(`${Uo}/submissions/${e}/comments`),t,{headers:Qo()})).data}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al agregar comentario")}})}getAssignmentStatistics(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Uo}/${e}/statistics`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener estadísticas")}})}getStudentProgress(e,t){return Ae(this,null,function*(){var r,s;try{const r=t?`${Uo}/progress/${e}/${t}`:`${Uo}/progress/${e}/me`;return(yield Oo.get(Go(r),{headers:Qo()})).data}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Error al obtener progreso")}})}validateFile(e,t,r){var s;const a=null==(s=e.name.split(".").pop())?void 0:s.toLowerCase();return a?t.length>0&&!t.includes(a)?{isValid:!1,error:`Tipo de archivo no permitido. Tipos aceptados: ${t.join(", ")}`}:e.size>r?{isValid:!1,error:`Archivo demasiado grande. Máximo: ${this.formatFileSize(r)}`}:{isValid:!0}:{isValid:!1,error:"Archivo sin extensión válida"}}formatFileSize(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}formatTimeUntilDue(e){const t=new Date(e),r=new Date,s=t.getTime()-r.getTime();if(s<0)return"Vencido";const a=Math.floor(s/864e5),n=Math.floor(s%864e5/36e5);if(a>0)return`${a} día${a>1?"s":""} restante${a>1?"s":""}`;if(n>0)return`${n} hora${n>1?"s":""} restante${n>1?"s":""}`;{const e=Math.floor(s%36e5/6e4);return`${e} minuto${e>1?"s":""} restante${e>1?"s":""}`}}getStatusLabel(e){return{not_started:"No iniciado",in_progress:"En progreso",submitted:"Enviado",under_review:"En revisión",graded:"Calificado",returned:"Devuelto",late_submission:"Entrega tardía",missing:"No entregado"}[e]||e}getStatusColor(e){return{not_started:"text-gray-500 bg-gray-100",in_progress:"text-blue-700 bg-blue-100",submitted:"text-green-700 bg-green-100",under_review:"text-yellow-700 bg-yellow-100",graded:"text-purple-700 bg-purple-100",returned:"text-red-700 bg-red-100",late_submission:"text-orange-700 bg-orange-100",missing:"text-red-700 bg-red-100"}[e]||"text-gray-500 bg-gray-100"}calculateLetterGrade(e){return e>=95?"A+":e>=90?"A":e>=85?"A-":e>=80?"B+":e>=75?"B":e>=70?"B-":e>=65?"C+":e>=60?"C":e>=55?"C-":e>=50?"D":"F"}},lv=We.forwardRef(({onFilesUploaded:e,onUploadError:t,maxFiles:r=5,maxFileSize:s=52428800,allowedTypes:a=[],acceptedMimeTypes:n=[],className:i=""},o)=>{const[l,c]=ze.useState(!1),[d,u]=ze.useState([]),m=ze.useCallback(e=>{e.preventDefault(),e.stopPropagation(),c(!0)},[]),h=ze.useCallback(e=>{e.preventDefault(),e.stopPropagation(),c(!1)},[]),x=ze.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]),p=ze.useCallback(e=>{e.preventDefault(),e.stopPropagation(),c(!1);const t=Array.from(e.dataTransfer.files);f(t)},[]),g=ze.useCallback(e=>{if(e.target.files){const t=Array.from(e.target.files);f(t)}},[]),f=ze.useCallback(e=>{const n=(Array.isArray(e)?e:[]).filter(e=>{const r=ov.validateFile(e,a,s);return!!r.isValid||(null==t||t(r.error||"Archivo no válido"),!1)});if(d.length+n.length>r)return void(null==t||t(`Máximo ${r} archivos permitidos`));const i=n.map(e=>({id:`${Date.now()}-${Math.random()}`,file:e,description:"",progress:{loaded:0,total:0,percentage:0},status:"pending"}));u(e=>[...e,...i])},[d.length,r,t,a,s]),b=ze.useCallback((e,t)=>{u(r=>r.map(r=>r.id===e?ke(ke({},r),t):r))},[]),v=ze.useCallback(e=>{u(t=>(Array.isArray(t)?t:[]).filter(t=>t.id!==e))},[]),y=ze.useCallback((e,r)=>Ae(null,null,function*(){b(e.id,{status:"uploading"});try{const t=yield ov.uploadSubmissionFile(r,e.file,e.description||void 0,t=>{b(e.id,{progress:t})});return b(e.id,{status:"success",uploadedFile:t}),t}catch(s){throw b(e.id,{status:"error",error:s.message}),null==t||t(s.message),s}}),[b,t]),j=ze.useCallback(t=>Ae(null,null,function*(){const r=(Array.isArray(d)?d:[]).filter(e=>"pending"===e.status),s=[];for(const e of r)try{const r=yield y(e,t);s.push(r)}catch(a){break}return s.length>0&&e(s),s}),[d,y,e]),w=e=>{var t;const r=null==(t=e.split(".").pop())?void 0:t.toLowerCase(),s="h-6 w-6";return["pdf","doc","docx","txt","rtf"].includes(r||"")?Br.jsx(mf,{className:`${s} text-red-500`}):["jpg","jpeg","png","gif","bmp","webp","svg"].includes(r||"")?Br.jsx(qf,{className:`${s} text-green-500`}):["mp4","avi","mov","wmv","flv","webm"].includes(r||"")?Br.jsx(lb,{className:`${s} text-purple-500`}):["mp3","wav","wma","m4a","aac","ogg"].includes(r||"")?Br.jsx(If,{className:`${s} text-blue-500`}):["ppt","pptx","odp"].includes(r||"")?Br.jsx(Hf,{className:`${s} text-orange-500`}):["xls","xlsx","ods","csv"].includes(r||"")?Br.jsx(eb,{className:`${s} text-green-600`}):["zip","rar","7z","tar","gz"].includes(r||"")?Br.jsx(fg,{className:`${s} text-yellow-600`}):["js","ts","jsx","tsx","py","java","cpp","c","html","css","php","rb","go","rs"].includes(r||"")?Br.jsx(nf,{className:`${s} text-indigo-500`}):Br.jsx(mf,{className:`${s} text-gray-500`})},N=e=>{switch(e){case"success":return Br.jsx($g,{className:"h-5 w-5 text-green-500"});case"error":return Br.jsx(xf,{className:"h-5 w-5 text-red-500"});case"uploading":return Br.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"});default:return null}};return We.useImperativeHandle(o,()=>({uploadAllFiles:j}),[j]),Br.jsxs("div",{className:`space-y-6 ${i}`,children:[Br.jsx("div",{className:`\n          relative border-2 border-dashed rounded-lg p-6 transition-colors\n          ${l?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}\n        `,onDragEnter:m,onDragLeave:h,onDragOver:x,onDrop:p,children:Br.jsxs("div",{className:"text-center",children:[Br.jsx(sf,{className:"mx-auto h-12 w-12 text-gray-400"}),Br.jsxs("div",{className:"mt-4",children:[Br.jsxs("label",{htmlFor:"assignment-file-upload",className:"cursor-pointer",children:[Br.jsxs("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:["Arrastra archivos aquí o"," ",Br.jsx("span",{className:"text-blue-600 hover:text-blue-500",children:"selecciona archivos"})]}),Br.jsx("input",{id:"assignment-file-upload",name:"assignment-file-upload",type:"file",className:"sr-only",multiple:!0,accept:n.length>0?n.join(","):["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","image/jpeg","image/png","image/gif","video/mp4","video/mpeg","video/quicktime","audio/mpeg","audio/wav","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-rar-compressed"].join(","),onChange:g})]}),Br.jsx("p",{className:"mt-1 text-xs text-gray-500",children:a.length>0?`Tipos: ${a.join(", ")} hasta ${ov.formatFileSize(s)}`:`Múltiples tipos de archivo hasta ${ov.formatFileSize(s)}`}),Br.jsxs("p",{className:"mt-1 text-xs text-gray-400",children:["Máximo ",r," archivo",r>1?"s":""]})]})]})}),d.length>0&&Br.jsxs("div",{className:"space-y-4",children:[Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Archivos seleccionados (",d.length,")"]}),Br.jsxs("div",{className:"text-sm text-gray-500",children:[(Array.isArray(d)?d:[]).filter(e=>"success"===e.status).length," de ",d.length," completados"]})]}),Br.jsx("div",{className:"space-y-3",children:d.map(e=>Br.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:Br.jsxs("div",{className:"flex items-start space-x-4",children:[Br.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[w(e.file.name),N(e.status)]}),Br.jsxs("div",{className:"flex-1 min-w-0",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Br.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.name}),Br.jsx("button",{onClick:()=>v(e.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600",disabled:"uploading"===e.status,children:Br.jsx(mb,{className:"h-4 w-4"})})]}),Br.jsx("p",{className:"text-xs text-gray-500 mb-3",children:ov.formatFileSize(e.file.size)}),"success"!==e.status&&Br.jsxs("div",{className:"mb-3",children:[Br.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Descripción (opcional)"}),Br.jsx("input",{type:"text",value:e.description,onChange:t=>b(e.id,{description:t.target.value}),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe el contenido del archivo",disabled:"uploading"===e.status})]}),"uploading"===e.status&&Br.jsxs("div",{className:"mb-3",children:[Br.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-1",children:[Br.jsx("span",{children:"Subiendo archivo..."}),Br.jsxs("span",{children:[e.progress.percentage,"%"]})]}),Br.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:Br.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.progress.percentage}%`}})})]}),"error"===e.status&&e.error&&Br.jsx("div",{className:"mb-2 text-xs text-red-600 bg-red-50 p-2 rounded",children:e.error}),"success"===e.status&&Br.jsx("div",{className:"mb-2 text-xs text-green-600 bg-green-50 p-2 rounded",children:"✓ Archivo subido exitosamente"})]})]})},e.id))}),Br.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[Br.jsxs("div",{className:"text-sm text-gray-500",children:[(Array.isArray(d)?d:[]).filter(e=>"pending"===e.status).length," archivo",1!==(Array.isArray(d)?d:[]).filter(e=>"pending"===e.status).length?"s":""," pendiente",1!==(Array.isArray(d)?d:[]).filter(e=>"pending"===e.status).length?"s":""]}),Br.jsx("div",{className:"flex space-x-3",children:Br.jsx("button",{onClick:()=>u([]),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:d.some(e=>"uploading"===e.status),children:"Limpiar Lista"})})]})]})]})});var cv=(e=>(e.NOT_STARTED="not_started",e.IN_PROGRESS="in_progress",e.SUBMITTED="submitted",e.UNDER_REVIEW="under_review",e.GRADED="graded",e.RETURNED="returned",e.LATE_SUBMISSION="late_submission",e.MISSING="missing",e))(cv||{}),dv=(e=>(e.NOT_GRADED="not_graded",e.IN_PROGRESS="in_progress",e.COMPLETED="completed",e.NEEDS_REVISION="needs_revision",e))(dv||{});const uv=({assignment:e,existingSubmission:t,onSubmissionUpdate:r,onError:s})=>{const[a,n]=ze.useState(t||null),[i,o]=ze.useState((null==t?void 0:t.text_content)||""),[l,c]=ze.useState(!1),[d,u]=ze.useState(!1),[m,h]=ze.useState((null==t?void 0:t.files)||[]),[x,p]=ze.useState(!1),g=ze.useRef(null),f=ze.useRef(null);ze.useEffect(()=>{b()},[e.id]),ze.useEffect(()=>(x&&a&&(f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{v()},2e3)),()=>{f.current&&clearTimeout(f.current)}),[i,x]);const b=()=>Ae(null,null,function*(){try{c(!0);const t=yield ov.getMySubmission(e.id);t&&(n(t),o(t.text_content),h(t.files))}catch(t){}finally{c(!1)}}),v=()=>Ae(null,null,function*(){if(a)try{yield ov.updateSubmission(a.id,{text_content:i,status:cv.IN_PROGRESS}),p(!1)}catch(e){}}),y=ze.useCallback(e=>{o(e.target.value),p(!0)},[]),j=()=>Ae(null,null,function*(){try{c(!0);const t=yield ov.createSubmission({assignment_id:e.id,text_content:i,is_final:!1});n(t),null==r||r(t),p(!1)}catch(t){null==s||s(t.message)}finally{c(!1)}}),w=()=>Ae(null,null,function*(){if(a)try{u(!0);const e=yield ov.updateSubmission(a.id,{text_content:i,status:cv.IN_PROGRESS});n(e),null==r||r(e),p(!1)}catch(e){null==s||s(e.message)}finally{u(!1)}else yield j()}),N=ze.useCallback(e=>{h(t=>[...t,...e])},[]),k=ze.useCallback(e=>{null==s||s(e)},[s]),C=(null==a?void 0:a.status)===cv.SUBMITTED||(null==a?void 0:a.status)===cv.GRADED,S=e.is_overdue&&!C,E=a&&(i.trim()||m.length>0),_=(()=>{if(!e.due_date)return null;const t=new Date;return new Date(e.due_date).getTime()-t.getTime()<0?"Vencido":ov.formatTimeUntilDue(e.due_date)})();return l&&!a?Br.jsxs("div",{className:"flex items-center justify-center p-8",children:[Br.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),Br.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando assignment..."})]}):Br.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Br.jsxs("div",{className:"flex items-start justify-between",children:[Br.jsxs("div",{children:[Br.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.title}),Br.jsx("p",{className:"mt-2 text-gray-600",children:e.description})]}),Br.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[_&&Br.jsxs("div",{className:"flex items-center px-3 py-1 rounded-full "+(S?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:[Br.jsx(tf,{className:"h-4 w-4 mr-1"}),_]}),a&&Br.jsx("div",{className:`flex items-center px-3 py-1 rounded-full ${ov.getStatusColor(a.status)}`,children:ov.getStatusLabel(a.status)})]})]}),e.instructions&&Br.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[Br.jsxs("h3",{className:"flex items-center text-sm font-medium text-blue-900 mb-2",children:[Br.jsx(yf,{className:"h-4 w-4 mr-1"}),"Instrucciones"]}),Br.jsx("div",{className:"text-sm text-blue-800 whitespace-pre-wrap",children:e.instructions})]}),Br.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[Br.jsxs("div",{children:[Br.jsx("span",{className:"font-medium",children:"Puntos máximos:"}),Br.jsx("span",{className:"ml-2",children:e.max_points})]}),Br.jsxs("div",{children:[Br.jsx("span",{className:"font-medium",children:"Archivos máximos:"}),Br.jsx("span",{className:"ml-2",children:e.max_files})]}),Br.jsxs("div",{children:[Br.jsx("span",{className:"font-medium",children:"Tamaño máximo:"}),Br.jsx("span",{className:"ml-2",children:ov.formatFileSize(e.max_file_size)})]})]})]}),C&&Br.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx($g,{className:"h-5 w-5 text-green-500"}),Br.jsxs("div",{className:"ml-3",children:[Br.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Assignment Enviado"}),Br.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Tu assignment ha sido enviado exitosamente. Ya no puedes realizar cambios.",(null==a?void 0:a.submitted_at)&&Br.jsxs("span",{className:"block mt-1",children:["Enviado el: ",new Date(a.submitted_at).toLocaleString()]})]})]})]})}),S&&!C&&Br.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(xf,{className:"h-5 w-5 text-red-500"}),Br.jsxs("div",{className:"ml-3",children:[Br.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Assignment Vencido"}),Br.jsxs("p",{className:"text-sm text-red-700 mt-1",children:["La fecha límite ha pasado. Las entregas tardías pueden tener penalización.",e.late_penalty_per_day>0&&Br.jsxs("span",{className:"block mt-1",children:["Penalización: ",(100*e.late_penalty_per_day).toFixed(0),"% por día"]})]})]})]})}),!C&&Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Br.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[Br.jsx(df,{className:"h-5 w-5 mr-2"}),"Respuesta de Texto"]}),Br.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[x&&Br.jsx("span",{className:"text-yellow-600",children:"● Cambios sin guardar"}),d&&Br.jsx("span",{className:"text-blue-600",children:"Guardando..."})]})]}),Br.jsx("textarea",{value:i,onChange:y,placeholder:"Escribe tu respuesta aquí...",className:"w-full h-64 p-4 border border-gray-300 rounded-lg resize-y focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:C}),Br.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm text-gray-500",children:[Br.jsxs("span",{children:[i.length," caracteres"]}),Br.jsx("button",{onClick:w,disabled:!x||d,className:"px-3 py-1 text-blue-600 hover:text-blue-700 disabled:text-gray-400",children:d?"Guardando...":"Guardar borrador"})]})]}),!C&&Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Br.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[Br.jsx(sf,{className:"h-5 w-5 mr-2"}),"Archivos Adjuntos"]}),Br.jsx(lv,{ref:g,onFilesUploaded:N,onUploadError:k,maxFiles:e.max_files,maxFileSize:e.max_file_size,allowedTypes:e.allowed_file_types})]}),m.length>0&&Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Br.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Archivos Enviados (",m.length,")"]}),Br.jsx("div",{className:"space-y-3",children:m.map(e=>Br.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[Br.jsxs("div",{className:"flex items-center space-x-3",children:[Br.jsx(df,{className:"h-5 w-5 text-gray-400"}),Br.jsxs("div",{children:[Br.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.original_filename}),Br.jsxs("p",{className:"text-xs text-gray-500",children:[ov.formatFileSize(e.file_size),e.description&&` • ${e.description}`]})]})]}),!C&&Br.jsx("button",{onClick:()=>{return t=e.id,Ae(null,null,function*(){if(a)try{yield ov.deleteSubmissionFile(a.id,t),h(e=>(Array.isArray(e)?e:[]).filter(e=>e.id!==t))}catch(e){null==s||s(e.message)}});var t},className:"text-red-600 hover:text-red-700 text-sm",children:"Eliminar"})]},e.id))})]}),!C&&Br.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsx("div",{className:"text-sm text-gray-600",children:e.allow_multiple_submissions?"Puedes enviar múltiples veces hasta la fecha límite":"Solo puedes enviar una vez"}),Br.jsxs("div",{className:"flex space-x-3",children:[Br.jsxs("button",{onClick:w,disabled:!x||d,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[Br.jsx(Ng,{className:"h-4 w-4 mr-2 inline"}),"Guardar Borrador"]}),Br.jsx("button",{onClick:()=>Ae(null,null,function*(){if(a||(yield j(),a))try{c(!0),g.current&&g.current.uploadAllFiles&&(yield g.current.uploadAllFiles(a.id));const e=yield ov.submitAssignment(a.id);n(e),null==r||r(e),p(!1)}catch(e){null==s||s(e.message)}finally{c(!1)}}),disabled:!E||l,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?Br.jsxs(Br.Fragment,{children:[Br.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2 inline-block"}),"Enviando..."]}):Br.jsxs(Br.Fragment,{children:[Br.jsx(Tf,{className:"h-4 w-4 mr-2 inline"}),"Enviar Assignment"]})})]})]})})]})},mv=({assignment:e,submissions:t,onGradeSubmitted:r,onBulkGrade:s})=>{const{user:a}=al(),[n,i]=ze.useState(Array.isArray(t)?t:[]),[o,l]=ze.useState(Array.isArray(t)?t:[]),[c,d]=ze.useState([]),[u,m]=ze.useState("all"),[h,x]=ze.useState("submitted_at"),[p,g]=ze.useState("desc"),[f,b]=ze.useState(!1),[v,y]=ze.useState(null),[j,w]=ze.useState(null),[N,k]=ze.useState(null),[C,S]=ze.useState({});ze.useEffect(()=>{E(),_()},[e.id]),ze.useEffect(()=>{let e=Array.isArray(n)?[...n]:[];switch(u){case"submitted":e=(Array.isArray(e)?e:[]).filter(e=>e.status===cv.SUBMITTED);break;case"graded":e=(Array.isArray(e)?e:[]).filter(e=>e.grade_status===dv.COMPLETED);break;case"pending":e=(Array.isArray(e)?e:[]).filter(e=>e.status===cv.SUBMITTED&&e.grade_status!==dv.COMPLETED);break;case"late":e=(Array.isArray(e)?e:[]).filter(e=>e.is_late)}e.sort((e,t)=>{let r,s;switch(h){case"student_name":r=e.student_name||"",s=t.student_name||"";break;case"submitted_at":r=e.submitted_at?new Date(e.submitted_at).getTime():0,s=t.submitted_at?new Date(t.submitted_at).getTime():0;break;case"grade":r=e.percentage_grade,s=t.percentage_grade;break;case"status":r=e.status,s=t.status;break;default:return 0}return"asc"===p?r>s?1:-1:r<s?1:-1}),l(e)},[n,u,h,p]);const E=()=>Ae(null,null,function*(){try{b(!0);const t=yield ov.getAssignmentSubmissions(e.id);i(t)}catch(t){}finally{b(!1)}}),_=()=>Ae(null,null,function*(){try{const t=yield ov.getAssignmentStatistics(e.id);y(t)}catch(t){}}),M=(e,t,r)=>{S(s=>Ce(ke({},s),{[e]:Ce(ke({},s[e]),{[t]:r})}))},I=e=>{const t=ov.getStatusColor(e.status),r=ov.getStatusLabel(e.status);return Br.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t}`,children:r})},O=e=>{if(e.grade_status!==dv.COMPLETED)return Br.jsx("span",{className:"text-gray-400 text-sm",children:"Sin calificar"});const t=ov.calculateLetterGrade(e.percentage_grade),r=e.is_passing?"text-green-600":"text-red-600";return Br.jsxs("div",{className:`text-sm font-medium ${r}`,children:[e.total_points_earned,"/",e.total_points_possible,Br.jsxs("span",{className:"ml-1",children:["(",e.percentage_grade.toFixed(1),"% - ",t,")"]})]})};return f?Br.jsxs("div",{className:"flex items-center justify-center p-8",children:[Br.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),Br.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando submissions..."})]}):Br.jsxs("div",{className:"space-y-6",children:[Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Br.jsxs("div",{children:[Br.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.title}),Br.jsx("p",{className:"text-gray-600 mt-1",children:"Calificación y gestión de entregas"})]}),Br.jsx("div",{className:"flex items-center space-x-3",children:Br.jsx("button",{onClick:E,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Actualizar"})})]}),v&&Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[Br.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(ib,{className:"h-8 w-8 text-blue-600"}),Br.jsxs("div",{className:"ml-3",children:[Br.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Estudiantes"}),Br.jsx("p",{className:"text-2xl font-bold text-blue-900",children:v.total_students})]})]})}),Br.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(df,{className:"h-8 w-8 text-green-600"}),Br.jsxs("div",{className:"ml-3",children:[Br.jsx("p",{className:"text-sm font-medium text-green-600",children:"Entregas"}),Br.jsx("p",{className:"text-2xl font-bold text-green-900",children:v.total_submissions})]})]})}),Br.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(pg,{className:"h-8 w-8 text-purple-600"}),Br.jsxs("div",{className:"ml-3",children:[Br.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Calificadas"}),Br.jsx("p",{className:"text-2xl font-bold text-purple-900",children:v.graded_submissions})]})]})}),Br.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(Dg,{className:"h-8 w-8 text-yellow-600"}),Br.jsxs("div",{className:"ml-3",children:[Br.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Promedio"}),Br.jsxs("p",{className:"text-2xl font-bold text-yellow-900",children:[v.average_grade.toFixed(1),"%"]})]})]})})]})]}),Br.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{className:"flex items-center space-x-4",children:[Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsx(bf,{className:"h-5 w-5 text-gray-400"}),Br.jsxs("select",{value:u,onChange:e=>m(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[Br.jsx("option",{value:"all",children:"Todas las entregas"}),Br.jsx("option",{value:"submitted",children:"Enviadas"}),Br.jsx("option",{value:"pending",children:"Pendientes de calificar"}),Br.jsx("option",{value:"graded",children:"Calificadas"}),Br.jsx("option",{value:"late",children:"Entregas tardías"})]})]}),Br.jsxs("span",{className:"text-sm text-gray-600",children:[o.length," submission",1!==o.length?"s":""]})]}),c.length>0&&Br.jsxs("div",{className:"flex items-center space-x-3",children:[Br.jsxs("span",{className:"text-sm text-gray-600",children:[c.length," seleccionada",1!==c.length?"s":""]}),Br.jsx("button",{onClick:()=>Ae(null,null,function*(){if(0===c.length)return;const t=window.prompt("Puntos para todas las submissions seleccionadas:",""),r=window.prompt("Feedback para todas las submissions:","");if(null!==t)try{const n=parseFloat(t);if(isNaN(n)||n<0||n>e.max_points)return void alert("Puntos inválidos");const o=[{points_earned:n,points_possible:e.max_points,feedback:r||"",grader_id:(null==a?void 0:a.id)||"current_user",graded_at:(new Date).toISOString()}],l=yield ov.bulkGrade({submission_ids:c,grades:o,feedback:r||""});i(e=>e.map(e=>l.find(t=>t.id===e.id)||e)),d([]),null==s||s(c,o),yield _()}catch(n){}}),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Calificar en Lote"})]})]})}),Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[Br.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("input",{type:"checkbox",checked:c.length===(Array.isArray(o)?o:[]).filter(e=>e.status===cv.SUBMITTED).length,onChange:()=>{const e=(Array.isArray(o)?o:[]).filter(e=>e.status===cv.SUBMITTED).map(e=>e.id);c.length===e.length?d([]):d(e)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),Br.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Seleccionar todo"})]})}),Br.jsx("div",{className:"divide-y divide-gray-200",children:o.map(t=>{var s,n,o;return Br.jsxs("div",{children:[Br.jsx("div",{className:"p-4 hover:bg-gray-50",children:Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{className:"flex items-center space-x-4",children:[t.status===cv.SUBMITTED&&Br.jsx("input",{type:"checkbox",checked:c.includes(t.id),onChange:()=>{return e=t.id,void d(t=>t.includes(e)?(Array.isArray(t)?t:[]).filter(t=>t!==e):[...t,e]);var e},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),Br.jsxs("div",{className:"flex-1",children:[Br.jsxs("div",{className:"flex items-center space-x-3",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-900",children:t.student_name||`Estudiante ${t.student_id}`}),I(t),t.is_late&&Br.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[Br.jsx(tf,{className:"h-3 w-3 mr-1"}),t.days_late," día",1!==t.days_late?"s":""," tarde"]})]}),Br.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-xs text-gray-500",children:[t.submitted_at&&Br.jsxs("span",{className:"flex items-center",children:[Br.jsx(Lg,{className:"h-3 w-3 mr-1"}),new Date(t.submitted_at).toLocaleString()]}),t.files.length>0&&Br.jsxs("span",{children:[t.files.length," archivo",1!==t.files.length?"s":""]})]})]})]}),Br.jsxs("div",{className:"flex items-center space-x-4",children:[Br.jsx("div",{className:"text-right",children:O(t)}),Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsx("button",{onClick:()=>w(j===t.id?null:t.id),className:"p-1 text-gray-400 hover:text-gray-600",children:j===t.id?Br.jsx(Wg,{className:"h-5 w-5"}):Br.jsx(Gg,{className:"h-5 w-5"})}),t.status===cv.SUBMITTED&&Br.jsx("button",{onClick:()=>k(N===t.id?null:t.id),className:"p-2 text-blue-600 hover:text-blue-800",children:Br.jsx(zf,{className:"h-4 w-4"})})]})]})]})}),j===t.id&&Br.jsx("div",{className:"px-4 pb-4 bg-gray-50",children:Br.jsxs("div",{className:"space-y-4",children:[t.text_content&&Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Respuesta de texto:"}),Br.jsx("div",{className:"bg-white p-3 rounded border text-sm",children:t.text_content})]}),t.files.length>0&&Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Archivos adjuntos:"}),Br.jsx("div",{className:"space-y-2",children:t.files.map(e=>Br.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsx(df,{className:"h-4 w-4 text-gray-400"}),Br.jsx("span",{className:"text-sm",children:e.original_filename}),Br.jsxs("span",{className:"text-xs text-gray-500",children:["(",ov.formatFileSize(e.file_size),")"]})]}),Br.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm",children:Br.jsx(vg,{className:"h-4 w-4"})})]},e.id))})]}),t.comments.length>0&&Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Comentarios:"}),Br.jsx("div",{className:"space-y-2",children:t.comments.map(e=>Br.jsxs("div",{className:"bg-white p-3 rounded border",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Br.jsxs("span",{className:"text-sm font-medium",children:[e.author_name," (",e.author_role,")"]}),Br.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleString()})]}),Br.jsx("p",{className:"text-sm text-gray-700",children:e.content})]},e.id))})]})]})}),N===t.id&&Br.jsx("div",{className:"px-4 pb-4 bg-blue-50 border-t border-blue-200",children:Br.jsxs("div",{className:"py-4",children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Calificar submission"}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Br.jsxs("div",{children:[Br.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Puntos (máximo: ",e.max_points,")"]}),Br.jsx("input",{type:"number",min:"0",max:e.max_points,value:(null==(s=C[t.id])?void 0:s.points)||"",onChange:e=>M(t.id,"points",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feedback"}),Br.jsx("textarea",{value:(null==(n=C[t.id])?void 0:n.feedback)||"",onChange:e=>M(t.id,"feedback",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Comentarios para el estudiante..."})]})]}),Br.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-4",children:[Br.jsx("button",{onClick:()=>k(null),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancelar"}),Br.jsx("button",{onClick:()=>{return s=t.id,Ae(null,null,function*(){const t=C[s];if(t)try{const n=[{points_earned:t.points,points_possible:e.max_points,feedback:t.feedback,grader_id:(null==a?void 0:a.id)||"current_user",graded_at:(new Date).toISOString()}],o=yield ov.gradeSubmission(s,n,t.feedback);i(e=>e.map(e=>e.id===s?o:e)),k(null),S(e=>{const t=e,{[s]:r}=t;var a;return Se(t,[(a=s,"symbol"==typeof a?a:a+"")])}),null==r||r(s,n),yield _()}catch(n){}});var s},disabled:!(null==(o=C[t.id])?void 0:o.points),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Guardar Calificación"})]})]})})]},t.id)})}),0===o.length&&Br.jsxs("div",{className:"text-center py-12",children:[Br.jsx(df,{className:"mx-auto h-12 w-12 text-gray-400"}),Br.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay submissions"}),Br.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"all"===u?"No se han enviado assignments todavía.":"No hay submissions que coincidan con el filtro seleccionado."})]})]})]})},hv=({submission:e,assignment:t,showRubric:r=!0,allowComments:s=!0})=>{const[a,n]=ze.useState(""),[i,o]=ze.useState(!1),[l,c]=ze.useState(e.comments),[d,u]=ze.useState(null),m=ze.useCallback(()=>Ae(null,null,function*(){if(a.trim())try{o(!0);const t=yield ov.addComment(e.id,{content:a.trim(),is_private:!1});c(e=>[...e,t]),n("")}catch(t){}finally{o(!1)}}),[e.id,a]),h=(()=>{switch(e.grade_status){case dv.COMPLETED:return{icon:$g,text:"Calificado",color:"text-green-600 bg-green-100",description:"Tu assignment ha sido calificado"};case dv.IN_PROGRESS:return{icon:tf,text:"En revisión",color:"text-yellow-600 bg-yellow-100",description:"El instructor está revisando tu entrega"};case dv.NEEDS_REVISION:return{icon:xf,text:"Necesita revisión",color:"text-orange-600 bg-orange-100",description:"Se requieren ajustes en tu entrega"};default:return{icon:tf,text:"Pendiente",color:"text-gray-600 bg-gray-100",description:"Esperando calificación"}}})(),x=(()=>{if(e.grade_status!==dv.COMPLETED)return null;const t=ov.calculateLetterGrade(e.percentage_grade),r=e.is_passing;return{points:`${e.total_points_earned}/${e.total_points_possible}`,percentage:e.percentage_grade,letter:t,isPassing:r,penalty:e.penalty_applied}})(),p=h.icon;return Br.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Br.jsxs("div",{children:[Br.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.title}),Br.jsx("p",{className:"text-gray-600 mt-1",children:"Calificación y retroalimentación"})]}),Br.jsxs("div",{className:`inline-flex items-center px-3 py-2 rounded-full text-sm font-medium ${h.color}`,children:[Br.jsx(p,{className:"h-4 w-4 mr-2"}),h.text]})]}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(Lg,{className:"h-4 w-4 text-gray-400 mr-2"}),Br.jsx("span",{className:"text-gray-600",children:"Enviado:"}),Br.jsx("span",{className:"ml-2 font-medium",children:e.submitted_at?new Date(e.submitted_at).toLocaleString():"No enviado"})]}),Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(df,{className:"h-4 w-4 text-gray-400 mr-2"}),Br.jsx("span",{className:"text-gray-600",children:"Versión:"}),Br.jsxs("span",{className:"ml-2 font-medium",children:["#",e.submission_number]})]}),Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(ib,{className:"h-4 w-4 text-gray-400 mr-2"}),Br.jsx("span",{className:"text-gray-600",children:"Estado:"}),Br.jsx("span",{className:"ml-2 font-medium",children:ov.getStatusLabel(e.status)})]})]})]}),x&&Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Br.jsx("div",{className:"flex items-center justify-between mb-6",children:Br.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[Br.jsx(pg,{className:"h-6 w-6 mr-2"}),"Calificación Final"]})}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:x.points}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Puntos"})]}),Br.jsxs("div",{className:"text-center",children:[Br.jsxs("div",{className:"text-3xl font-bold mb-1 "+(x.isPassing?"text-green-600":"text-red-600"),children:[x.percentage.toFixed(1),"%"]}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Porcentaje"})]}),Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"text-3xl font-bold mb-1 "+(x.isPassing?"text-green-600":"text-red-600"),children:x.letter}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Calificación"})]})]}),Br.jsx("div",{className:"mt-6 flex items-center justify-center",children:Br.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium "+(x.isPassing?"text-green-800 bg-green-100":"text-red-800 bg-red-100"),children:[x.isPassing?Br.jsx($g,{className:"h-4 w-4 mr-2"}):Br.jsx(db,{className:"h-4 w-4 mr-2"}),x.isPassing?"Aprobado":"No Aprobado",x.penalty>0&&Br.jsxs("span",{className:"ml-2 text-xs",children:["(Penalización: -",x.penalty.toFixed(1),"%)"]})]})}),e.is_late&&Br.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(xf,{className:"h-5 w-5 text-yellow-400"}),Br.jsx("div",{className:"ml-3",children:Br.jsxs("p",{className:"text-sm text-yellow-800",children:["Entrega tardía: ",e.days_late," día",1!==e.days_late?"s":""," de retraso",x.penalty>0&&Br.jsxs("span",{className:"block mt-1",children:["Se aplicó una penalización del ",x.penalty.toFixed(1),"% por entrega tardía."]})]})})]})})]}),r&&t.rubric&&e.grade_status===dv.COMPLETED&&Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Br.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[Br.jsx(Dg,{className:"h-6 w-6 mr-2"}),"Desglose por Criterios"]}),Br.jsx("div",{className:"space-y-4",children:t.rubric.criteria.map(r=>{const s=(r=>{var s;const a=e.grades.find(e=>e.criterion_id===r);return a&&(null==(s=t.rubric)?void 0:s.criteria.find(e=>e.id===r))?{pointsEarned:a.points_earned,pointsPossible:a.points_possible,percentage:a.points_earned/a.points_possible*100,feedback:a.feedback}:null})(r.id),a=d===r.id;return Br.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[Br.jsxs("div",{className:"p-4 cursor-pointer hover:bg-gray-50",onClick:()=>u(a?null:r.id),children:[Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{className:"flex-1",children:[Br.jsx("h4",{className:"text-lg font-medium text-gray-900",children:r.name}),Br.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.description})]}),Br.jsx("div",{className:"text-right ml-4",children:s?Br.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[s.pointsEarned,"/",s.pointsPossible]}):Br.jsx("div",{className:"text-sm text-gray-500",children:"Sin calificar"})})]}),s&&Br.jsxs("div",{className:"mt-3",children:[Br.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:Br.jsx("div",{className:"h-2 rounded-full transition-all duration-300 "+(s.percentage>=70?"bg-green-500":s.percentage>=50?"bg-yellow-500":"bg-red-500"),style:{width:`${s.percentage}%`}})}),Br.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[Br.jsx("span",{children:"0"}),Br.jsxs("span",{children:[s.percentage.toFixed(1),"%"]}),Br.jsx("span",{children:"100%"})]})]})]}),a&&s&&s.feedback&&Br.jsxs("div",{className:"border-t border-gray-200 p-4 bg-blue-50",children:[Br.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Retroalimentación:"}),Br.jsx("p",{className:"text-sm text-gray-700",children:s.feedback})]})]},r.id)})})]}),e.instructor_feedback&&Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Br.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[Br.jsx(df,{className:"h-6 w-6 mr-2"}),"Comentarios del Instructor"]}),Br.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:Br.jsx("div",{className:"prose prose-sm max-w-none",children:Br.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.instructor_feedback})})})]}),s&&Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Br.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[Br.jsx(Rg,{className:"h-6 w-6 mr-2"}),"Conversación (",l.length,")"]}),Br.jsx("div",{className:"space-y-4 mb-6",children:0===l.length?Br.jsxs("div",{className:"text-center py-8 text-gray-500",children:[Br.jsx(Rg,{className:"mx-auto h-12 w-12 text-gray-300 mb-2"}),Br.jsx("p",{children:"No hay comentarios todavía."}),Br.jsx("p",{className:"text-sm",children:"¡Inicia la conversación!"})]}):l.map(e=>{var t;return Br.jsxs("div",{className:"flex space-x-3 "+("student"===e.author_role?"flex-row-reverse space-x-reverse":""),children:[Br.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium text-white "+("instructor"===e.author_role?"bg-blue-500":"student"===e.author_role?"bg-green-500":"bg-gray-500"),children:(null==(t=e.author_name)?void 0:t.charAt(0))||"U"}),Br.jsxs("div",{className:"flex-1 "+("student"===e.author_role?"text-right":""),children:[Br.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[Br.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.author_name||"Usuario"}),Br.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleString()}),"instructor"===e.author_role&&Br.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Instructor"})]}),Br.jsx("div",{className:"inline-block max-w-xs lg:max-w-md px-4 py-2 rounded-lg text-sm "+("student"===e.author_role?"bg-green-500 text-white":"bg-gray-100 text-gray-900"),children:e.content})]})]},e.id)})}),Br.jsx("div",{className:"border-t border-gray-200 pt-6",children:Br.jsxs("div",{className:"flex space-x-3",children:[Br.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-xs font-medium text-white",children:"T"}),Br.jsxs("div",{className:"flex-1",children:[Br.jsx("textarea",{value:a,onChange:e=>n(e.target.value),placeholder:"Escribe tu pregunta o comentario...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"}),Br.jsxs("div",{className:"flex items-center justify-between mt-2",children:[Br.jsxs("div",{className:"text-xs text-gray-500",children:[a.length,"/500 caracteres"]}),Br.jsx("button",{onClick:m,disabled:!a.trim()||i||a.length>500,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?Br.jsxs(Br.Fragment,{children:[Br.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enviando..."]}):Br.jsxs(Br.Fragment,{children:[Br.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Enviar"]})})]})]})]})})]}),e.grade_status!==dv.COMPLETED&&Br.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(yf,{className:"h-5 w-5 text-blue-500"}),Br.jsxs("div",{className:"ml-3",children:[Br.jsx("h3",{className:"text-sm font-medium text-blue-800",children:h.description}),Br.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Recibirás una notificación cuando tu assignment sea calificado."})]})]})})]})},xv=({lesson:e,courseId:t,enrollmentId:r,onComplete:s})=>{const{user:a}=al(),[n,i]=ze.useState(null),[o,l]=ze.useState(null),[c,d]=ze.useState(!0),[u,m]=ze.useState(null),[h,x]=ze.useState(!1);ze.useEffect(()=>{p()},[e.assignment_id]);const p=()=>Ae(null,null,function*(){if(!e.assignment_id)return m("Assignment ID no encontrado"),void d(!1);try{d(!0),m(null);const r=yield ov.getAssignment(e.assignment_id);if(i(r),"student"===(null==a?void 0:a.role))try{const t=yield ov.getMySubmission(e.assignment_id);l(t)}catch(t){}}catch(r){m("Error al cargar el assignment")}finally{d(!1)}});return c?Br.jsx("div",{className:"max-w-4xl mx-auto",children:Br.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:Br.jsxs("div",{className:"animate-pulse",children:[Br.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-4"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),Br.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),Br.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})})}):u||!n?Br.jsx("div",{className:"max-w-4xl mx-auto",children:Br.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:Br.jsxs("div",{className:"text-center",children:[Br.jsx(xf,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),Br.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error al cargar assignment"}),Br.jsx("p",{className:"text-gray-600",children:u}),Br.jsx("button",{onClick:p,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Reintentar"})]})})}):"instructor"===(null==a?void 0:a.role)||"admin"===(null==a?void 0:a.role)?Br.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[Br.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[Br.jsxs("div",{className:"flex items-start justify-between mb-4",children:[Br.jsxs("div",{className:"flex-1",children:[Br.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.title}),Br.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[Br.jsxs("div",{className:"flex items-center gap-1",children:[Br.jsx(df,{className:"w-4 h-4"}),Br.jsx("span",{children:"Assignment"})]}),Br.jsxs("div",{className:"flex items-center gap-1",children:[Br.jsx(tf,{className:"w-4 h-4"}),Br.jsxs("span",{children:["Vence: ",n.due_date?new Date(n.due_date).toLocaleDateString("es-ES"):"Sin fecha límite"]})]}),Br.jsxs("div",{className:"flex items-center gap-1",children:[Br.jsx(Af,{className:"w-4 h-4"}),Br.jsxs("span",{children:["Entrega múltiple: ",n.allow_multiple_submissions?"Sí":"No"]})]})]})]}),Br.jsx("div",{className:"flex gap-2",children:Br.jsx("button",{onClick:()=>x(!h),className:"px-4 py-2 rounded-lg font-medium transition-colors "+(h?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:h?"Ver Descripción":"Ver Entregas"})})]}),!h&&Br.jsx("div",{className:"prose max-w-none",children:Br.jsx("div",{dangerouslySetInnerHTML:{__html:n.description}})})]}),h?Br.jsx(mv,{assignment:n,submissions:[]}):Br.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:Br.jsxs("div",{className:"flex items-start gap-3",children:[Br.jsx($g,{className:"w-6 h-6 text-blue-600 mt-1"}),Br.jsxs("div",{children:[Br.jsx("h3",{className:"font-medium text-blue-900 mb-1",children:"Vista de Instructor"}),Br.jsx("p",{className:"text-blue-800 text-sm",children:'Los estudiantes verán aquí la interfaz de entrega. Usa el botón "Ver Entregas" para revisar y calificar las submissions.'})]})]})})]}):Br.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[Br.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[Br.jsxs("div",{className:"mb-4",children:[Br.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.title}),Br.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[Br.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[Br.jsxs("div",{className:"flex items-center gap-1",children:[Br.jsx(df,{className:"w-4 h-4 text-gray-500"}),Br.jsx("span",{className:"text-gray-600",children:"Assignment"})]}),n.due_date&&Br.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${(e=>{const t=new Date(e),r=new Date,s=t.getTime()-r.getTime(),a=Math.ceil(s/864e5);return a<0?"text-red-600 bg-red-100":a<=1?"text-orange-600 bg-orange-100":a<=3?"text-yellow-600 bg-yellow-100":"text-blue-600 bg-blue-100"})(n.due_date)}`,children:[Br.jsx(tf,{className:"w-4 h-4 inline mr-1"}),(e=>{const t=new Date(e),r=new Date,s=t.getTime()-r.getTime(),a=Math.ceil(s/864e5);return a<0?`Vencido hace ${Math.abs(a)} días`:0===a?"Vence hoy":1===a?"Vence mañana":`Vence en ${a} días`})(n.due_date)]}),Br.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[Br.jsx(Af,{className:"w-4 h-4"}),Br.jsxs("span",{children:["Entrega múltiple: ",n.allow_multiple_submissions?"Sí":"No"]})]})]}),o&&Br.jsxs("div",{className:"px-3 py-1 rounded-full text-xs font-medium "+("submitted"===o.status?"bg-green-100 text-green-800":"graded"===o.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:["submitted"===o.status&&"✓ Entregado","graded"===o.status&&"✓ Calificado","in_progress"===o.status&&"📝 En progreso"]})]})]}),Br.jsx("div",{className:"prose max-w-none border-t pt-4",children:Br.jsx("div",{dangerouslySetInnerHTML:{__html:n.description}})})]}),"graded"===(null==o?void 0:o.status)?Br.jsx(hv,{submission:o,assignment:n}):Br.jsx(uv,{assignment:n,existingSubmission:o||void 0,onSubmissionUpdate:a=>Ae(null,null,function*(){if(l(a),e.assignment_id&&t&&r)try{o||"in_progress"!==a.status||(yield fl.startAssignment(e.id,e.assignment_id,t,r));let n=0;"in_progress"===a.status?n=50:("submitted"===a.status||"graded"===a.status)&&(n=100),yield fl.updateAssignmentProgress(e.id,e.assignment_id,t,r,{progress_percentage:n,time_spent_delta:0,submission_status:a.status}),"submitted"===a.status&&(yield fl.completeAssignment(e.id,e.assignment_id,t,r,a.id),s&&s())}catch(n){}else"submitted"===a.status&&s&&s()})})]})},pv=()=>{var e,t;const{courseId:r}=Xe(),{user:s}=al(),{trackPageView:a,trackTimeOnPage:n}=sv(),i=He(),[o,l]=ze.useState(null),[c,d]=ze.useState(null),[u,m]=ze.useState(0),[h,x]=ze.useState(!0),[p,g]=ze.useState(null),[f,b]=ze.useState({}),[v,y]=ze.useState(0),[j,w]=ze.useState(null),[N,k]=ze.useState(!0),[C,S]=ze.useState(new Set),[E,_]=ze.useState(new Set),[M,I]=ze.useState(!1),[O,T]=ze.useState({}),[L,A]=ze.useState({});ze.useEffect(()=>{r?(D(),R(),P()):(g("ID de curso no válido"),x(!1))},[r]),ze.useEffect(()=>{if(r&&o){a(`course-view-${r}`,{course_id:r,course_title:o.title});return n(`course-view-${r}`)}},[r,null==o?void 0:o.title]),ze.useEffect(()=>{z()},[f]);const D=ze.useCallback(()=>Ae(null,null,function*(){if(r)try{x(!0),g(null);const s=yield fetch(Go(`${Ro}/${r}`),{headers:Qo()});if(!s.ok)throw new Error(`Error ${s.status}: ${s.statusText}`);const a=yield s.json();a.lessons||(a.lessons=[]),l(a);try{const e=yield nv.getCourseStructure(r);d(e),I(e.modules.length>0),e.modules.length>0&&_(new Set([e.modules[0].id]))}catch(e){I(!1)}const n={},i=new Set;if(a.lessons&&a.lessons.length>0)for(const e of a.lessons)if(("video"===e.lesson_type||"video"===e.content_type)&&e.video_id)try{const t=yield fl.getVideoProgress(e.id,e.video_id||e.id);t&&(n[e.id]=t,t.is_completed&&i.add(e.id))}catch(t){}b(n),S(i)}catch(t){g("Error al cargar el curso")}finally{x(!1)}}),[r]),P=()=>Ae(null,null,function*(){if(r&&s)try{const e=(yield Qb.getUserEnrolledCourses()).find(e=>e.course.id===r);e&&w(e.enrollment.id)}catch(e){}}),R=()=>Ae(null,null,function*(){if(r)try{T({})}catch(e){}}),z=()=>{if(!o||0===o.lessons.length)return void y(0);const e=o.lessons.length,t=C.size/e*100;y(Math.round(t))},$=e=>{m(e)},q=()=>{const e=null==o?void 0:o.lessons[u];e&&(S(t=>new Set([...t,e.id])),u<((null==o?void 0:o.lessons.length)||0)-1&&setTimeout(()=>{m(e=>e+1)},2e3))},F=e=>{const t=Math.floor(e/60),r=e%60;return t>0?`${t}h ${r}m`:`${r}m`};if(h)return Br.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),Br.jsx("p",{className:"text-gray-600",children:"Cargando curso..."})]})});if(p||!o)return Br.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"text-red-500 mb-4",children:Br.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Br.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error al cargar el curso"}),Br.jsx("p",{className:"text-gray-600 mb-4",children:p}),Br.jsx("button",{onClick:()=>i("/platform/courses"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Volver a Cursos"})]})});if(o&&(!o.lessons||0===o.lessons.length))return Br.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:Br.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[Br.jsx("div",{className:"text-yellow-500 mb-6",children:Br.jsx("svg",{className:"mx-auto h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),Br.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Curso en Construcción"}),Br.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[Br.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:o.title}),Br.jsx("p",{className:"text-gray-600 mb-3",children:"Este curso está siendo preparado por nuestro equipo. Las lecciones estarán disponibles muy pronto."}),Br.jsxs("div",{className:"text-sm text-gray-500",children:[Br.jsxs("p",{children:[Br.jsx("strong",{children:"Instructor:"})," ",o.instructor_name]}),Br.jsxs("p",{children:[Br.jsx("strong",{children:"Estado:"})," ",o.total_lessons>0?"Lecciones en desarrollo":"Contenido en preparación"]})]})]}),Br.jsxs("div",{className:"flex gap-3 justify-center",children:[Br.jsx("button",{onClick:()=>i("/platform/courses"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Ver Otros Cursos"}),Br.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors",children:"Actualizar"})]}),Br.jsx("div",{className:"mt-6 text-sm text-gray-500",children:Br.jsx("p",{children:"💡 Te notificaremos cuando el contenido esté listo"})})]})});const B=o.lessons[u];return Br.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[Br.jsx("div",{className:"bg-white shadow-lg transition-all duration-300 "+(N?"w-80":"w-0 overflow-hidden"),children:Br.jsxs("div",{className:"p-4",children:[Br.jsxs("div",{className:"mb-6",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Br.jsx("h1",{className:"text-xl font-bold text-gray-900",children:o.title}),Br.jsx("div",{className:"text-sm text-gray-500",children:o.instructor_name})]}),c&&c.modules.length>0&&Br.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[Br.jsxs("div",{className:"flex items-center gap-1",children:[Br.jsx(Og,{className:"w-4 h-4"}),Br.jsxs("span",{children:[c.modules.length," módulos"]})]}),Br.jsxs("div",{className:"flex items-center gap-1",children:[Br.jsx(tf,{className:"w-4 h-4"}),Br.jsx("span",{children:nv.formatDuration(c.modules.reduce((e,t)=>e+t.estimated_duration,0))})]})]})]}),Br.jsxs("div",{className:"mb-4",children:[Br.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[Br.jsx("span",{children:"Progreso del curso"}),Br.jsxs("span",{children:[v,"%"]})]}),Br.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:Br.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${v}%`}})}),Br.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.size," de ",o.lessons.length," lecciones completadas"]})]}),Br.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-200px)]",children:M&&c?Br.jsx("div",{className:"space-y-2",children:c.modules.map((e,t)=>{const r=E.has(e.id),{moduleIndex:s,lessonIndex:a}=(()=>{if(!c||!(null==o?void 0:o.lessons))return{moduleIndex:-1,lessonIndex:-1};const e=o.lessons[u];if(!e)return{moduleIndex:-1,lessonIndex:-1};for(let t=0;t<c.modules.length;t++){const r=c.modules[t].lessons.findIndex(t=>t.id===e.id);if(-1!==r)return{moduleIndex:t,lessonIndex:r}}return{moduleIndex:-1,lessonIndex:-1}})(),n=t===s;return Br.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[Br.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer transition-colors "+(n?"bg-blue-50 border-l-4 border-l-blue-600":"bg-gray-50 hover:bg-gray-100"),onClick:()=>{return t=e.id,void _(e=>{const r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r});var t},children:[Br.jsxs("div",{className:"flex items-center gap-3",children:[r?Br.jsx(Wg,{className:"w-5 h-5 text-gray-500"}):Br.jsx(Gg,{className:"w-5 h-5 text-gray-500"}),Br.jsx(Og,{className:"w-5 h-5 text-blue-600"}),Br.jsxs("div",{children:[Br.jsx("h3",{className:"font-medium text-gray-900",children:e.title}),Br.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mt-1",children:[Br.jsxs("span",{children:[e.lessons.length," lecciones"]}),e.estimated_duration>0&&Br.jsxs("div",{className:"flex items-center gap-1",children:[Br.jsx(tf,{className:"w-4 h-4"}),Br.jsx("span",{children:nv.formatDuration(e.estimated_duration)})]})]})]})]}),Br.jsxs("div",{className:"flex items-center gap-2",children:[e.is_required&&Br.jsx("span",{className:"bg-red-100 text-red-800 text-xs font-medium px-2 py-0.5 rounded",children:"Obligatorio"}),Br.jsxs("span",{className:"text-sm text-gray-500",children:["Módulo ",e.order]})]})]}),r&&Br.jsx("div",{className:"border-t",children:e.lessons.map((e,r)=>{const s=c.modules.slice(0,t).reduce((e,t)=>e+t.lessons.length,0)+r===a,n=C.has(e.id),i=f[e.id];return Br.jsx("div",{className:"p-4 border-b last:border-b-0 cursor-pointer transition-colors "+(s?"bg-blue-50 border-l-4 border-l-blue-600":"hover:bg-gray-50"),onClick:()=>((e,t)=>{if(!c)return;let r=0;for(let s=0;s<e;s++)r+=c.modules[s].lessons.length;r+=t,m(r)})(t,r),children:Br.jsxs("div",{className:"flex items-start justify-between",children:[Br.jsxs("div",{className:"flex-1",children:[Br.jsxs("div",{className:"flex items-center gap-2 mb-1",children:["video"===e.content_type?Br.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.68L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"})}):Br.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Br.jsxs("span",{className:"text-xs text-gray-500",children:["Lección ",r+1]})]}),Br.jsx("h4",{className:"font-medium "+(s?"text-blue-900":"text-gray-900"),children:e.title}),Br.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Lección ",r+1]})]}),Br.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i&&i.watch_percentage>0&&Br.jsx("div",{className:"w-8 h-2 bg-gray-200 rounded-full overflow-hidden",children:Br.jsx("div",{className:"h-full bg-green-600 transition-all duration-300",style:{width:`${i.watch_percentage}%`}})}),n&&Br.jsx($g,{className:"w-5 h-5 text-green-600"})]})]})},e.id)})})]},e.id)})}):o.lessons.map((e,t)=>{const r=t===u,s=C.has(e.id),a=f[e.id];return Br.jsx("div",{className:"p-4 border-b cursor-pointer transition-colors "+(r?"bg-blue-50 border-l-4 border-l-blue-600":"hover:bg-gray-50"),onClick:()=>$(t),children:Br.jsxs("div",{className:"flex items-start justify-between",children:[Br.jsxs("div",{className:"flex-1",children:[Br.jsxs("div",{className:"flex items-center gap-2 mb-1",children:["video"===e.lesson_type?Br.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.68L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"})}):"assignment"===e.lesson_type?Br.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}):Br.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Br.jsxs("span",{className:"text-xs text-gray-500",children:["Lección ",t+1]})]}),Br.jsx("h3",{className:"font-medium "+(r?"text-blue-900":"text-gray-900"),children:e.title}),Br.jsx("p",{className:"text-xs text-gray-600 mt-1",children:F(e.estimated_duration)}),"video"===e.lesson_type&&a&&Br.jsxs("div",{className:"mt-2",children:[Br.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:Br.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${a.watch_percentage}%`}})}),Br.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round(a.watch_percentage),"% visto"]})]})]}),Br.jsx("div",{className:"ml-2",children:s?Br.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center",children:Br.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}):Br.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full"})})]})},e.id)})})]})}),Br.jsxs("div",{className:"flex-1 flex flex-col",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-4 p-4",children:[Br.jsx("button",{onClick:()=>k(!N),className:"bg-white shadow-lg rounded-lg p-2 hover:bg-gray-50",children:N?Br.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}):Br.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),c&&c.modules.length>0&&Br.jsx("button",{onClick:()=>I(!M),className:"px-3 py-1 text-sm rounded-lg transition-colors "+(M?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:M?"Vista Lista":"Vista Módulos"})]}),Br.jsx("div",{className:"bg-white shadow-sm border-b p-4",children:Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{children:[Br.jsx("h2",{className:"font-semibold text-lg",children:(null==B?void 0:B.title)||"Selecciona una lección"}),Br.jsxs("p",{className:"text-sm text-gray-500",children:["Lección ",u+1," de ",(null==(e=null==o?void 0:o.lessons)?void 0:e.length)||0]})]}),Br.jsx("div",{className:"text-sm text-gray-500",children:null==o?void 0:o.instructor_name})]})}),Br.jsxs("div",{className:"flex items-center justify-between mb-4 p-4",children:[Br.jsx("button",{onClick:()=>$(Math.max(0,u-1)),disabled:0===u,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),Br.jsx("button",{onClick:()=>{var e;return $(Math.min(((null==(e=null==o?void 0:o.lessons)?void 0:e.length)||0)-1,u+1))},disabled:u===((null==(t=null==o?void 0:o.lessons)?void 0:t.length)||0)-1,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"}),Br.jsx("button",{onClick:()=>i("/platform/courses"),className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Salir del Curso"})]}),Br.jsx("div",{className:"flex-1 p-6",children:"assignment"===(null==B?void 0:B.lesson_type)?Br.jsx(xv,{lesson:B,courseId:r,enrollmentId:j||void 0,onComplete:q}):"video"===(null==B?void 0:B.lesson_type)&&B.video_url&&B.video_id?Br.jsxs("div",{className:"max-w-4xl mx-auto",children:[Br.jsx(av,{videoUrl:B.video_url,lessonId:(null==B?void 0:B.id)||"",videoId:(null==B?void 0:B.video_id)||(null==B?void 0:B.id)||"",title:B.title,onProgressUpdate:e=>((e,t)=>{b(r=>Ce(ke({},r),{[e]:t})),t.is_completed&&S(t=>new Set([...t,e]))})(B.id,e),onLessonComplete:q,className:"w-full"}),B.content&&Br.jsxs("div",{className:"mt-6 bg-white rounded-lg p-6 shadow-sm",children:[Br.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Descripción de la lección"}),Br.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:B.content}})]}),O[B.id]&&O[B.id].length>0&&Br.jsxs("div",{className:"mt-6 space-y-4",children:[Br.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[Br.jsx(pg,{className:"h-6 w-6 text-blue-600"}),Br.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Evaluaciones de esta lección"})]}),O[B.id].map(e=>{const t=L[e.id]||[],r=t.length>0?t.reduce((e,t)=>t.score>(e.score||0)?t:e):null;return Br.jsx(iv,{quiz:e,userAttempts:t.length,bestScore:null==r?void 0:r.score,canTake:t.length<e.max_attempts,lastAttemptPassed:(null==r?void 0:r.score)>=e.passing_score},e.id)})]})]}):Br.jsx("div",{className:"max-w-4xl mx-auto",children:Br.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[Br.jsx("h2",{className:"text-2xl font-bold mb-6",children:null==B?void 0:B.title}),Br.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:(null==B?void 0:B.content)||""}}),O[(null==B?void 0:B.id)||""]&&O[(null==B?void 0:B.id)||""].length>0&&Br.jsxs("div",{className:"mt-8 border-t pt-6",children:[Br.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[Br.jsx(pg,{className:"h-6 w-6 text-blue-600"}),Br.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Evaluaciones de esta lección"})]}),Br.jsx("div",{className:"space-y-4",children:O[(null==B?void 0:B.id)||""].map(e=>{const t=L[e.id]||[],r=t.length>0?t.reduce((e,t)=>t.score>(e.score||0)?t:e):null;return Br.jsx(iv,{quiz:e,userAttempts:t.length,bestScore:null==r?void 0:r.score,canTake:t.length<e.max_attempts,lastAttemptPassed:(null==r?void 0:r.score)>=e.passing_score},e.id)})})]}),Br.jsx("div",{className:"mt-8 border-t pt-6",children:Br.jsx("button",{onClick:()=>{B&&(S(e=>new Set([...e,B.id])),q())},disabled:C.has((null==B?void 0:B.id)||""),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:C.has((null==B?void 0:B.id)||"")?"Lección Completada ✓":"Marcar como Completada"})})]})})})]})]})};var gv=(e=>(e.ACTIVE="active",e.COMPLETED="completed",e.EXPIRED="expired",e.CANCELLED="cancelled",e))(gv||{});const fv=({enrollment:e,showProgress:t=!0,showActions:r=!0,onContinue:s,onUnenroll:a,className:n=""})=>{const i=(e=>{switch(e){case gv.ACTIVE:return{label:"Activo",color:"text-green-700 bg-green-100",icon:"✓"};case gv.COMPLETED:return{label:"Completado",color:"text-blue-700 bg-blue-100",icon:"🎓"};case gv.EXPIRED:return{label:"Expirado",color:"text-red-700 bg-red-100",icon:"⏰"};case gv.CANCELLED:return{label:"Cancelado",color:"text-gray-700 bg-gray-100",icon:"❌"};default:return{label:"Desconocido",color:"text-gray-700 bg-gray-100",icon:"?"}}})(e.status),o=Math.round(e.progress),l=e.status===gv.COMPLETED,c=e.status===gv.ACTIVE,d=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"N/A";return Br.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${n}`,children:[Br.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.color}`,children:[Br.jsx("span",{className:"mr-1",children:i.icon}),i.label]}),e.certificate_issued&&Br.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-yellow-700 bg-yellow-100",children:"🏆 Certificado"})]}),Br.jsx("div",{className:"text-sm text-gray-500",children:d(e.enrolled_at||e.enrollment_date)})]}),t&&Br.jsxs("div",{className:"mb-4",children:[Br.jsxs("div",{className:"flex justify-between items-center mb-1",children:[Br.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progreso del curso"}),Br.jsxs("span",{className:"text-sm text-gray-500",children:[o,"%"]})]}),Br.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:Br.jsx("div",{className:"h-2 rounded-full transition-all duration-300 "+(l?"bg-blue-600":"bg-primary-600"),style:{width:`${o}%`}})}),void 0!==e.completed_lessons_count&&void 0!==e.total_lessons_count&&Br.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[e.completed_lessons_count," de ",e.total_lessons_count," lecciones completadas"]})]}),Br.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[e.last_activity&&Br.jsxs("div",{children:[Br.jsx("span",{className:"text-gray-500",children:"Última actividad:"}),Br.jsx("div",{className:"font-medium",children:d(e.last_activity)})]}),e.expected_completion_date&&Br.jsxs("div",{children:[Br.jsx("span",{className:"text-gray-500",children:"Finalización estimada:"}),Br.jsx("div",{className:"font-medium",children:d(e.expected_completion_date)})]}),void 0!==e.time_spent_minutes&&Br.jsxs("div",{children:[Br.jsx("span",{className:"text-gray-500",children:"Tiempo invertido:"}),Br.jsx("div",{className:"font-medium",children:e.time_spent_minutes>60?`${Math.floor(e.time_spent_minutes/60)}h ${e.time_spent_minutes%60}m`:`${e.time_spent_minutes}m`})]}),e.completion_date&&Br.jsxs("div",{children:[Br.jsx("span",{className:"text-gray-500",children:"Fecha de finalización:"}),Br.jsx("div",{className:"font-medium text-green-600",children:d(e.completion_date)})]})]}),r&&Br.jsxs("div",{className:"flex space-x-2",children:[c&&s&&Br.jsx("button",{onClick:s,className:"flex-1 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 transition-colors font-medium",children:o>0?"Continuar":"Comenzar"}),l&&e.certificate_issued&&Br.jsx("button",{className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors font-medium",onClick:()=>{},children:"Descargar Certificado"}),(c||e.status===gv.EXPIRED)&&a&&Br.jsx("button",{onClick:a,className:"px-4 py-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors font-medium border border-red-300",children:"Desincribirse"})]})]})},bv=()=>{const[e,t]=ze.useState([]),[r,s]=ze.useState(!0),[a,n]=ze.useState(null),[i,o]=ze.useState("all"),l=He();ze.useEffect(()=>{c()},[]);const c=()=>Ae(null,null,function*(){try{s(!0),n(null);const e=yield Qb.getUserEnrolledCourses();t(e)}catch(e){n("Error al cargar tus cursos. Por favor, intenta nuevamente.")}finally{s(!1)}}),d=(()=>{if(!e||!Array.isArray(e))return[];switch(i){case"active":return(Array.isArray(e)?e:[]).filter(e=>e.enrollment.status===gv.ACTIVE);case"completed":return(Array.isArray(e)?e:[]).filter(e=>e.enrollment.status===gv.COMPLETED);default:return Array.isArray(e)?e:[]}})(),u=(()=>{if(!e||!Array.isArray(e))return{active:0,completed:0,total:0};return{active:(Array.isArray(e)?e:[]).filter(e=>e.enrollment.status===gv.ACTIVE).length,completed:(Array.isArray(e)?e:[]).filter(e=>e.enrollment.status===gv.COMPLETED).length,total:e.length}})();return r?Br.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:Br.jsx("div",{className:"max-w-6xl mx-auto",children:Br.jsxs("div",{className:"text-center py-12",children:[Br.jsx("div",{className:"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),Br.jsx("p",{className:"text-gray-600",children:"Cargando tus cursos..."})]})})}):a?Br.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:Br.jsx("div",{className:"max-w-6xl mx-auto",children:Br.jsxs("div",{className:"text-center py-12",children:[Br.jsx("div",{className:"text-red-500 text-xl mb-4",children:"❌"}),Br.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error al cargar cursos"}),Br.jsx("p",{className:"text-gray-600 mb-4",children:a}),Br.jsx("button",{onClick:c,className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 transition-colors",children:"Intentar nuevamente"})]})})}):Br.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:Br.jsxs("div",{className:"max-w-6xl mx-auto",children:[Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[Br.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[Br.jsx("div",{className:"text-2xl font-bold text-primary-600",children:u.total}),Br.jsx("div",{className:"text-sm text-gray-500",children:"Total de cursos"})]}),Br.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[Br.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.active}),Br.jsx("div",{className:"text-sm text-gray-500",children:"En progreso"})]}),Br.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[Br.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.completed}),Br.jsx("div",{className:"text-sm text-gray-500",children:"Completados"})]})]}),Br.jsx("div",{className:"mb-6",children:Br.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[Br.jsxs("button",{onClick:()=>o("all"),className:"px-4 py-2 rounded-md font-medium transition-colors "+("all"===i?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:["Todos (",u.total,")"]}),Br.jsxs("button",{onClick:()=>o("active"),className:"px-4 py-2 rounded-md font-medium transition-colors "+("active"===i?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:["Activos (",u.active,")"]}),Br.jsxs("button",{onClick:()=>o("completed"),className:"px-4 py-2 rounded-md font-medium transition-colors "+("completed"===i?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:["Completados (",u.completed,")"]})]})}),0===d.length?Br.jsxs("div",{className:"text-center py-12",children:[Br.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📚"}),Br.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"all"===i?"No tienes cursos inscritos":"active"===i?"No tienes cursos activos":"No has completado ningún curso"}),Br.jsx("p",{className:"text-gray-600 mb-6",children:"all"===i?"Explora nuestro catálogo y comienza tu aprendizaje":"active"===i?"Inscríbete en un curso para comenzar tu aprendizaje":"Completa tus cursos activos para ganar certificados"}),"all"===i&&Br.jsx("button",{onClick:()=>l("/platform/courses"),className:"bg-primary-600 text-white px-6 py-3 rounded-md hover:bg-primary-700 transition-colors font-medium",children:"Explorar Cursos"})]}):Br.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:d.map(e=>Br.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[Br.jsxs("div",{className:"p-6 border-b border-gray-100",children:[Br.jsx("div",{className:"flex items-start justify-between mb-3",children:Br.jsx("h3",{className:"text-xl font-semibold text-gray-900 line-clamp-2",children:e.course.title})}),e.course.description&&Br.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:e.course.description}),Br.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[Br.jsxs("span",{children:["📊 ",e.course.level]}),Br.jsxs("span",{children:["🏷️ ",e.course.category]}),e.course.lessons_count&&Br.jsxs("span",{children:["📖 ",e.course.lessons_count," lecciones"]})]})]}),Br.jsx("div",{className:"p-6",children:Br.jsx(fv,{enrollment:e.enrollment,showProgress:!0,showActions:!0,onContinue:()=>{return t=e.course.id,void l(`/platform/courses/${t}/view`);var t},onUnenroll:()=>{return t=e.course.id,r=e.course.title,Ae(null,null,function*(){if(confirm(`¿Estás seguro de que quieres desincribirte del curso "${r}"?`))try{yield Qb.unenrollFromCourse(t),yield c()}catch(e){alert(`Error al desincribirse del curso: ${e.message}`)}});var t,r},className:"border-none bg-gray-50"})})]},e.course.id))})]})})},vv=()=>{const{user:e}=al(),[t,r]=ze.useState(!1),[s,a]=ze.useState("personal");return Br.jsxs("div",{className:"space-y-6 pb-10",children:[Br.jsx("header",{className:"bg-gradient-to-r from-primary-700 to-primary-800 text-white rounded-xl shadow-md p-6 mb-6",children:Br.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsxs("div",{className:"relative",children:[Br.jsx("div",{className:"h-24 w-24 bg-primary-500 rounded-full flex items-center justify-center text-white text-3xl font-bold border-4 border-white",children:(()=>{if(!e)return"U";if(null==e?void 0:e.full_name){const t=e.full_name.split(" ");if(t.length>=2)return`${t[0].charAt(0)}${t[1].charAt(0)}`;if(1===t.length&&t[0])return t[0].charAt(0)}const t=(null==e?void 0:e.firstName)?e.firstName.charAt(0):"",r=(null==e?void 0:e.lastName)?e.lastName.charAt(0):"";return t||r?`${t}${r}`:"U"})()}),(null==e?void 0:e.verified)&&Br.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 rounded-full p-1 border-2 border-white",children:Br.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]})}),Br.jsxs("div",{className:"flex-1 text-center md:text-left",children:[Br.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:e?(null==e?void 0:e.full_name)?e.full_name:(null==e?void 0:e.firstName)||(null==e?void 0:e.lastName)?`${(null==e?void 0:e.firstName)||""} ${(null==e?void 0:e.lastName)||""}`.trim():"Usuario":"Usuario"}),Br.jsx("p",{className:"text-primary-100 mt-1",children:(null==e?void 0:e.email)||"Correo no disponible"}),Br.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-2 mt-3",children:[Br.jsx("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium "+("admin"===(null==e?void 0:e.role)?"bg-red-500 text-white":"bg-primary-500 text-white"),children:"admin"===(null==e?void 0:e.role)?Br.jsxs(Br.Fragment,{children:[Br.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:Br.jsx("path",{fillRule:"evenodd",d:"M10 2L3 7v9a2 2 0 002 2h10a2 2 0 002-2V7l-7-5zM8 13a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})}),"Administrador"]}):"Estudiante"}),(null==e?void 0:e.verified)&&Br.jsxs("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-green-500 text-white",children:[Br.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:Br.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Verificado"]}),Br.jsxs("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-gray-500 text-white",children:[Br.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Desde ",(null==e?void 0:e.createdAt)?new Date(e.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"}):"N/A"]}),"admin"===(null==e?void 0:e.role)&&Br.jsxs("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-yellow-500 text-white",children:[Br.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:Br.jsx("path",{fillRule:"evenodd",d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z",clipRule:"evenodd"})}),"Acceso Total"]})]})]}),Br.jsx("div",{className:"flex-shrink-0 flex flex-col space-y-2",children:Br.jsx("button",{onClick:()=>r(!t),className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200",children:t?"Cancelar":"Editar perfil"})})]})}),Br.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:Br.jsx("div",{className:"border-b border-gray-200",children:Br.jsxs("nav",{className:"-mb-px flex space-x-8",children:[Br.jsx("button",{onClick:()=>a("personal"),className:("personal"===s?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" \n                whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-all duration-200",children:"Información Personal"}),Br.jsx("button",{onClick:()=>a("preferences"),className:("preferences"===s?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" \n                whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-all duration-200",children:"Preferencias"}),Br.jsx("button",{onClick:()=>a("security"),className:("security"===s?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" \n                whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-all duration-200",children:"Seguridad"})]})})}),Br.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:Br.jsxs("div",{className:"p-6",children:["personal"===s&&Br.jsxs("div",{children:[Br.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Información Personal"}),!t&&Br.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:[Br.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Editar"]})]}),t?Br.jsxs("div",{className:"space-y-6 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),Br.jsx("input",{type:"text",id:"firstName",name:"firstName",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",defaultValue:(null==e?void 0:e.firstName)||""})]}),Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),Br.jsx("input",{type:"text",id:"lastName",name:"lastName",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",defaultValue:(null==e?void 0:e.lastName)||""})]}),Br.jsxs("div",{className:"md:col-span-2",children:[Br.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-1",children:"Biografía"}),Br.jsx("textarea",{id:"bio",name:"bio",rows:3,className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Cuéntanos sobre ti"})]})]}),Br.jsxs("div",{className:"flex space-x-3 justify-end",children:[Br.jsx("button",{type:"button",onClick:()=>r(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancelar"}),Br.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Guardar"})]}),Br.jsx("p",{className:"text-xs text-center text-yellow-600 mt-2",children:"La funcionalidad de edición de perfil estará disponible próximamente."})]}):Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Br.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[Br.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Información básica"}),Br.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Br.jsxs("div",{children:[Br.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Nombre completo"}),Br.jsx("p",{className:"mt-1 text-gray-900 font-medium",children:e?(null==e?void 0:e.full_name)?e.full_name:`${(null==e?void 0:e.firstName)||""} ${(null==e?void 0:e.lastName)||""}`.trim():"No disponible"})]}),Br.jsxs("div",{children:[Br.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Correo electrónico"}),Br.jsx("p",{className:"mt-1 text-gray-900 font-medium",children:(null==e?void 0:e.email)||"No disponible"})]}),Br.jsxs("div",{children:[Br.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Estado de cuenta"}),Br.jsx("p",{className:"mt-1",children:Br.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium "+((null==e?void 0:e.verified)?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:(null==e?void 0:e.verified)?"Verificado":"Pendiente de verificación"})})]})]})]}),Br.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[Br.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Información adicional"}),Br.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Br.jsxs("div",{children:[Br.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Fecha de registro"}),Br.jsx("p",{className:"mt-1 text-gray-900 font-medium",children:(null==e?void 0:e.createdAt)?new Date(e.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No disponible"})]}),Br.jsxs("div",{children:[Br.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Biografía"}),Br.jsx("p",{className:"mt-1 text-gray-500 italic",children:"No has proporcionado una biografía aún."})]})]})]})]})]}),"preferences"===s&&Br.jsxs("div",{children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Preferencias de Cuenta"}),Br.jsxs("div",{className:"space-y-6",children:[Br.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[Br.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Notificaciones"}),Br.jsxs("div",{className:"space-y-4",children:[Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Notificaciones por email"}),Br.jsx("p",{className:"text-sm text-gray-500",children:"Recibe actualizaciones sobre nuevos cursos y contenido"})]}),Br.jsx("button",{className:"relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:Br.jsx("span",{className:"translate-x-5 inline-block h-5 w-5 rounded-full bg-white shadow transform transition ease-in-out duration-200"})})]}),Br.jsx("div",{className:"border-t border-gray-200 pt-4",children:Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Recordatorios de cursos"}),Br.jsx("p",{className:"text-sm text-gray-500",children:"Recibe recordatorios para continuar tus cursos"})]}),Br.jsx("button",{className:"relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:Br.jsx("span",{className:"translate-x-0 inline-block h-5 w-5 rounded-full bg-white shadow transform transition ease-in-out duration-200"})})]})}),Br.jsx("div",{className:"border-t border-gray-200 pt-4",children:Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Notificaciones de logros"}),Br.jsx("p",{className:"text-sm text-gray-500",children:"Recibe notificaciones cuando completes logros"})]}),Br.jsx("button",{className:"relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:Br.jsx("span",{className:"translate-x-5 inline-block h-5 w-5 rounded-full bg-white shadow transform transition ease-in-out duration-200"})})]})})]})]}),Br.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[Br.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Preferencias de visualización"}),Br.jsxs("div",{className:"space-y-4",children:[Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Mostrar progreso en dashboard"}),Br.jsx("p",{className:"text-sm text-gray-500",children:"Ver tu progreso de cursos en el panel principal"})]}),Br.jsx("button",{className:"relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:Br.jsx("span",{className:"translate-x-5 inline-block h-5 w-5 rounded-full bg-white shadow transform transition ease-in-out duration-200"})})]}),Br.jsx("div",{className:"border-t border-gray-200 pt-4",children:Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Modo oscuro"}),Br.jsx("p",{className:"text-sm text-gray-500",children:"Cambiar entre modo claro y oscuro"})]}),Br.jsx("button",{className:"relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:Br.jsx("span",{className:"translate-x-0 inline-block h-5 w-5 rounded-full bg-white shadow transform transition ease-in-out duration-200"})})]})})]}),Br.jsx("p",{className:"text-xs text-center text-yellow-600 mt-4",children:"La funcionalidad de preferencias estará disponible próximamente."})]})]})]}),"security"===s&&Br.jsxs("div",{children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Seguridad de la cuenta"}),Br.jsxs("div",{className:"space-y-6",children:[Br.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[Br.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Cambiar contraseña"}),Br.jsxs("div",{className:"space-y-4",children:[Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña actual"}),Br.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md"})]}),Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nueva contraseña"}),Br.jsx("input",{type:"password",id:"newPassword",name:"newPassword",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md"})]}),Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar nueva contraseña"}),Br.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md"})]}),Br.jsx("div",{children:Br.jsx("button",{type:"button",className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Actualizar contraseña"})})]})]}),Br.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[Br.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Verificación en dos pasos"}),Br.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Activa la verificación en dos pasos para añadir una capa extra de seguridad a tu cuenta."}),Br.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Configurar verificación en dos pasos"}),Br.jsx("p",{className:"text-xs text-center text-yellow-600 mt-4",children:"La funcionalidad de seguridad estará disponible próximamente."})]}),Br.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[Br.jsx("h3",{className:"font-medium text-red-800 mb-3",children:"Zona de peligro"}),Br.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Esta acción no se puede deshacer. Eliminará permanentemente tu cuenta y todos tus datos."}),Br.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Eliminar cuenta"})]})]})]})]})}),Br.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:Br.jsxs("div",{className:"p-6",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Actividad reciente"}),Br.jsx("div",{className:"flow-root",children:Br.jsxs("ul",{className:"-mb-8",children:[Br.jsx("li",{children:Br.jsxs("div",{className:"relative pb-8",children:[Br.jsx("span",{className:"absolute top-5 left-5 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}),Br.jsxs("div",{className:"relative flex items-start space-x-3",children:[Br.jsx("div",{className:"relative",children:Br.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center ring-8 ring-white",children:Br.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})}),Br.jsxs("div",{className:"min-w-0 flex-1",children:[Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm",children:Br.jsx("a",{href:"#",className:"font-medium text-primary-600",children:"Inscripción a curso"})}),Br.jsx("p",{className:"mt-0.5 text-sm text-gray-500",children:'Te has inscrito al curso "Introducción a la consultoría estratégica"'})]}),Br.jsx("div",{className:"mt-2 text-sm text-gray-500",children:Br.jsx("p",{children:"Hace 2 días"})})]})]})]})}),Br.jsx("li",{children:Br.jsxs("div",{className:"relative pb-8",children:[Br.jsx("span",{className:"absolute top-5 left-5 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}),Br.jsxs("div",{className:"relative flex items-start space-x-3",children:[Br.jsx("div",{className:"relative",children:Br.jsx("div",{className:"h-10 w-10 rounded-full bg-green-500 flex items-center justify-center ring-8 ring-white",children:Br.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),Br.jsxs("div",{className:"min-w-0 flex-1",children:[Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm",children:Br.jsx("a",{href:"#",className:"font-medium text-primary-600",children:"Verificación de cuenta"})}),Br.jsx("p",{className:"mt-0.5 text-sm text-gray-500",children:"Has verificado tu cuenta correctamente"})]}),Br.jsx("div",{className:"mt-2 text-sm text-gray-500",children:Br.jsx("p",{children:"Hace 3 días"})})]})]})]})}),Br.jsx("li",{children:Br.jsx("div",{className:"relative",children:Br.jsxs("div",{className:"relative flex items-start space-x-3",children:[Br.jsx("div",{className:"relative",children:Br.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center ring-8 ring-white",children:Br.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),Br.jsxs("div",{className:"min-w-0 flex-1",children:[Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm",children:Br.jsx("a",{href:"#",className:"font-medium text-primary-600",children:"Registro de cuenta"})}),Br.jsx("p",{className:"mt-0.5 text-sm text-gray-500",children:"Te has registrado en la plataforma"})]}),Br.jsx("div",{className:"mt-2 text-sm text-gray-500",children:Br.jsx("p",{children:"Hace 7 días"})})]})]})})})]})})]})})]})},yv=()=>{const{user:e}=al(),[t,r]=ze.useState("general"),[s,a]=ze.useState({general:{language:"es",timeZone:"America/Santiago",emailNotifications:!0},notifications:{courseUpdates:!0,newLessons:!0,completionReminders:!0,marketingEmails:!1,achievements:!0},appearance:{theme:"light",fontScale:"medium",reducedMotion:!1,highContrast:!1},advanced:{autoPlay:!0,autoAdvance:!1,downloadTranscripts:!0,showCaptions:!1}}),n=(e,t)=>{a(Ce(ke({},s),{[e]:Ce(ke({},s[e]),{[t]:!s[e][t]})}))},i=(e,t,r)=>{a(Ce(ke({},s),{[e]:Ce(ke({},s[e]),{[t]:r})}))},o=e=>t===e?"text-primary-600 border-b-2 border-primary-600 px-4 py-2 font-medium text-sm":"text-gray-500 hover:text-gray-700 px-4 py-2 font-medium text-sm cursor-pointer border-b-2 border-transparent hover:border-gray-300",l=({label:e,description:t,isChecked:r,onChange:s})=>Br.jsxs("div",{className:"flex items-center justify-between py-3",children:[Br.jsxs("div",{children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e}),t&&Br.jsx("p",{className:"text-xs text-gray-500",children:t})]}),Br.jsxs("button",{type:"button",className:(r?"bg-primary-600":"bg-gray-200")+" relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",role:"switch","aria-checked":r,onClick:s,children:[Br.jsx("span",{className:"sr-only",children:e}),Br.jsx("span",{"aria-hidden":"true",className:(r?"translate-x-5":"translate-x-0")+" pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"})]})]}),c=({label:e,description:t,options:r,value:s,onChange:a})=>Br.jsxs("div",{className:"py-3",children:[Br.jsxs("div",{className:"mb-1",children:[Br.jsx("label",{htmlFor:e.toLowerCase().replace(/\s+/g,"-"),className:"text-sm font-medium text-gray-900",children:e}),t&&Br.jsx("p",{className:"text-xs text-gray-500",children:t})]}),Br.jsx("select",{id:e.toLowerCase().replace(/\s+/g,"-"),name:e.toLowerCase().replace(/\s+/g,"-"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:s,onChange:e=>a(e.target.value),children:r.map(e=>Br.jsx("option",{value:e.value,children:e.label},e.value))})]});return Br.jsx("div",{className:"space-y-6 pb-10",children:Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[Br.jsx("div",{className:"border-b border-gray-200",children:Br.jsxs("nav",{className:"flex -mb-px px-4","aria-label":"Tabs",children:[Br.jsx("button",{onClick:()=>r("general"),className:o("general"),children:"General"}),Br.jsx("button",{onClick:()=>r("notifications"),className:o("notifications"),children:"Notificaciones"}),Br.jsx("button",{onClick:()=>r("appearance"),className:o("appearance"),children:"Apariencia"}),Br.jsx("button",{onClick:()=>r("advanced"),className:o("advanced"),children:"Avanzado"})]})}),Br.jsxs("div",{className:"p-6",children:["general"===t&&Br.jsxs("div",{className:"space-y-4",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2",children:"Configuración General"}),Br.jsx(c,{label:"Idioma",description:"Idioma de la plataforma",options:[{value:"es",label:"Español"},{value:"en",label:"English"},{value:"pt",label:"Português"}],value:s.general.language,onChange:e=>i("general","language",e)}),Br.jsx(c,{label:"Zona horaria",description:"Zona horaria para fechas y horarios",options:[{value:"America/Santiago",label:"Santiago (GMT-4)"},{value:"America/Mexico_City",label:"Ciudad de México (GMT-6)"},{value:"America/Bogota",label:"Bogotá (GMT-5)"},{value:"America/Buenos_Aires",label:"Buenos Aires (GMT-3)"},{value:"Europe/Madrid",label:"Madrid (GMT+1)"}],value:s.general.timeZone,onChange:e=>i("general","timeZone",e)}),Br.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:Br.jsx(l,{label:"Notificaciones por correo",description:"Recibir notificaciones importantes por correo electrónico",isChecked:s.general.emailNotifications,onChange:()=>n("general","emailNotifications")})}),Br.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4 flex justify-end",children:Br.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Guardar cambios"})})]}),"notifications"===t&&Br.jsxs("div",{className:"space-y-4",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2",children:"Preferencias de Notificaciones"}),Br.jsxs("div",{className:"divide-y divide-gray-200",children:[Br.jsx(l,{label:"Actualizaciones de cursos",description:"Recibir notificaciones cuando los cursos se actualicen",isChecked:s.notifications.courseUpdates,onChange:()=>n("notifications","courseUpdates")}),Br.jsx(l,{label:"Nuevas lecciones",description:"Notificaciones cuando se añadan nuevas lecciones a tus cursos",isChecked:s.notifications.newLessons,onChange:()=>n("notifications","newLessons")}),Br.jsx(l,{label:"Recordatorios de finalización",description:"Recordatorios para continuar cursos en progreso",isChecked:s.notifications.completionReminders,onChange:()=>n("notifications","completionReminders")}),Br.jsx(l,{label:"Emails de marketing",description:"Recibir información sobre nuevos cursos y ofertas",isChecked:s.notifications.marketingEmails,onChange:()=>n("notifications","marketingEmails")}),Br.jsx(l,{label:"Logros y certificados",description:"Notificaciones cuando obtengas logros o certificados",isChecked:s.notifications.achievements,onChange:()=>n("notifications","achievements")})]}),Br.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4 flex justify-end",children:Br.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Guardar cambios"})})]}),"appearance"===t&&Br.jsxs("div",{className:"space-y-4",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2",children:"Apariencia y Accesibilidad"}),Br.jsx(c,{label:"Tema",description:"Apariencia visual de la plataforma",options:[{value:"light",label:"Claro"},{value:"dark",label:"Oscuro"},{value:"system",label:"Ajuste del sistema"}],value:s.appearance.theme,onChange:e=>i("appearance","theme",e)}),Br.jsx(c,{label:"Tamaño de fuente",description:"Escala del texto en la plataforma",options:[{value:"small",label:"Pequeño"},{value:"medium",label:"Mediano"},{value:"large",label:"Grande"}],value:s.appearance.fontScale,onChange:e=>i("appearance","fontScale",e)}),Br.jsxs("div",{className:"divide-y divide-gray-200 pt-2",children:[Br.jsx(l,{label:"Movimiento reducido",description:"Reducir o eliminar animaciones y transiciones",isChecked:s.appearance.reducedMotion,onChange:()=>n("appearance","reducedMotion")}),Br.jsx(l,{label:"Alto contraste",description:"Aumentar el contraste para mejor legibilidad",isChecked:s.appearance.highContrast,onChange:()=>n("appearance","highContrast")})]}),Br.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4 flex justify-end",children:Br.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Aplicar cambios"})})]}),"advanced"===t&&Br.jsxs("div",{className:"space-y-4",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2",children:"Configuración Avanzada"}),Br.jsxs("div",{className:"divide-y divide-gray-200",children:[Br.jsx(l,{label:"Reproducción automática",description:"Reproducir videos automáticamente al cargar lecciones",isChecked:s.advanced.autoPlay,onChange:()=>n("advanced","autoPlay")}),Br.jsx(l,{label:"Avance automático",description:"Avanzar automáticamente a la siguiente lección al completar",isChecked:s.advanced.autoAdvance,onChange:()=>n("advanced","autoAdvance")}),Br.jsx(l,{label:"Descargar transcripciones",description:"Habilitar opción para descargar transcripciones de lecciones",isChecked:s.advanced.downloadTranscripts,onChange:()=>n("advanced","downloadTranscripts")}),Br.jsx(l,{label:"Mostrar subtítulos",description:"Mostrar subtítulos en videos automáticamente",isChecked:s.advanced.showCaptions,onChange:()=>n("advanced","showCaptions")})]}),Br.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[Br.jsx("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Datos del curso"}),Br.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[Br.jsx("div",{children:Br.jsxs("button",{type:"button",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[Br.jsx("svg",{className:"mr-2 -ml-1 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Exportar datos de progreso"]})}),Br.jsx("div",{children:Br.jsxs("button",{type:"button",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[Br.jsx("svg",{className:"mr-2 -ml-1 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Sincronizar progreso"]})})]})]}),Br.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[Br.jsx("h3",{className:"text-md font-medium text-red-600 mb-2",children:"Zona de peligro"}),Br.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Las siguientes acciones son permanentes y no se pueden deshacer."}),Br.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[Br.jsx("button",{type:"button",className:"inline-flex items-center justify-center px-4 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Reiniciar progreso de cursos"}),Br.jsx("button",{type:"button",className:"inline-flex items-center justify-center px-4 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Eliminar cuenta y datos"})]})]})]})]})]})})};const jv=new class{constructor(){Ee(this,"baseUrl","/certificates")}getUserCertificates(){return Ae(this,null,function*(){var e,t;try{const e=Go(`${this.baseUrl}/user`);return(yield Oo.get(e,{headers:Qo()})).data}catch(r){const s=(null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.detail)||"Error fetching user certificates";throw new Error(s)}})}generateCertificate(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.post(Go(`${this.baseUrl}/generate`),e,{headers:Qo()})).data}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error generating certificate";throw new Error(e)}})}getCertificate(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${this.baseUrl}/${e}/verify`),{headers:Qo()})).data}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error fetching certificate";throw new Error(e)}})}downloadCertificate(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${this.baseUrl}/${e}/download`),{headers:Qo(),responseType:"blob"})).data}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error downloading certificate";throw new Error(e)}})}verifyCertificate(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${this.baseUrl}/verify/${e}`),{headers:Qo()})).data}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error verifying certificate";throw new Error(e)}})}getShareableUrl(e){return`${window.location.origin}/certificates/verify/${e}`}getPreviewUrl(e){return`${this.baseUrl}/${e}/download`}},wv=()=>{const{user:e}=al(),[t,r]=ze.useState([]),[s,a]=ze.useState([]),[n,i]=ze.useState(!0),[o,l]=ze.useState(null),[c,d]=ze.useState("all");ze.useEffect(()=>{Ae(null,null,function*(){if(e)try{i(!0),l(null);const e=yield jv.getUserCertificates();r(e);const t=yield Qb.getUserEnrolledCourses();a(t)}catch(t){l("Error al cargar los certificados"),si.error("Error al cargar los certificados")}finally{i(!1)}})},[e]);const{certificates:u,enrollments:m}=(()=>{if("earned"===c)return{certificates:t,enrollments:[]};if("available"===c){return{certificates:[],enrollments:(Array.isArray(s)?s:[]).filter(e=>e.progress>=100&&!(Array.isArray(t)?t:[]).some(t=>t.enrollmentId===e.id))}}return{certificates:t,enrollments:s}})();return Br.jsxs("div",{className:"space-y-6 pb-10",children:[Br.jsx("header",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:Br.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[Br.jsx("div",{children:Br.jsx("p",{className:"text-gray-600",children:"Accede y descarga los certificados de tus cursos completados"})}),Br.jsx("div",{className:"mt-4 md:mt-0",children:Br.jsxs("select",{id:"filter-status",name:"filter-status",className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm",value:c,onChange:e=>d(e.target.value),children:[Br.jsx("option",{value:"all",children:"Todos los cursos"}),Br.jsx("option",{value:"earned",children:"Certificados obtenidos"}),Br.jsx("option",{value:"available",children:"Disponibles para certificar"})]})})]})}),n?Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[Br.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),Br.jsx("p",{className:"mt-4 text-gray-500",children:"Cargando certificados..."})]}):o?Br.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:Br.jsxs("div",{className:"flex",children:[Br.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:Br.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),Br.jsxs("div",{className:"ml-3",children:[Br.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error al cargar certificados"}),Br.jsx("p",{className:"mt-2 text-sm text-red-700",children:o})]})]})}):Br.jsx(Br.Fragment,{children:u.length>0||"available"===c&&m.length>0?Br.jsxs("div",{className:"space-y-8",children:[u.length>0&&Br.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(e=>Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-200",children:[Br.jsxs("div",{className:"relative aspect-[4/3] bg-primary-50",children:["completed"===e.status?Br.jsx("img",{src:e.image||"/assets/images/certificate-placeholder.jpg",alt:`Certificado de ${e.title}`,className:"w-full h-full object-cover"}):Br.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6 text-center",children:[Br.jsx("div",{className:"mb-4 p-3 bg-primary-100 rounded-full",children:Br.jsx("svg",{className:"h-8 w-8 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),Br.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Certificado pendiente"}),Br.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Completa este curso para obtener tu certificado"})]}),Br.jsx("div",{className:"absolute top-2 right-2",children:Br.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("completed"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"completed"===e.status?"Completado":"En progreso"})})]}),Br.jsxs("div",{className:"p-5",children:[Br.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-2",children:e.title}),"completed"===e.status?Br.jsxs(Br.Fragment,{children:[Br.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[Br.jsx("svg",{className:"h-4 w-4 mr-1 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Br.jsxs("span",{children:["Emitido: ",new Date(e.date).toLocaleDateString()]})]}),Br.jsxs("div",{className:"flex space-x-2",children:[Br.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[Br.jsx("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Descargar PDF"]}),Br.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[Br.jsx("svg",{className:"h-4 w-4 mr-1 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Compartir"]})]})]}):Br.jsxs(Br.Fragment,{children:[Br.jsxs("div",{className:"mb-4",children:[Br.jsx("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:Br.jsxs("span",{children:["Progreso: ",e.progress,"%"]})}),Br.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:Br.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${e.progress}%`}})})]}),Br.jsx("a",{href:`/platform/courses/${e.id}`,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Continuar curso"})]})]})]},e.id))}),"available"===c&&m.length>0&&Br.jsxs("div",{children:[Br.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cursos completados sin certificado"}),Br.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>{var t;return Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[Br.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:(null==(t=e.course)?void 0:t.title)||"Curso"}),Br.jsx("p",{className:"text-sm text-green-600 mb-4",children:"✓ Curso completado al 100%"}),Br.jsx("button",{className:"w-full bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 transition-colors",children:"Generar Certificado"})]},e.id)})})]})]}):Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[Br.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),Br.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No hay certificados disponibles"}),Br.jsx("p",{className:"mt-1 text-gray-500",children:"Completa cursos para obtener tus certificados"}),Br.jsx("div",{className:"mt-6",children:Br.jsx("a",{href:"/platform/courses",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700",children:"Explorar cursos"})})]})}),Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sobre nuestros certificados"}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Br.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[Br.jsx("div",{className:"bg-primary-100 rounded-full p-4 mb-4",children:Br.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),Br.jsx("h3",{className:"font-medium text-gray-900",children:"Reconocimiento de la industria"}),Br.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Nuestros certificados son reconocidos por empresas líderes en el sector"})]}),Br.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[Br.jsx("div",{className:"bg-primary-100 rounded-full p-4 mb-4",children:Br.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),Br.jsx("h3",{className:"font-medium text-gray-900",children:"Verificación digital"}),Br.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Incluyen código QR para verificación instantánea de autenticidad"})]}),Br.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[Br.jsx("div",{className:"bg-primary-100 rounded-full p-4 mb-4",children:Br.jsx("svg",{className:"h-6 w-6 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),Br.jsx("h3",{className:"font-medium text-gray-900",children:"Potencia tu carrera"}),Br.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Compártelos en LinkedIn y otras plataformas profesionales"})]})]})]})]})},Nv=()=>{const{user:e}=al(),[t,r]=ze.useState("week"),s=2,a=5,n=27,i=78,o=34.5,l=87,c={week:[2.5,1.8,3.2,0,4.5,1.2,2],month:[8.5,12.3,10.2,15.7],year:[45,38,52,64,35,42,57,68,48,32,44,34]},d=Math.round(s/a*100),u=Math.round(n/i*100),m=()=>{switch(t){case"week":return["Lun","Mar","Mié","Jue","Vie","Sáb","Dom"];case"month":return["Semana 1","Semana 2","Semana 3","Semana 4"];case"year":return["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]}};return Br.jsxs("div",{className:"space-y-6 pb-10",children:[Br.jsxs("header",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[Br.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mi Progreso"}),Br.jsx("p",{className:"text-gray-600 mt-1",children:"Visualiza tu avance y estadísticas de aprendizaje"})]}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:Br.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Cursos Completados"}),Br.jsxs("div",{className:"flex items-baseline",children:[Br.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s}),Br.jsxs("p",{className:"ml-2 text-sm text-gray-500",children:["de ",a]})]})]})]}),Br.jsxs("div",{className:"mt-4",children:[Br.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:Br.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${d}%`}})}),Br.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[d,"% completado"]})]})]}),Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:Br.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Lecciones Completadas"}),Br.jsxs("div",{className:"flex items-baseline",children:[Br.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n}),Br.jsxs("p",{className:"ml-2 text-sm text-gray-500",children:["de ",i]})]})]})]}),Br.jsxs("div",{className:"mt-4",children:[Br.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:Br.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${u}%`}})}),Br.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[u,"% completado"]})]})]}),Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"p-3 rounded-full bg-purple-100 text-purple-600",children:Br.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Horas de Estudio"}),Br.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o})]})]}),Br.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:Br.jsxs("div",{className:"flex justify-between items-center",children:[Br.jsx("p",{className:"text-xs text-gray-500",children:"Última semana"}),Br.jsxs("p",{className:"text-xs font-medium text-purple-600",children:[Br.jsxs("span",{className:"font-semibold",children:["+",c.week.reduce((e,t)=>e+t,0)]})," horas"]})]})})]}),Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"p-3 rounded-full bg-amber-100 text-amber-600",children:Br.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Puntuación Promedio"}),Br.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[l,"%"]})]})]}),Br.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:Br.jsx("div",{className:"flex justify-between items-center",children:Br.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:Br.jsx("div",{className:"bg-amber-500 h-1.5 rounded-full",style:{width:`${l}%`}})})})})]})]}),Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[Br.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Actividad de Estudio"}),Br.jsx("div",{className:"mt-3 sm:mt-0",children:Br.jsxs("div",{className:"inline-flex rounded-md shadow-sm",children:[Br.jsx("button",{type:"button",onClick:()=>r("week"),className:"px-4 py-2 text-sm font-medium rounded-l-md "+("week"===t?"bg-primary-100 text-primary-700 border border-primary-300":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"Semana"}),Br.jsx("button",{type:"button",onClick:()=>r("month"),className:"px-4 py-2 text-sm font-medium "+("month"===t?"bg-primary-100 text-primary-700 border border-primary-300":"bg-white text-gray-700 border-t border-b border-gray-300 hover:bg-gray-50"),children:"Mes"}),Br.jsx("button",{type:"button",onClick:()=>r("year"),className:"px-4 py-2 text-sm font-medium rounded-r-md "+("year"===t?"bg-primary-100 text-primary-700 border border-primary-300":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"Año"})]})})]}),Br.jsx("div",{className:"mt-6",children:Br.jsx("div",{className:"flex h-60 items-end space-x-2 sm:space-x-4",children:c[t].map((e,r)=>{const s=Math.max(...c[t]),a=Math.round(e/s*100);return Br.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[Br.jsx("div",{className:"w-full relative",children:Br.jsx("div",{className:"w-full bg-primary-100 rounded-t-sm transition-all duration-500",style:{height:`${a}%`,maxHeight:"200px"},children:Br.jsx("div",{className:"absolute bottom-0 w-full bg-primary-500 rounded-t-sm transition-all duration-500",style:{height:`${a}%`}})})}),Br.jsx("div",{className:"text-xs text-gray-500 mt-2 text-center",children:m()[r]}),Br.jsxs("div",{className:"text-xs font-medium text-gray-700 mt-1",children:[e,"h"]})]},r)})})})]}),Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[Br.jsxs("div",{className:"p-6 border-b border-gray-200",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Cursos Recientes"}),Br.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Actividad reciente en tus cursos en progreso"})]}),Br.jsx("div",{className:"overflow-x-auto",children:Br.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[Br.jsx("thead",{className:"bg-gray-50",children:Br.jsxs("tr",{children:[Br.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Curso"}),Br.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Última actividad"}),Br.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progreso"}),Br.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Restante"}),Br.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acción"})]})}),Br.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[{id:1,title:"Introducción a la consultoría estratégica",lastActive:"2025-07-17T10:30:00",progress:100,remainingLessons:0,totalLessons:12},{id:2,title:"Análisis de procesos empresariales",lastActive:"2025-07-15T14:45:00",progress:65,remainingLessons:5,totalLessons:14},{id:3,title:"Optimización de operaciones",lastActive:"2025-07-10T09:15:00",progress:25,remainingLessons:9,totalLessons:12}].map(e=>{return Br.jsxs("tr",{children:[Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Br.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.title})}),Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Br.jsx("div",{className:"text-sm text-gray-500",children:(t=e.lastActive,new Date(t).toLocaleDateString("es-ES",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}))})}),Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"w-full h-1.5 bg-gray-200 rounded-full mr-2 sm:mr-4",children:Br.jsx("div",{className:"h-1.5 bg-primary-600 rounded-full",style:{width:`${e.progress}%`}})}),Br.jsxs("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:[e.progress,"%"]})]})}),Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Br.jsx("div",{className:"text-sm text-gray-500",children:e.remainingLessons>0?`${e.remainingLessons} lecciones`:"Completado"})}),Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Br.jsx("a",{href:`/platform/courses/${e.id}`,className:"text-primary-600 hover:text-primary-900",children:e.progress<100?"Continuar":"Repasar"})})]},e.id);var t})})]})})]}),Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recomendaciones para tu aprendizaje"}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Br.jsxs("div",{className:"flex items-start",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"p-2 bg-indigo-100 rounded-md",children:Br.jsx("svg",{className:"h-5 w-5 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Establece metas diarias"}),Br.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Dedica al menos 20 minutos diarios para mantener consistencia en tu aprendizaje"})]})]}),Br.jsxs("div",{className:"flex items-start",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"p-2 bg-green-100 rounded-md",children:Br.jsx("svg",{className:"h-5 w-5 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Completa los ejercicios prácticos"}),Br.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Los ejercicios prácticos refuerzan tu comprensión del material"})]})]}),Br.jsxs("div",{className:"flex items-start",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"p-2 bg-amber-100 rounded-md",children:Br.jsx("svg",{className:"h-5 w-5 text-amber-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Establece horarios fijos"}),Br.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Asigna bloques específicos de tiempo para maximizar la concentración"})]})]}),Br.jsxs("div",{className:"flex items-start",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"p-2 bg-blue-100 rounded-md",children:Br.jsx("svg",{className:"h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Participa en los foros"}),Br.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Discutir el material con otros estudiantes mejora la retención"})]})]})]})]})]})},kv=({className:e=""})=>{var t,r,s;const[a,n]=ze.useState(null),[i,o]=ze.useState(!0),[l,c]=ze.useState(null);ze.useEffect(()=>{d()},[]);const d=()=>Ae(null,null,function*(){try{o(!0),c(null);const e=yield fl.getUserProgressSummary();n(e)}catch(e){c("Error cargando resumen de progreso")}finally{o(!1)}}),u=e=>new Date(e).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"});if(i)return Br.jsx("div",{className:`bg-white rounded-lg shadow-sm p-6 ${e}`,children:Br.jsxs("div",{className:"animate-pulse",children:[Br.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),Br.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>Br.jsx("div",{className:"h-20 bg-gray-200 rounded"},e))})]})});if(l||!a)return Br.jsx("div",{className:`bg-white rounded-lg shadow-sm p-6 ${e}`,children:Br.jsxs("div",{className:"text-center",children:[Br.jsx("p",{className:"text-red-600 mb-3",children:l||"No hay datos disponibles"}),Br.jsx("button",{onClick:d,className:"text-blue-600 hover:text-blue-700 text-sm",children:"Reintentar"})]})});const{summary:m,recent_courses:h=[]}=a||{summary:null,recent_courses:[]};return Br.jsxs("div",{className:`space-y-6 ${e}`,children:[Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Br.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Mi Progreso de Aprendizaje"}),Br.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[Br.jsx(Vt,{className:"w-4 h-4"}),Br.jsx("span",{children:(null==m?void 0:m.last_activity)?`Última actividad: ${u(m.last_activity)}`:"Sin actividad reciente"})]})]}),Br.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[Br.jsxs("div",{className:"text-center",children:[Br.jsx(nr,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),Br.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(null==m?void 0:m.total_courses_enrolled)||0}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Cursos Inscritos"})]}),Br.jsxs("div",{className:"text-center",children:[Br.jsx(Er,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),Br.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(null==m?void 0:m.courses_completed)||0}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Completados"})]}),Br.jsxs("div",{className:"text-center",children:[Br.jsx(Ht,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),Br.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(e=>{const t=Math.floor(e/3600),r=Math.floor(e%3600/60);return t>0?`${t}h ${r}m`:`${r}m`})((null==m?void 0:m.total_time_spent)||0)}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Tiempo Total"})]}),Br.jsxs("div",{className:"text-center",children:[Br.jsx(Lt,{className:"w-8 h-8 mx-auto mb-2 text-yellow-600"}),Br.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(null==m?void 0:m.certificates_earned)||0}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Certificados"})]})]})]}),Br.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Br.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tasa de Completitud"}),Br.jsx(kr,{className:"w-5 h-5 text-gray-400"})]}),Br.jsxs("div",{className:"relative pt-1",children:[Br.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[Br.jsx("div",{children:Br.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200",children:"Progreso"})}),Br.jsx("div",{className:"text-right",children:Br.jsxs("span",{className:"text-xs font-semibold inline-block text-blue-600",children:[(()=>{const e=null==m?void 0:m.completion_rate;return("number"!=typeof e||isNaN(e)?0:e).toFixed(1)})(),"%"]})})]}),Br.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200",children:Br.jsx("div",{style:{width:`${(()=>{const e=null==m?void 0:m.completion_rate;return"number"!=typeof e||isNaN(e)?0:e})()}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500"})})]}),Br.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[Br.jsxs("div",{className:"flex justify-between",children:[Br.jsx("span",{children:"En progreso:"}),Br.jsx("span",{className:"font-medium",children:(null==m?void 0:m.courses_in_progress)||0})]}),Br.jsxs("div",{className:"flex justify-between",children:[Br.jsx("span",{children:"Sin empezar:"}),Br.jsx("span",{className:"font-medium",children:(null==m?void 0:m.courses_not_started)||0})]}),Br.jsxs("div",{className:"flex justify-between",children:[Br.jsx("span",{children:"Lecciones completadas:"}),Br.jsx("span",{className:"font-medium",children:(null==m?void 0:m.total_lessons_completed)||0})]})]})]}),Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Br.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cursos Recientes"}),Br.jsx(_r,{className:"w-5 h-5 text-gray-400"})]}),h&&h.length>0?Br.jsx("div",{className:"space-y-3",children:h.slice(0,5).map(e=>Br.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[Br.jsxs("div",{className:"flex items-center space-x-3",children:[Br.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:Br.jsx(nr,{className:"w-4 h-4 text-blue-600"})}),Br.jsxs("div",{children:[Br.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Curso ",e.course_id]}),Br.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e.status.replace("_"," ").toLowerCase()})]})]}),Br.jsxs("div",{className:"text-right",children:[Br.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[Math.round(e.progress_percentage),"%"]}),e.last_accessed_at&&Br.jsx("p",{className:"text-xs text-gray-500",children:u(e.last_accessed_at)})]})]},e.course_id))}):Br.jsxs("div",{className:"text-center py-6",children:[Br.jsx(nr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),Br.jsx("p",{className:"text-gray-600",children:"No hay cursos recientes"}),Br.jsx("p",{className:"text-sm text-gray-500",children:"¡Empieza tu primer curso!"})]})]})]}),(null!=(t=null==m?void 0:m.completion_rate)?t:0)>0&&Br.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6",children:Br.jsxs("div",{className:"flex items-center space-x-4",children:[Br.jsx(Er,{className:"w-8 h-8 text-blue-600"}),Br.jsxs("div",{children:[Br.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"¡Buen progreso! 🚀"}),Br.jsx("p",{className:"text-gray-700 mt-1",children:(null!=(r=null==m?void 0:m.completion_rate)?r:0)>=80?"Tienes una excelente tasa de completitud. ¡Sigue así!":(null!=(s=null==m?void 0:m.completion_rate)?s:0)>=50?"Vas por buen camino. ¡Continúa con el siguiente curso!":"Cada paso cuenta. ¡Sigue avanzando en tu aprendizaje!"})]})]})})]})};const Cv=new class{constructor(){Ee(this,"MAX_RETRIES",3),Ee(this,"STORAGE_PREFIX","stegmaier_")}getUserProgress(e){return Ae(this,null,function*(){try{for(let r=0;r<this.MAX_RETRIES;r++)try{const t=`${this.STORAGE_PREFIX}progress_${e}`,r=localStorage.getItem(t);if(r){const e=JSON.parse(r);return this.validateProgressData(e)}break}catch(t){if(r===this.MAX_RETRIES-1)throw t}return{userId:e,totalXP:0,currentLevel:0,completedMissions:[],lastUpdated:(new Date).toISOString()}}catch(t){return{userId:e,totalXP:0,currentLevel:0,completedMissions:[],lastUpdated:(new Date).toISOString()}}})}updateUserXP(e,t){return Ae(this,null,function*(){try{const r=yield this.getUserProgress(e),s=Ce(ke({},r),{totalXP:r.totalXP+t,currentLevel:this.calculateLevel(r.totalXP+t),lastUpdated:(new Date).toISOString()}),a=`${this.STORAGE_PREFIX}progress_${e}`;return localStorage.setItem(a,JSON.stringify(s)),this.dispatchXPUpdateEvent(s),s}catch(r){throw r}})}markOnboardingComplete(e){return Ae(this,null,function*(){try{const t=`${this.STORAGE_PREFIX}onboarding_${e}`;return localStorage.setItem(t,"true"),!0}catch(t){return!1}})}isOnboardingCompleted(e){return Ae(this,null,function*(){try{const t=`${this.STORAGE_PREFIX}onboarding_${e}`;return"true"===localStorage.getItem(t)}catch(t){return!1}})}getMissionProgress(e){return Ae(this,null,function*(){try{return(yield this.getUserProgress(e)).completedMissions||[]}catch(t){return[]}})}saveMissionProgress(e,t){return Ae(this,null,function*(){try{const r=yield this.getUserProgress(e);if(r.completedMissions.includes(t))return r.completedMissions;const s=[...r.completedMissions,t],a=Ce(ke({},r),{completedMissions:s,lastUpdated:(new Date).toISOString()}),n=`${this.STORAGE_PREFIX}progress_${e}`;return localStorage.setItem(n,JSON.stringify(a)),s}catch(r){return[]}})}calculateLevel(e){return Math.floor(Math.sqrt(e/50))}validateProgressData(e){return{userId:e.userId||"",totalXP:"number"==typeof e.totalXP?e.totalXP:0,currentLevel:"number"==typeof e.currentLevel?e.currentLevel:0,completedMissions:Array.isArray(e.completedMissions)?e.completedMissions:[],lastUpdated:e.lastUpdated||(new Date).toISOString()}}dispatchXPUpdateEvent(e){if("undefined"!=typeof window){const t=new CustomEvent("userXPUpdated",{detail:e});window.dispatchEvent(t)}}exportProgressData(e){return Ae(this,null,function*(){try{const t=yield this.getUserProgress(e);return JSON.stringify(t,null,2)}catch(t){return"{}"}})}importProgressData(e,t){return Ae(this,null,function*(){try{const r=JSON.parse(t),s=`${this.STORAGE_PREFIX}progress_${e}`;return localStorage.setItem(s,JSON.stringify(Ce(ke({},r),{userId:e,lastUpdated:(new Date).toISOString()}))),!0}catch(r){return!1}})}},Sv="onboarding_mission_completed",Ev="user_level_up";[{id:"explore_dashboard",title:"Conoce tu Panel de Control ISO",description:"Explora las diferentes secciones de tu dashboard para entender qué información tienes disponible para gestionar tu capacitación ISO.",targetElement:".dashboard-page-container",xpReward:15,type:"read",completionCriteria:"Permanecer en la sección por al menos 10 segundos",businessContext:"El panel de control te proporciona una visión panorámica de tu progreso en la plataforma. Entender esta información es fundamental para gestionar eficientemente tu tiempo de capacitación y preparar estratégicamente tu certificación ISO.",requiredAction:"Observa el dashboard por un momento para familiarizarte con él",minimumTime:1e4,validationRules:{threshold:.5,exactMatch:!1}},{id:"certification_path",title:"Explora tu Ruta de Certificación",description:"Navega a la sección de cursos para conocer tu camino hacia la certificación profesional ISO.",targetElement:'[data-onboarding="nav-item-platform-courses"]',xpReward:20,type:"navigate",completionCriteria:"Navegar a la página de cursos",businessContext:"Las certificaciones ISO son reconocidas internacionalmente y aumentan significativamente tu valor profesional en el mercado. Conocer tu ruta personalizada te ayudará a planificar tu desarrollo profesional a corto y largo plazo.",requiredAction:'Haz clic en "Mis Cursos" en el menú lateral',targetRoute:"/platform/courses",validationRules:{exactMatch:!0,timeout:6e4}},{id:"weekly_challenges",title:"Comprende los Desafíos Empresariales",description:"Interactúa con la sección de desafíos semanales para entender cómo aplicar los conocimientos ISO en situaciones reales de negocio.",targetElement:'[data-onboarding="weekly-challenges"]',xpReward:25,type:"interact",completionCriteria:"Hacer hover y click en al menos un desafío",businessContext:"Los desafíos semanales simulan situaciones reales que enfrentarás en tu rol profesional. Resolverlos te ayudará a desarrollar pensamiento crítico y aplicar normativas ISO en contextos prácticos de negocio.",requiredAction:"Pasa el cursor sobre un desafío y haz clic para ver sus detalles",validationRules:{hoverTime:1e3,requireClick:!0,timeout:3e4}},{id:"profile_setup",title:"Configura tu Perfil Profesional",description:"Completa los datos de tu perfil profesional para personalizar tu experiencia de capacitación y facilitar la conexión con otros profesionales.",targetElement:'[data-onboarding="profile-settings"]',xpReward:20,type:"click",completionCriteria:"Abrir el modal de edición de perfil",businessContext:"Un perfil completo mejora la personalización de tu experiencia y te conecta con otros profesionales del sector. Facilita la formación de redes profesionales y aumenta tu visibilidad en la comunidad especializada en sistemas de gestión.",requiredAction:"Haz clic en el icono de configuración de perfil",validationRules:{preventAutoComplete:!0,timeout:3e4}},{id:"first_competency",title:"Descubre tu Primera Competencia ISO",description:"Abre el primer curso sugerido para familiarizarte con el formato de aprendizaje y los conceptos fundamentales de sistemas ISO.",targetElement:'[data-onboarding="suggested-course"]',xpReward:30,type:"click",completionCriteria:"Abrir el detalle del curso recomendado",businessContext:"Las competencias ISO son habilidades específicas altamente valoradas en roles de gestión, calidad y consultoría. Iniciar con la competencia sugerida establecerá una base sólida para tu desarrollo profesional especializado.",requiredAction:"Haz clic en el curso recomendado para ver su contenido",validationRules:{preventAutoComplete:!0,timeout:3e4}},{id:"weekly_goal",title:"Establece tu Meta de Capacitación",description:"Selecciona un objetivo semanal de tiempo de estudio para mantener un ritmo constante en tu capacitación.",targetElement:'[data-onboarding="learning-goals"]',xpReward:25,type:"click",completionCriteria:"Seleccionar un objetivo semanal",businessContext:"Establecer metas medibles mejora significativamente las tasas de finalización de capacitación. Los profesionales que definen objetivos claros tienen un 76% más de probabilidades de completar su certificación en el tiempo previsto.",requiredAction:"Haz clic en el selector de metas de aprendizaje",validationRules:{preventAutoComplete:!0,timeout:3e4}},{id:"join_community",title:"Únete a la Comunidad Empresarial",description:"Accede a la sección de comunidad para conectar con otros profesionales, consultar dudas y compartir experiencias sobre implementación de sistemas ISO.",targetElement:'[data-onboarding="challenges-nav"]',xpReward:35,type:"navigate",completionCriteria:"Navegar a la sección de comunidad",businessContext:"Las conexiones profesionales son fundamentales para el crecimiento laboral. Nuestra comunidad reúne a consultores, auditores y gerentes de calidad, creando oportunidades de mentoría y colaboración en proyectos reales de implementación ISO.",requiredAction:'Haz clic en "Comunidad" en el menú lateral',targetRoute:"/platform/community",validationRules:{exactMatch:!0,timeout:6e4}}].reduce((e,t)=>e+t.xpReward,0);const _v=(e,t,r)=>{try{"undefined"!=typeof window&&window.analytics&&window.analytics.track(e,ke({missionId:t,timestamp:(new Date).toISOString()},r))}catch(s){}},Mv={titles:["Aprendiz","Consultor","Estratega","Experto","Maestro"]},Iv={barAnimation:{initial:{width:0},animate:e=>({width:`${e}%`,transition:{duration:1,ease:"easeOut"}})},levelPulse:{animate:{scale:[1,1.05,1],transition:{duration:2,repeat:1/0,repeatType:"reverse"}}},containerFadeIn:{initial:{opacity:0},animate:{opacity:1,transition:{duration:.5}}}},Ov=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),Tv=We.memo(({totalXP:e,currentLevel:t,xpForNextLevel:r,currentLevelXP:s,coursesCompleted:a,lessonsCompleted:n,certificates:i})=>{const o=(l=s,(c=r)<=0?100:Math.min(Math.round(l/c*100),100));var l,c;const d=(e=>{const{titles:t}=Mv;let r=0;e>=30?r=4:e>=20?r=3:e>=10?r=2:e>=5&&(r=1);let s=`${t[r]} Nivel ${e}`;return e>=30&&(s=`✨ ${s} ✨`),s})(t),u={courses:Br.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),lessons:Br.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),certificates:Br.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},m=t>=30;return Br.jsxs(ht.div,{className:"w-full bg-white rounded-lg shadow-sm border border-gray-200 p-6 relative overflow-hidden",variants:Iv.containerFadeIn,initial:"initial",animate:"animate",role:"region","aria-label":"Progreso del usuario",children:[Br.jsx(ht.h2,{className:"text-xl font-bold text-gray-800 mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:"Tu progreso general"}),Br.jsxs("div",{className:"w-full flex flex-col lg:flex-row items-center lg:items-start gap-6 mb-4",children:[Br.jsxs(ht.div,{className:"shrink-0 flex flex-col items-center "+(m?"relative":""),variants:Iv.levelPulse,animate:"animate",children:[Br.jsx("div",{className:`\n              w-20 h-20 rounded-full flex items-center justify-center\n              text-white font-bold text-2xl\n              ${m?"bg-gradient-to-br from-gold-400 to-gold-600 shadow-lg shadow-gold-200/40":"bg-gradient-to-br from-primary-500 to-primary-600 shadow-md shadow-primary-200/30"}\n            `,children:t}),m&&Br.jsxs(Br.Fragment,{children:[Br.jsxs(ht.div,{className:"absolute w-full h-full pointer-events-none",animate:{rotate:[0,360],opacity:[.7,.9,.7]},transition:{rotate:{duration:8,repeat:1/0,ease:"linear"},opacity:{duration:3,repeat:1/0,repeatType:"reverse"}},children:[Br.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-2 h-2 bg-accent-300 rounded-full"}),Br.jsx("div",{className:"absolute top-1/2 right-0 translate-x-1/2 -translate-y-1/2 w-2 h-2 bg-accent-400 rounded-full"}),Br.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 w-2 h-2 bg-accent-300 rounded-full"}),Br.jsx("div",{className:"absolute top-1/2 left-0 -translate-x-1/2 -translate-y-1/2 w-2 h-2 bg-accent-400 rounded-full"})]}),Br.jsx(ht.div,{className:"absolute w-28 h-28 rounded-full border-2 border-dashed border-gold-300 pointer-events-none",animate:{rotate:360},transition:{duration:15,repeat:1/0,ease:"linear"}})]}),Br.jsxs("p",{className:"mt-2 text-sm text-gray-600 font-medium",children:[Ov(e)," XP Total"]})]}),Br.jsxs("div",{className:"flex-grow w-full",children:[Br.jsx(ht.h3,{className:`\n              text-lg sm:text-xl font-semibold mb-3 text-center lg:text-left\n              ${m?"text-gold-600":"text-primary-700"}\n            `,initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,delay:.2},children:d}),Br.jsx("div",{className:"w-full mb-3",role:"progressbar","aria-valuenow":o,"aria-valuemin":0,"aria-valuemax":100,children:Br.jsxs("div",{className:"w-full h-5 bg-primary-50 rounded-full overflow-hidden relative",children:[Br.jsx(ht.div,{className:`\n                  h-full rounded-full \n                  ${m?"bg-gradient-to-r from-gold-500 to-accent-500":"bg-gradient-to-r from-primary-600 to-primary-400"}\n                `,custom:o,variants:Iv.barAnimation,initial:"initial",animate:"animate"}),Br.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:Br.jsxs("p",{className:"text-xs font-medium text-gray-800",children:[Ov(s)," / ",Ov(r)," XP"]})})]})}),Br.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-6 mt-4",children:[Br.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center bg-primary-50 p-2 sm:p-3 rounded-lg",children:[Br.jsx("div",{className:"flex justify-center sm:justify-start text-primary-500 mb-1 sm:mb-0 sm:mr-3",children:u.courses}),Br.jsxs("div",{className:"text-center sm:text-left",children:[Br.jsx("p",{className:"text-lg sm:text-xl font-bold text-primary-600",children:a}),Br.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Cursos completados"})]})]}),Br.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center bg-primary-50 p-2 sm:p-3 rounded-lg",children:[Br.jsx("div",{className:"flex justify-center sm:justify-start text-primary-500 mb-1 sm:mb-0 sm:mr-3",children:u.lessons}),Br.jsxs("div",{className:"text-center sm:text-left",children:[Br.jsx("p",{className:"text-lg sm:text-xl font-bold text-primary-600",children:n}),Br.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Lecciones completadas"})]})]}),Br.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center bg-primary-50 p-2 sm:p-3 rounded-lg",children:[Br.jsx("div",{className:"flex justify-center sm:justify-start text-primary-500 mb-1 sm:mb-0 sm:mr-3",children:u.certificates}),Br.jsxs("div",{className:"text-center sm:text-left",children:[Br.jsx("p",{className:"text-lg sm:text-xl font-bold text-primary-600",children:i}),Br.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Certificados obtenidos"})]})]})]})]})]}),m&&Br.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[[...Array(5)].map((e,t)=>Br.jsx(ht.div,{className:"absolute w-1 h-1 rounded-full bg-accent-500",style:{top:20+60*Math.random()+"%",left:10+80*Math.random()+"%"},animate:{y:[0,-15,0],opacity:[0,.8,0],scale:[0,1,0]},transition:{duration:3+2*Math.random(),repeat:1/0,delay:.8*t}},`particle-${t}`)),Br.jsx("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 rounded-full bg-gradient-to-tr from-gold-500/10 to-accent-500/5"}),Br.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 rounded-full bg-gradient-to-br from-primary-500/10 to-transparent"})]})]})});var Lv=(e=>(e[e.NONE=0]="NONE",e[e.LIGHT=1]="LIGHT",e[e.NORMAL=2]="NORMAL",e[e.EXCEPTIONAL=3]="EXCEPTIONAL",e))(Lv||{});const Av=["D","L","M","X","J","V","S"],Dv=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],Pv={[Lv.NONE]:"#ebedf0",[Lv.LIGHT]:"#9be9a8",[Lv.NORMAL]:"#40c463",[Lv.EXCEPTIONAL]:"#30a14e",STREAK:"#216e39"};Lv.NONE,Lv.LIGHT,Lv.NORMAL,Lv.EXCEPTIONAL;const Rv="💪",zv="⭐",$v="🔥",qv={container:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.02}}},item:{hidden:{opacity:0,scale:.8},show:{opacity:1,scale:1}},tooltip:{hidden:{opacity:0,scale:.8,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:15,stiffness:300}},exit:{opacity:0,scale:.8,y:10,transition:{duration:.2}}},pulse:{initial:{scale:1},animate:{scale:[1,1.05,1]}},pulseTransition:{duration:2,repeat:1/0,repeatType:"reverse"}},Fv=e=>`${e.getDate()} ${["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][e.getMonth()]}`,Bv=(e,t)=>{const r=e.toDateString(),s=(Array.isArray(t)?t:[]).filter(e=>e.toDateString()===r);if(0===s.length)return Lv.NONE;const a=15*s.length;return a>60?Lv.EXCEPTIONAL:a>30?Lv.NORMAL:Lv.LIGHT},Wv=(e,t)=>{const r=e.toDateString(),s=(Array.isArray(t)?t:[]).filter(e=>e.toDateString()===r);if(0!==s.length)return 15*s.length},Vv=(e,t,r)=>{if(0===r)return{isStreak:!1};const s=new Date;s.setHours(0,0,0,0);const a=new Date(e);a.setHours(0,0,0,0);const n=new Date(s);if(n.setDate(s.getDate()-r+1),a>=n&&a<=s){if(t.some(e=>{const t=new Date(e);return t.setHours(0,0,0,0),t.getTime()===a.getTime()})){return{isStreak:!0,day:Math.floor((a.getTime()-n.getTime())/864e5)+1}}}return{isStreak:!1}},Uv=e=>e>=30?$v:e>=7?zv:e>=3?Rv:"",Hv=(e,t)=>{const r=(Array.isArray(e)?e:[]).filter(e=>e.level>Lv.NONE).length;return Math.min(Math.round(r/t*100),100)},Gv=We.memo(({studyDates:e,currentStreak:t,longestStreak:r,weeklyGoal:s})=>{const[a,n]=ze.useState(null),i=ze.useMemo(()=>((e,t,r,s)=>{const a=new Date;a.setHours(0,0,0,0);const n=a.getFullYear(),i=new Date(n,0,1),o=new Date(n,11,31),l=new Date(i),c=l.getDay();l.setDate(l.getDate()-c);const d=new Date(o),u=d.getDay();d.setDate(d.getDate()+(6-u));const m=[];let h=[],x=0,p=new Date(l),g=-1;for(;p<=d;){const r=[],i=new Date(p);for(let s=0;s<7;s++){p.getFullYear()===n&&p.getDate()<=7&&0===p.getDay()&&p.getMonth()!==g&&(h.push({label:Dv[p.getMonth()],position:x}),g=p.getMonth());let s,i=Lv.NONE,o={isStreak:!1};p.getFullYear()===n&&p<=a&&(i=Bv(p,e),s=Wv(p,e),o=Vv(p,e,t)),r.push({date:new Date(p),level:i,minutes:s,isCurrentStreak:o.isStreak,isLongestStreak:!1,streakDay:o.day}),p.setDate(p.getDate()+1)}const o=Hv(r,s);m.push({weekNumber:x++,days:r,weekStart:new Date(i),completionPercentage:o})}return{weeks:m,startDate:i,endDate:o,monthLabels:h}})(e,t,0,s),[e,t,r,s]),o=ze.useMemo(()=>{const t=new Date,r=new Date(t),a=t.getDay();r.setDate(t.getDate()-a),r.setHours(0,0,0,0);const n=(Array.isArray(e)?e:[]).filter(e=>e>=r&&e<=t);return Math.min(n.length/s*100,100)},[e,s]),l=ze.useCallback((e,t)=>{const r=t.currentTarget.getBoundingClientRect();n({date:e.date,level:e.level,minutes:e.minutes,streakDay:e.streakDay,isCurrentStreak:e.isCurrentStreak,isLongestStreak:e.isLongestStreak,position:{x:r.left+window.scrollX+r.width/2,y:r.top+window.scrollY-10}})},[]),c=ze.useCallback(()=>{n(null)},[]),d=(e,t=!1)=>{const r=Uv(e),s=e>=7&&!t?"animate":"initial";return Br.jsxs(ht.div,{className:"flex items-center gap-2 px-3 py-2 rounded-full "+(e>0?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-600"),variants:qv.pulse,initial:"initial",animate:s,transition:qv.pulseTransition,children:[r&&Br.jsx("span",{className:"text-lg",children:r}),Br.jsxs("span",{className:"font-semibold text-sm",children:[e," ",t?"días (récord)":"días"]})]})};return Br.jsxs("div",{className:"w-full bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[Br.jsxs("div",{className:"flex flex-col gap-6",children:[Br.jsxs("div",{className:"flex flex-col gap-4",children:[Br.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[Br.jsx("h3",{className:"text-xl font-bold text-gray-900 m-0",children:"Racha de estudio"}),Br.jsx("span",{className:"text-sm text-gray-500",children:(u=i.startDate,m=i.endDate,`${Fv(u)} - ${Fv(m)}`)})]}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Br.jsxs("div",{className:"flex flex-col gap-2",children:[Br.jsx("span",{className:"text-sm text-gray-500",children:"Racha actual"}),d(t)]}),Br.jsxs("div",{className:"flex flex-col gap-2",children:[Br.jsx("span",{className:"text-sm text-gray-500",children:"Mejor racha"}),d(r,!0)]}),Br.jsxs("div",{className:"flex flex-col gap-2",children:[Br.jsxs("span",{className:"text-sm text-gray-500",children:["Meta semanal (",Math.floor(o),"% completado)"]}),Br.jsx("div",{className:"h-8 w-full bg-gray-200 rounded-full overflow-hidden",children:Br.jsx(ht.div,{className:"h-full bg-blue-500 rounded-full",initial:{width:0},animate:{width:`${o}%`},transition:{duration:1,ease:"easeOut"}})})]})]})]}),Br.jsx("div",{className:"w-full overflow-x-auto pb-4",children:Br.jsxs("div",{className:"min-w-max",children:[Br.jsx("div",{className:"flex pl-6 mb-2 h-4 relative w-full",children:i.monthLabels.map((e,t,r)=>{const s=5+t/(r.length-1)*90;return Br.jsx("span",{className:"text-xs font-medium text-gray-700 absolute",style:{left:`${s}%`,transform:"translateX(-50%)",backgroundColor:"white",padding:"0 2px",zIndex:10},children:e.label},`month-${t}`)})}),Br.jsxs("div",{className:"flex",children:[Br.jsx("div",{className:"flex flex-col justify-between pr-2 h-[91px]",children:Av.map((e,t)=>Br.jsx("span",{className:"text-xs text-gray-500 h-3 flex items-center",children:t%2==1?e:""},e))}),Br.jsx("div",{className:"flex-1",children:Br.jsx(ht.div,{className:"grid grid-rows-7 grid-flow-col gap-[2px]",variants:qv.container,initial:"hidden",animate:"show",children:i.weeks.map(e=>e.days.map((t,r)=>{const s=t.date.toDateString()===(new Date).toDateString(),a=t.isCurrentStreak;let n=Pv[t.level];return a&&(n=Pv.STREAK),Br.jsx(ht.div,{variants:qv.item,className:"w-3 h-3 rounded-sm cursor-pointer transition-all duration-200 hover:scale-150 hover:shadow-md hover:z-10 relative "+(s?"ring-1 ring-gray-400 ring-offset-1":""),style:{backgroundColor:n},onMouseEnter:e=>l(t,e),onMouseLeave:c,role:"button","aria-label":`${Fv(t.date)}, nivel de actividad: ${t.level}`,tabIndex:0},`${e.weekNumber}-${r}`)}))})})]})]})}),Br.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-4 text-xs text-gray-600",children:[Br.jsx("span",{children:"Menos"}),Br.jsxs("div",{className:"flex items-center gap-1",children:[Br.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:Pv[Lv.NONE]}}),Br.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:Pv[Lv.LIGHT]}}),Br.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:Pv[Lv.NORMAL]}}),Br.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:Pv[Lv.EXCEPTIONAL]}}),Br.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:Pv.STREAK}})]}),Br.jsx("span",{children:"Más"}),Br.jsx("div",{className:"flex items-center gap-4 ml-4 pl-4 border-l border-gray-200",children:Br.jsxs("div",{className:"flex items-center gap-1",children:[Br.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:Pv.STREAK}}),Br.jsx("span",{children:"Racha actual"})]})})]})]}),Br.jsx(ft,{children:a&&Br.jsxs(ht.div,{className:"fixed z-50 bg-gray-900 text-white text-sm rounded-lg px-3 py-2 shadow-lg pointer-events-none transform -translate-x-1/2 -translate-y-full",style:{left:a.position.x,top:a.position.y},initial:"hidden",animate:"visible",exit:"exit",variants:qv.tooltip,children:[Br.jsxs("div",{className:"flex flex-col gap-1",children:[Br.jsx("span",{className:"font-medium",children:Fv(a.date)}),Br.jsx("span",{className:"text-gray-300",children:a.minutes?`${a.minutes} minutos`:"Sin actividad"}),a.isCurrentStreak&&a.streakDay&&Br.jsxs("span",{className:"text-amber-300 font-medium",children:["Día ",a.streakDay," de racha ",Uv(a.streakDay)]})]}),Br.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full",children:Br.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})})]})})]});var u,m}),Qv=({percentage:e,size:t=120,strokeWidth:r=8,color:s="#3B82F6"})=>{const a=(t-r)/2,n=2*a*Math.PI,i=n,o=n-e/100*n;return Br.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[Br.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[Br.jsx("circle",{cx:t/2,cy:t/2,r:a,stroke:"#E5E7EB",strokeWidth:r,fill:"none"}),Br.jsx("circle",{cx:t/2,cy:t/2,r:a,stroke:s,strokeWidth:r,fill:"none",strokeDasharray:i,strokeDashoffset:o,className:"transition-all duration-500 ease-in-out"})]}),Br.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:Br.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[e.toFixed(0),"%"]})})]})},Xv=()=>{var e,t,r,s,a,n,i,o,l,c,d,u,m,h,x,p,g,f;const{user:b}=al(),{loading:v}=(()=>{const[e,t]=ze.useState(null),[r,s]=ze.useState(!1),[a,n]=ze.useState(null),i=ze.useCallback(()=>Ae(null,null,function*(){try{s(!0),n(null);const e=yield fl.getUserProgressSummary();t(e)}catch(Kw){n("Error cargando resumen de progreso")}finally{s(!1)}}),[]);ze.useEffect(()=>{i()},[i]);const o=ze.useCallback(()=>{var t;return(null==(t=null==e?void 0:e.summary)?void 0:t.completion_rate)||0},[e]),l=ze.useCallback(()=>Array.isArray(null==e?void 0:e.recent_courses)?e.recent_courses.filter(e=>e.status===gl.IN_PROGRESS):[],[e]),c=ze.useCallback(()=>e&&e.summary?{enrolled_courses:e.summary.total_courses_enrolled||0,completed_courses:e.summary.courses_completed||0,in_progress_courses:e.summary.courses_in_progress||0,total_time:e.summary.total_time_spent||0,certificates:e.summary.certificates_earned||0,completion_rate:e.summary.completion_rate||0}:null,[e]);return{summary:e,loading:r,error:a,completionRate:o(),activeCourses:l(),totalStats:c(),reload:i}})(),{hasPendingUpdates:y}=(()=>{const[e,t]=ze.useState(!1),[r,s]=ze.useState(null),a=ze.useCallback(()=>Ae(null,null,function*(){try{t(!0);const e=yield fl.syncPendingProgress();return s(new Date),e}catch(e){throw e}finally{t(!1)}}),[]),n=ze.useCallback(()=>{const e=localStorage.getItem("pending_progress");return!!e&&JSON.parse(e)},[]);return ze.useEffect(()=>{const e=()=>Ae(null,null,function*(){if(n())try{yield a()}catch(e){}});return window.addEventListener("online",e),()=>window.removeEventListener("online",e)},[a,n]),{syncing:e,lastSync:r,syncPendingProgress:a,hasPendingUpdates:n()}})(),[j,w]=ze.useState(null),[N,k]=ze.useState(!0),[C,S]=ze.useState(null),{totalXP:E,currentLevel:_,loading:M}=(({userId:e})=>{const[t,r]=ze.useState(null),[s,a]=ze.useState(!0),[n,i]=ze.useState(null),[o,l]=ze.useState(!1),[c,d]=ze.useState(!1);ze.useEffect(()=>{Ae(null,null,function*(){try{if(!e)return void a(!1);a(!0),i(null);const t=yield Cv.getUserProgress(e);r(t);const s=yield Cv.isOnboardingCompleted(e);l(s),a(!1)}catch(Kw){const t=Kw instanceof Error?Kw:new Error("Unknown error loading experience data");i(t),a(!1)}})},[e]),ze.useEffect(()=>{const s=s=>{const a=s.detail;t&&a.currentLevel>t.currentLevel&&(d(!0),_v(Ev,"level_up",{userId:e,previousLevel:t.currentLevel,newLevel:a.currentLevel,totalXP:a.totalXP})),r(a)};return window.addEventListener("userXPUpdated",s),()=>{window.removeEventListener("userXPUpdated",s)}},[t,e]);const u=ze.useCallback(t=>Ae(null,null,function*(){if(!e)throw new Error("No user ID provided");try{const s=yield Cv.updateUserXP(e,t);return r(s),s}catch(s){throw s}}),[e]),m=ze.useCallback(()=>Ae(null,null,function*(){if(!e)return!1;try{const t=yield Cv.markOnboardingComplete(e);return l(t),t}catch(t){return!1}}),[e]),h=ze.useCallback((s,a)=>Ae(null,null,function*(){if(!e)return[];try{const n=yield Cv.saveMissionProgress(e,s);if(a>0){const t=yield Cv.updateUserXP(e,a);r(t),_v(Sv,s,{userId:e,xpReward:a,totalXP:t.totalXP,currentLevel:t.currentLevel})}else t&&r(Ce(ke({},t),{completedMissions:n}));return n}catch(n){return[]}}),[e,t]),x=ze.useCallback(()=>{if(!t)return 0;const e=t.currentLevel+1;return 50*Math.pow(e,2)},[t]),p=ze.useCallback(()=>{if(!t)return 0;const e=t.totalXP,r=t.currentLevel,s=50*Math.pow(r,2),a=50*Math.pow(r+1,2)-s,n=e-s;return Math.min(100,Math.floor(n/a*100))},[t]),g=ze.useCallback(()=>{d(!1)},[]);return{totalXP:(null==t?void 0:t.totalXP)||0,currentLevel:(null==t?void 0:t.currentLevel)||0,completedMissions:(null==t?void 0:t.completedMissions)||[],isOnboardingComplete:o,isLeveledUp:c,loading:s,error:n,updateUserXP:u,markOnboardingComplete:m,completeMission:h,calculateNextLevelXP:x,calculateLevelProgress:p,resetLevelUp:g}})((null==b?void 0:b.id)?{userId:b.id}:{userId:""}),I=[new Date(2024,0,1),new Date(2024,0,2),new Date(2024,0,5)];ze.useEffect(()=>{b&&O()},[b]);const O=()=>Ae(null,null,function*(){var e,t,r,s,a,n;try{k(!0),S(null);const i=yield hl.getUserAnalytics(),o={period:(null==(e=i.data)?void 0:e.period)||{start_date:(new Date).toISOString(),end_date:(new Date).toISOString(),days:30},user:(null==(t=i.data)?void 0:t.user)||{user_id:(null==b?void 0:b.id)||"",name:(null==b?void 0:b.full_name)||(null==b?void 0:b.firstName)||"Usuario",joined_date:(new Date).toISOString()},learning:(null==(r=i.data)?void 0:r.learning)||{courses_enrolled:0,courses_completed:0,courses_in_progress:0,completion_rate:0,total_watch_time_seconds:0,total_watch_time_hours:0,average_session_duration:0},engagement:(null==(s=i.data)?void 0:s.engagement)||{login_streak:0,total_logins:0,last_login:(new Date).toISOString(),favorite_category:"General",activity_score:0,lessons_completed:0},achievements:(null==(a=i.data)?void 0:a.achievements)||{certificates_earned:0,badges_earned:[],milestones:[]},recent_activity:(null==(n=i.data)?void 0:n.recent_activity)||[]};w(o)}catch(Kw){const t={period:{start_date:(new Date).toISOString(),end_date:(new Date).toISOString(),days:30},user:{user_id:(null==b?void 0:b.id)||"",name:(null==b?void 0:b.full_name)||(null==b?void 0:b.firstName)||"Usuario",joined_date:(new Date).toISOString()},learning:{courses_enrolled:0,courses_completed:0,courses_in_progress:0,completion_rate:0,total_watch_time_seconds:0,total_watch_time_hours:0,average_session_duration:0},engagement:{login_streak:0,total_logins:0,last_login:(new Date).toISOString(),favorite_category:"General",activity_score:0,lessons_completed:0},achievements:{certificates_earned:0,badges_earned:[],milestones:[]},recent_activity:[]};w(t),S("Error cargando estadísticas. Mostrando datos por defecto.")}finally{k(!1)}}),T=e=>{const t=Math.floor(e/3600),r=Math.floor(e%3600/60);return t>0?`${t}h ${r}m`:`${r}m`};if(!b)return Br.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Br.jsxs("div",{className:"text-center",children:[Br.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acceso Requerido"}),Br.jsx("p",{className:"text-gray-600",children:"Debes iniciar sesión para ver tu progreso"})]})});if(v||N)return Br.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),Br.jsx("p",{className:"text-gray-600",children:"Cargando tu progreso..."})]})});const L=(new Date).toLocaleDateString("es-ES",{weekday:"long"}),A=`¡Feliz ${L.charAt(0).toUpperCase()+L.slice(1)}, ${(null==(t=null==(e=null==j?void 0:j.user)?void 0:e.name)?void 0:t.trim())||((null==b?void 0:b.full_name)?b.full_name.split(" ")[0]:"")||(null==b?void 0:b.firstName)||((null==b?void 0:b.email)?b.email.split("@")[0]:"Estudiante")||"Estudiante"}!`;return Br.jsxs("div",{className:"space-y-6 pb-10",children:[y&&Br.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsx(Jt,{className:"w-5 h-5 text-yellow-600"}),Br.jsxs("div",{children:[Br.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Tienes datos sin sincronizar"}),Br.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:'Algunos de tus progresos se guardaron offline. Haz clic en "Sincronizar datos" para subirlos.'})]})]})}),Br.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-indigo-500 via-purple-600 to-pink-600 rounded-2xl p-6 md:p-8 text-white mb-8 shadow-lg",children:[Br.jsx("div",{className:"absolute -top-10 -right-10 w-56 h-56 bg-white/10 rounded-full blur-3xl"}),Br.jsx("div",{className:"absolute -bottom-10 -left-10 w-56 h-56 bg-white/10 rounded-full blur-3xl"}),Br.jsxs("div",{className:"flex items-center justify-between relative",children:[Br.jsxs("div",{children:[Br.jsxs("h2",{className:"text-2xl md:text-3xl font-extrabold mb-2",children:[A," 👋"]}),Br.jsx("p",{className:"text-blue-100/90",children:"Es un gran día para aprender. ¡Sigue con tu racha!"})]}),Br.jsxs("div",{className:"text-right",children:[Br.jsx("div",{className:"text-3xl font-bold mb-1",children:(z=(null==(r=null==j?void 0:j.engagement)?void 0:r.login_streak)||0,z>=30?"🔥":z>=14?"⭐":z>=7?"✨":"📚")}),Br.jsxs("div",{className:"text-sm text-blue-100",children:[(null==(s=null==j?void 0:j.engagement)?void 0:s.login_streak)||0," días consecutivos"]})]})]})]}),!M&&Br.jsx("div",{className:"mb-8",children:Br.jsx(Tv,{totalXP:E||0,currentLevel:_||1,xpForNextLevel:1e3,currentLevelXP:E||0,coursesCompleted:(null==(a=null==j?void 0:j.learning)?void 0:a.courses_completed)||0,lessonsCompleted:(null==(n=null==j?void 0:j.engagement)?void 0:n.lessons_completed)||0,certificates:(null==(i=null==j?void 0:j.achievements)?void 0:i.certificates_earned)||0})}),Br.jsx("div",{className:"mb-8",children:Br.jsx(Gv,{studyDates:I,currentStreak:(null==(o=null==j?void 0:j.engagement)?void 0:o.login_streak)||0,longestStreak:(null==(l=null==j?void 0:j.engagement)?void 0:l.login_streak)||0,weeklyGoal:5})}),Br.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[Br.jsxs("div",{className:"bg-white/95 backdrop-blur p-6 rounded-xl shadow-lg ring-1 ring-black/5 text-center transform transition duration-200 hover:-translate-y-0.5 hover:shadow-xl",children:[Br.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 text-gray-900",children:[Br.jsx(Lt,{className:"w-5 h-5 text-green-600"}),Br.jsx("h3",{className:"text-lg font-semibold",children:"Tasa de Finalización"})]}),Br.jsx(Qv,{percentage:null!=(R=null==(P=null==j?void 0:j.learning)?void 0:P.completion_rate)?R:0,color:"#10B981"}),Br.jsx("div",{className:"mt-4",children:Br.jsxs("p",{className:"text-sm text-gray-600",children:[(null==(c=null==j?void 0:j.learning)?void 0:c.courses_completed)||0," de ",(null==(d=null==j?void 0:j.learning)?void 0:d.courses_enrolled)||0," cursos completados"]})})]}),Br.jsxs("div",{className:"bg-white/95 backdrop-blur p-6 rounded-xl shadow-lg ring-1 ring-black/5 text-center transform transition duration-200 hover:-translate-y-0.5 hover:shadow-xl",children:[Br.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 text-gray-900",children:[Br.jsx(fr,{className:"w-5 h-5 text-amber-500"}),Br.jsx("h3",{className:"text-lg font-semibold",children:"Puntuación de Actividad"})]}),Br.jsx(Qv,{percentage:(null==(u=null==j?void 0:j.engagement)?void 0:u.activity_score)||0,color:"#F59E0B"}),Br.jsx("div",{className:"mt-4",children:Br.jsx("p",{className:"text-sm font-medium "+(D=(null==(m=null==j?void 0:j.engagement)?void 0:m.activity_score)||0,D>=80?"text-green-600":D>=60?"text-yellow-600":D>=40?"text-orange-600":"text-red-600"),children:((null==(h=null==j?void 0:j.engagement)?void 0:h.activity_score)||0)>=80?"Muy Activo":((null==(x=null==j?void 0:j.engagement)?void 0:x.activity_score)||0)>=60?"Activo":((null==(p=null==j?void 0:j.engagement)?void 0:p.activity_score)||0)>=40?"Moderado":"Poco Activo"})})]}),Br.jsxs("div",{className:"bg-white/95 backdrop-blur p-6 rounded-xl shadow-lg ring-1 ring-black/5 text-center transform transition duration-200 hover:-translate-y-0.5 hover:shadow-xl",children:[Br.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 text-gray-900",children:[Br.jsx(Ht,{className:"w-5 h-5 text-blue-600"}),Br.jsx("h3",{className:"text-lg font-semibold",children:"Tiempo de Estudio"})]}),Br.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:T((null==(g=null==j?void 0:j.learning)?void 0:g.total_watch_time_seconds)||0)}),Br.jsx("p",{className:"text-sm text-gray-600",children:"Tiempo total invertido"}),Br.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Promedio por sesión: ",T((null==(f=null==j?void 0:j.learning)?void 0:f.average_session_duration)||0)]})]})]}),Br.jsx(kv,{}),Br.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6",children:[Br.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Consejos para mejorar tu progreso"}),Br.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-600",children:[Br.jsxs("div",{children:[Br.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Consistencia"}),Br.jsx("p",{children:"Dedica al menos 15-30 minutos diarios al estudio para mantener el momentum."})]}),Br.jsxs("div",{children:[Br.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Práctica"}),Br.jsx("p",{children:"Aplica lo aprendido en proyectos reales para reforzar los conceptos."})]}),Br.jsxs("div",{children:[Br.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Notas"}),Br.jsx("p",{children:"Toma notas durante los videos para mejorar la retención del conocimiento."})]}),Br.jsxs("div",{children:[Br.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Certificados"}),Br.jsx("p",{children:"Completa los cursos para obtener certificados que validen tu aprendizaje."})]})]})]})]});var D,P,R,z},Kv=()=>{const{user:e}=al(),[t,r]=ze.useState(""),[s,a]=ze.useState({subject:"",message:"",priority:"normal"}),[n,i]=ze.useState(null),[o,l]=ze.useState("idle"),c=([{question:"¿Cómo puedo restablecer mi contraseña?",answer:'Para restablecer tu contraseña, ve a la página de inicio de sesión y haz clic en "Olvidé mi contraseña". Recibirás un correo electrónico con instrucciones para crear una nueva contraseña.'},{question:"¿Cómo descargar mis certificados?",answer:'Puedes descargar tus certificados desde la sección "Mis Certificados" en tu panel de control. Allí encontrarás todos los cursos completados con la opción de descargar el certificado en formato PDF.'},{question:"¿Los cursos tienen fecha de vencimiento?",answer:"No, una vez que compras un curso, tienes acceso a él de forma permanente. Puedes acceder al contenido cuando quieras y cuantas veces lo necesites."},{question:"¿Cómo puedo solicitar una factura por mi compra?",answer:"Para solicitar una factura, envía un correo electrónico a facturacion@example.com con tu nombre completo, número de orden y datos fiscales. Procesaremos tu solicitud en un plazo de 48 horas hábiles."},{question:"¿Puedo acceder a los cursos desde mi dispositivo móvil?",answer:"Sí, nuestra plataforma es completamente responsive y puedes acceder a los cursos desde cualquier dispositivo con conexión a internet: computadoras, tablets y smartphones."},{question:"¿Cuál es la política de reembolso?",answer:"Ofrecemos un período de garantía de 7 días desde la fecha de compra. Si no estás satisfecho con el curso, puedes solicitar un reembolso completo durante este período contactando a nuestro equipo de soporte."},{question:"¿Cómo reporto un problema técnico?",answer:"Si experimentas algún problema técnico, puedes reportarlo a través del formulario de contacto en esta página. Nuestro equipo técnico lo revisará y te responderá lo antes posible."}]||[]).filter(e=>e.question.toLowerCase().includes(t.toLowerCase())||e.answer.toLowerCase().includes(t.toLowerCase())),d=e=>{const{name:t,value:r}=e.target;a(e=>Ce(ke({},e),{[t]:r}))};return Br.jsxs("div",{className:"space-y-6 pb-10",children:[Br.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:Br.jsx("div",{className:"max-w-3xl mx-auto",children:Br.jsxs("div",{className:"flex-1",children:[Br.jsx("label",{htmlFor:"search",className:"sr-only",children:"Buscar ayuda"}),Br.jsxs("div",{className:"relative rounded-md shadow-sm",children:[Br.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:Br.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),Br.jsx("input",{type:"search",name:"search",id:"search",className:"block w-full rounded-md border-gray-300 pl-10 focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Buscar preguntas frecuentes...",value:t,onChange:e=>r(e.target.value)})]})]})})}),Br.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[Br.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[Br.jsx("div",{className:"p-6 border-b border-gray-200",children:Br.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Preguntas Frecuentes"})}),c.length>0?Br.jsx("div",{className:"divide-y divide-gray-200",children:c.map((e,t)=>Br.jsxs("div",{className:"border-b border-gray-200 last:border-b-0",children:[Br.jsxs("button",{onClick:()=>(e=>{i(n===e?null:e)})(t),className:"w-full px-6 py-4 flex justify-between items-center text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-inset",children:[Br.jsx("span",{className:"text-sm md:text-base font-medium text-gray-900",children:e.question}),Br.jsx("svg",{className:"h-5 w-5 text-gray-500 transform transition-transform duration-200 "+(n===t?"rotate-180":""),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n===t&&Br.jsx("div",{className:"px-6 pb-4 pt-0",children:Br.jsx("p",{className:"text-sm text-gray-600",children:e.answer})})]},t))}):Br.jsx("div",{className:"p-6 text-center",children:Br.jsxs("p",{className:"text-gray-500",children:['No se encontraron resultados para "',t,'"']})})]}),Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recursos de ayuda"}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Br.jsxs("a",{href:"#",className:"flex items-start p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"p-2 bg-primary-100 rounded-md",children:Br.jsx("svg",{className:"h-5 w-5 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Guía del usuario"}),Br.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Manual completo de la plataforma de cursos"})]})]}),Br.jsxs("a",{href:"#",className:"flex items-start p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"p-2 bg-primary-100 rounded-md",children:Br.jsx("svg",{className:"h-5 w-5 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Tutoriales en video"}),Br.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Aprende a utilizar todas las funciones"})]})]}),Br.jsxs("a",{href:"#",className:"flex items-start p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"p-2 bg-primary-100 rounded-md",children:Br.jsx("svg",{className:"h-5 w-5 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Base de conocimientos"}),Br.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Artículos detallados sobre cada función"})]})]}),Br.jsxs("a",{href:"#",className:"flex items-start p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"p-2 bg-primary-100 rounded-md",children:Br.jsx("svg",{className:"h-5 w-5 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Comunidad de estudiantes"}),Br.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Resuelve dudas con otros alumnos"})]})]})]})]})]}),Br.jsx("div",{className:"lg:col-span-1",children:Br.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[Br.jsxs("div",{className:"p-6 border-b border-gray-200",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Contacto directo"}),Br.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Envíanos tu consulta y te responderemos lo antes posible"})]}),"success"===o?Br.jsxs("div",{className:"p-6 text-center",children:[Br.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:Br.jsx("svg",{className:"h-6 w-6 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),Br.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-900",children:"¡Mensaje enviado!"}),Br.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Gracias por contactarnos. Te responderemos lo antes posible a tu correo electrónico."}),Br.jsx("div",{className:"mt-6",children:Br.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:()=>l("idle"),children:"Enviar otro mensaje"})})]}):Br.jsxs("form",{onSubmit:e=>{e.preventDefault(),l("loading"),setTimeout(()=>{l("success"),a({subject:"",message:"",priority:"normal"})},1e3)},className:"p-6 space-y-4",children:[Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Asunto"}),Br.jsx("input",{type:"text",name:"subject",id:"subject",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Escribe el asunto de tu consulta",value:s.subject,onChange:d,required:!0})]}),Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Mensaje"}),Br.jsx("textarea",{id:"message",name:"message",rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Describe tu problema o consulta con detalle",value:s.message,onChange:d,required:!0})]}),Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Prioridad"}),Br.jsxs("select",{id:"priority",name:"priority",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:s.priority,onChange:d,children:[Br.jsx("option",{value:"low",children:"Baja - Consulta general"}),Br.jsx("option",{value:"normal",children:"Normal - Necesito ayuda"}),Br.jsx("option",{value:"high",children:"Alta - Problema técnico"}),Br.jsx("option",{value:"urgent",children:"Urgente - No puedo acceder"})]})]}),Br.jsx("div",{className:"pt-2",children:Br.jsx("button",{type:"submit",disabled:"loading"===o,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"loading"===o?Br.jsxs(Br.Fragment,{children:[Br.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Br.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Br.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):"Enviar mensaje"})})]}),Br.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"También puedes contactarnos por:"}),Br.jsxs("ul",{className:"space-y-3",children:[Br.jsxs("li",{className:"flex items-start",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),Br.jsx("span",{className:"ml-3 text-sm text-gray-500",children:"soporte@example.com"})]}),Br.jsxs("li",{className:"flex items-start",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),Br.jsx("span",{className:"ml-3 text-sm text-gray-500",children:"+56 9 5555 5555"})]}),Br.jsxs("li",{className:"flex items-start",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),Br.jsx("span",{className:"ml-3 text-sm text-gray-500",children:"Chat en vivo (L-V 9:00 - 18:00)"})]})]})]})]})})]})]})};var Yv=(e=>(e.MULTIPLE_CHOICE="multiple_choice",e.MULTIPLE_SELECT="multiple_select",e.TRUE_FALSE="true_false",e.FILL_IN_BLANK="fill_in_blank",e.ESSAY="essay",e.ORDERING="ordering",e.MATCHING="matching",e))(Yv||{}),Jv=(e=>(e.DRAFT="draft",e.PUBLISHED="published",e.ARCHIVED="archived",e))(Jv||{}),Zv=(e=>(e.IN_PROGRESS="in_progress",e.COMPLETED="completed",e.SUBMITTED="submitted",e.GRADED="graded",e.EXPIRED="expired",e))(Zv||{});const ey=new class{createQuiz(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.post(Go(Vo),e,{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Failed to create quiz")}})}getQuizzes(e){return Ae(this,null,function*(){var e,t;try{return(yield Oo.get(Go(Vo),{headers:Qo()})).data}catch(r){throw new Error((null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.detail)||"Failed to fetch quizzes")}})}getQuizzesByCourse(e,t=!0){return Ae(this,null,function*(){var r,s;try{return(yield Oo.get(Go(`${Vo}/course/${e}?published_only=${t}`),{headers:Qo()})).data}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Failed to fetch course quizzes")}})}getQuiz(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Vo}/${e}`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Failed to fetch quiz")}})}updateQuiz(e,t){return Ae(this,null,function*(){var r,s;try{return(yield Oo.put(Go(`${Vo}/${e}`),t,{headers:Qo()})).data}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Failed to update quiz")}})}deleteQuiz(e){return Ae(this,null,function*(){var t,r;try{yield Oo.delete(Go(`${Vo}/${e}`),{headers:Qo()})}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Failed to delete quiz")}})}publishQuiz(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.put(Go(`${Vo}/${e}/publish`),{},{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Failed to publish quiz")}})}startQuizAttempt(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.post(Go(`${Vo}/${e}/attempts`),{},{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Failed to start quiz attempt")}})}submitQuizAnswer(e,t){return Ae(this,null,function*(){var r,s;try{return(yield Oo.post(Go(`${Vo}/attempts/${e}/submit`),{answers:t},{headers:Qo()})).data}catch(a){throw new Error((null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||"Failed to submit quiz answers")}})}getQuizAttempt(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Vo}/attempts/${e}`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Failed to fetch quiz attempt")}})}getStudentQuizProgress(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Vo}/${e}/progress`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Failed to fetch quiz progress")}})}getQuizStatistics(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Vo}/${e}/statistics`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Failed to fetch quiz statistics")}})}getStudentAttempts(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Vo}/${e}/my-attempts`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Failed to fetch student attempts")}})}calculateScore(e,t){let r=0;return e.forEach(e=>{const s=t.find(t=>t.id===e.question_id);if(s)switch(s.type){case"multiple_choice":case"true_false":s.correct_answers.includes(e.answer)&&r++;break;case"multiple_select":const t=s.correct_answers||[],a=Array.isArray(e.answer)?e.answer:[e.answer];this.arraysEqual(t.sort(),a.sort())&&r++}}),t.length>0?r/t.length*100:0}validateAnswer(e,t){return!0}formatTimeRemaining(e){return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`}submitAnswer(e,t,r){return Ae(this,null,function*(){const s={question_id:t,answer:r,time_spent:0,created_at:(new Date).toISOString()};return this.submitQuizAnswer(e,[s])})}submitQuizAttempt(e,t){return Ae(this,null,function*(){return{id:"temp-attempt-"+Date.now(),quiz_id:e,student_id:"current-user-id",attempt_number:1,status:Zv.SUBMITTED,started_at:(new Date).toISOString(),submitted_at:(new Date).toISOString(),score:85,score_percentage:85,percentage:85,is_passing:!0,time_spent:300,answers:t,points_earned:17,total_points:20,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}})}getStatusColor(e){switch(e.toLowerCase()){case"published":return"text-green-600 bg-green-50";case"draft":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}}formatTimeLimit(e){if(!e)return"Sin límite";if(e<60)return`${e} min`;const t=Math.floor(e/60),r=e%60;return r>0?`${t}h ${r}min`:`${t}h`}arraysEqual(e,t){return e.length===t.length&&e.every(e=>t.includes(e))}getQuestionTypeLabel(e){return{multiple_choice:"Opción Múltiple",true_false:"Verdadero/Falso",short_answer:"Respuesta Corta",essay:"Ensayo",multiple_select:"Selección Múltiple",matching:"Emparejamiento"}[e]||e}getStatusLabel(e){return{draft:"Borrador",published:"Publicado",archived:"Archivado",in_progress:"En Progreso",completed:"Completado",graded:"Calificado",expired:"Expirado"}[e]||e}},ty=ze.createContext({dragDropManager:void 0});function ry(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var sy="function"==typeof Symbol&&Symbol.observable||"@@observable",ay=function(){return Math.random().toString(36).substring(7).split("").join(".")},ny={INIT:"@@redux/INIT"+ay(),REPLACE:"@@redux/REPLACE"+ay()};function iy(e,t,r){var s;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(ry(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(ry(1));return r(iy)(e,t)}if("function"!=typeof e)throw new Error(ry(2));var a=e,n=t,i=[],o=i,l=!1;function c(){o===i&&(o=i.slice())}function d(){if(l)throw new Error(ry(3));return n}function u(e){if("function"!=typeof e)throw new Error(ry(4));if(l)throw new Error(ry(5));var t=!0;return c(),o.push(e),function(){if(t){if(l)throw new Error(ry(6));t=!1,c();var r=o.indexOf(e);o.splice(r,1),i=null}}}function m(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(ry(7));if(void 0===e.type)throw new Error(ry(8));if(l)throw new Error(ry(9));try{l=!0,n=a(n,e)}finally{l=!1}for(var t=i=o,r=0;r<t.length;r++){(0,t[r])()}return e}return m({type:ny.INIT}),(s={dispatch:m,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(ry(10));a=e,m({type:ny.REPLACE})}})[sy]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(ry(11));function r(){e.next&&e.next(d())}return r(),{unsubscribe:t(r)}}})[sy]=function(){return this},e},s}function oy(e,t,...r){if("undefined"!=typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;e=new Error(t.replace(/%s/g,function(){return r[s++]})),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function ly(e){return"object"==typeof e}const cy="dnd-core/INIT_COORDS",dy="dnd-core/BEGIN_DRAG",uy="dnd-core/PUBLISH_DRAG_SOURCE",my="dnd-core/HOVER",hy="dnd-core/DROP",xy="dnd-core/END_DRAG";function py(e,t){return{type:cy,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const gy={type:cy,payload:{clientOffset:null,sourceClientOffset:null}};function fy(e){return function(t=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:a,getSourceClientOffset:n}=r,i=e.getMonitor(),o=e.getRegistry();e.dispatch(py(a)),function(e,t,r){oy(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(e){oy(r.getSource(e),"Expected sourceIds to be registered.")})}(t,i,o);const l=function(e,t){let r=null;for(let s=e.length-1;s>=0;s--)if(t.canDragSource(e[s])){r=e[s];break}return r}(t,i);if(null==l)return void e.dispatch(gy);let c=null;if(a){if(!n)throw new Error("getSourceClientOffset must be defined");!function(e){oy("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(n),c=n(l)}e.dispatch(py(a,c));const d=o.getSource(l).beginDrag(i,l);if(null==d)return;!function(e){oy(ly(e),"Item must be an object.")}(d),o.pinSource(l);const u=o.getSourceType(l);return{type:dy,payload:{itemType:u,item:d,sourceId:l,clientOffset:a||null,sourceClientOffset:c||null,isSourcePublic:!!s}}}}function by(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){by(e,t,r[t])})}return e}function yy(e){return function(t={}){const r=e.getMonitor(),s=e.getRegistry();!function(e){oy(e.isDragging(),"Cannot call drop while not dragging."),oy(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(r);const a=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(r);a.forEach((a,n)=>{const i=function(e,t,r,s){const a=r.getTarget(e);let n=a?a.drop(s,e):void 0;(function(e){oy(void 0===e||ly(e),"Drop result must either be an object or undefined.")})(n),void 0===n&&(n=0===t?{}:s.getDropResult());return n}(a,n,s,r),o={type:hy,payload:{dropResult:vy({},t,i)}};e.dispatch(o)})}}function jy(e){return function(){const t=e.getMonitor(),r=e.getRegistry();!function(e){oy(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const s=t.getSourceId();if(null!=s){r.getSource(s,!0).endDrag(t,s),r.unpinSource()}return{type:xy}}}function wy(e,t){return null===t?null===e:Array.isArray(e)?e.some(e=>e===t):e===t}function Ny(e){return function(t,{clientOffset:r}={}){!function(e){oy(Array.isArray(e),"Expected targetIds to be an array.")}(t);const s=t.slice(0),a=e.getMonitor(),n=e.getRegistry();return function(e,t,r){for(let s=e.length-1;s>=0;s--){const a=e[s];wy(t.getTargetType(a),r)||e.splice(s,1)}}(s,n,a.getItemType()),function(e,t,r){oy(t.isDragging(),"Cannot call hover while not dragging."),oy(!t.didDrop(),"Cannot call hover after drop.");for(let s=0;s<e.length;s++){const t=e[s];oy(e.lastIndexOf(t)===s,"Expected targetIds to be unique in the passed array.");oy(r.getTarget(t),"Expected targetIds to be registered.")}}(s,a,n),function(e,t,r){e.forEach(function(e){r.getTarget(e).hover(t,e)})}(s,a,n),{type:my,payload:{targetIds:s,clientOffset:r||null}}}}function ky(e){return function(){if(e.getMonitor().isDragging())return{type:uy}}}class Cy{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const r=function(e){return{beginDrag:fy(e),publishDragSource:ky(e),hover:Ny(e),drop:yy(e),endDrag:jy(e)}}(this);return Object.keys(r).reduce((s,a)=>{const n=r[a];var i;return s[a]=(i=n,(...r)=>{const s=i.apply(e,r);void 0!==s&&t(s)}),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function Sy(e,t){return{x:e.x-t.x,y:e.y-t.y}}const Ey=[],_y=[];Ey.__IS_NONE__=!0,_y.__IS_ALL__=!0;class My{subscribeToStateChange(e,t={}){const{handlerIds:r}=t;oy("function"==typeof e,"listener must be a function."),oy(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;return this.store.subscribe(()=>{const t=this.store.getState(),a=t.stateId;try{const n=a===s||a===s+1&&!function(e,t){if(e===Ey)return!1;if(e===_y||void 0===t)return!0;const r=(s=e,t.filter(e=>s.indexOf(e)>-1));var s;return r.length>0}(t.dirtyHandlerIds,r);n||e()}finally{s=a}})}subscribeToOffsetChange(e){oy("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe(()=>{const r=this.store.getState().dragOffset;r!==t&&(t=r,e())})}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return oy(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(oy(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;return wy(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(oy(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:r}=t;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),a=this.getItemType();if(a&&!wy(s,a))return!1;const n=this.getTargetIds();if(!n.length)return!1;const i=n.indexOf(e);return r?i===n.length-1:i>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:s}=e;return t&&r&&s?Sy((n=s,{x:(a=t).x+n.x,y:a.y+n.y}),r):null;var a,n}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:r}=e;return t&&r?Sy(t,r):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const Iy="undefined"!=typeof global?global:self,Oy=Iy.MutationObserver||Iy.WebKitMutationObserver;function Ty(e){return function(){const t=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(t),clearInterval(r),e()}}}const Ly="function"==typeof Oy?function(e){let t=1;const r=new Oy(e),s=document.createTextNode("");return r.observe(s,{characterData:!0}),function(){t=-t,s.data=t}}:Ty;class Ay{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const Dy=new class{enqueueTask(e){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Ly(this.flush),this.requestErrorThrow=Ty(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}},Py=new class{create(e){const t=this.freeTasks,r=t.length?t.pop():new Ay(this.onError,e=>t[t.length]=e);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(Dy.registerPendingError);const Ry="dnd-core/ADD_SOURCE",zy="dnd-core/ADD_TARGET",$y="dnd-core/REMOVE_SOURCE",qy="dnd-core/REMOVE_TARGET";function Fy(e,t){t&&Array.isArray(e)?e.forEach(e=>Fy(e,!1)):oy("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var By,Wy;(Wy=By||(By={})).SOURCE="SOURCE",Wy.TARGET="TARGET";let Vy=0;function Uy(e){const t=(Vy++).toString();switch(e){case By.SOURCE:return`S${t}`;case By.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Hy(e){switch(e[0]){case"S":return By.SOURCE;case"T":return By.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Gy(e,t){const r=e.entries();let s=!1;do{const{done:e,value:[,a]}=r.next();if(a===t)return!0;s=!!e}while(!s);return!1}class Qy{addSource(e,t){Fy(e),function(e){oy("function"==typeof e.canDrag,"Expected canDrag to be a function."),oy("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),oy("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);const r=this.addHandler(By.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Ry,payload:{sourceId:e}}}(r)),r}addTarget(e,t){Fy(e,!0),function(e){oy("function"==typeof e.canDrop,"Expected canDrop to be a function."),oy("function"==typeof e.hover,"Expected hover to be a function."),oy("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);const r=this.addHandler(By.TARGET,e,t);return this.store.dispatch(function(e){return{type:zy,payload:{targetId:e}}}(r)),r}containsHandler(e){return Gy(this.dragSources,e)||Gy(this.dropTargets,e)}getSource(e,t=!1){oy(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return oy(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return oy(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return oy(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Hy(e)===By.SOURCE}isTargetId(e){return Hy(e)===By.TARGET}removeSource(e){var t;oy(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:$y,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},Dy.enqueueTask(Py.create(t))}removeTarget(e){oy(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:qy,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);oy(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){oy(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,r){const s=Uy(e);return this.types.set(s,t),e===By.SOURCE?this.dragSources.set(s,r):e===By.TARGET&&this.dropTargets.set(s,r),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const Xy=(e,t)=>e===t;function Ky(e=Ey,t){switch(t.type){case my:break;case Ry:case zy:case qy:case $y:return Ey;default:return _y}const{targetIds:r=[],prevTargetIds:s=[]}=t.payload,a=function(e,t){const r=new Map,s=e=>{r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(s),t.forEach(s);const a=[];return r.forEach((e,t)=>{1===e&&a.push(t)}),a}(r,s);if(!(a.length>0||!function(e,t,r=Xy){if(e.length!==t.length)return!1;for(let s=0;s<e.length;++s)if(!r(e[s],t[s]))return!1;return!0}(r,s)))return Ey;const n=s[s.length-1],i=r[r.length-1];return n!==i&&(n&&a.push(n),i&&a.push(i)),a}function Yy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Jy={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Zy(e=Jy,t){const{payload:r}=t;switch(t.type){case cy:case dy:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case my:return s=e.clientOffset,a=r.clientOffset,!s&&!a||s&&a&&s.x===a.x&&s.y===a.y?e:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){Yy(e,t,r[t])})}return e}({},e,{clientOffset:r.clientOffset});case xy:case hy:return Jy;default:return e}var s,a}function ej(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){ej(e,t,r[t])})}return e}const rj={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function sj(e=rj,t){const{payload:r}=t;switch(t.type){case dy:return tj({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case uy:return tj({},e,{isSourcePublic:!0});case my:return tj({},e,{targetIds:r.targetIds});case qy:return-1===e.targetIds.indexOf(r.targetId)?e:tj({},e,{targetIds:(s=e.targetIds,a=r.targetId,s.filter(e=>e!==a))});case hy:return tj({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case xy:return tj({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var s,a}function aj(e=0,t){switch(t.type){case Ry:case zy:return e+1;case $y:case qy:return e-1;default:return e}}function nj(e=0){return e+1}function ij(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){ij(e,t,r[t])})}return e}function lj(e={},t){return{dirtyHandlerIds:Ky(e.dirtyHandlerIds,{type:t.type,payload:oj({},t.payload,{prevTargetIds:(r=e,s="dragOperation.targetIds",a=[],s.split(".").reduce((e,t)=>e&&e[t]?e[t]:a||null,r))})}),dragOffset:Zy(e.dragOffset,t),refCount:aj(e.refCount,t),dragOperation:sj(e.dragOperation,t),stateId:nj(e.stateId)};var r,s,a}function cj(e,t=void 0,r={},s=!1){const a=function(e){const t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return iy(lj,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(s),n=new My(a,new Qy(a)),i=new Cy(a,n),o=e(i,t,r);return i.receiveBackend(o),i}function dj(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}let uj=0;const mj=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var hj,xj,pj=ze.memo(function(e){var{children:t}=e,r=dj(e,["children"]);const[s,a]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const t=function(e,t=gj(),r,s){const a=t;a[mj]||(a[mj]={dragDropManager:cj(e,t,r,s)});return a[mj]}(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}(r);return ze.useEffect(()=>{if(a){const e=gj();return++uj,()=>{0===--uj&&(e[mj]=null)}}},[]),Br.jsx(ty.Provider,{value:s,children:t})});function gj(){return"undefined"!=typeof global?global:window}const fj=Re(xj?hj:(xj=1,hj=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var s,a,n;if(Array.isArray(t)){if((s=t.length)!=r.length)return!1;for(a=s;0!==a--;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((s=(n=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=s;0!==a--;)if(!Object.prototype.hasOwnProperty.call(r,n[a]))return!1;for(a=s;0!==a--;){var i=n[a];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r})),bj="undefined"!=typeof window?ze.useLayoutEffect:ze.useEffect;function vj(e,t,r){const[s,a]=function(e,t,r){const[s,a]=ze.useState(()=>t(e)),n=ze.useCallback(()=>{const n=t(e);fj(s,n)||(a(n),r&&r())},[s,e,r]);return bj(n),[s,n]}(e,t,r);return bj(function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(a,{handlerIds:[t]})},[e,a]),s}function yj(e,t,r){return vj(t,e||(()=>({})),()=>r.reconnect())}function jj(e,t){const r=[];return"function"!=typeof e&&r.push(e),ze.useMemo(()=>"function"==typeof e?e():e,r)}function wj(e){return ze.useMemo(()=>e.hooks.dragSource(),[e])}function Nj(e){return ze.useMemo(()=>e.hooks.dragPreview(),[e])}let kj=!1,Cj=!1;class Sj{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){oy(!kj,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return kj=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{kj=!1}}isDragging(){if(!this.sourceId)return!1;oy(!Cj,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Cj=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Cj=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Ej=!1;class _j{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;oy(!Ej,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ej=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ej=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Mj(e,t,r,s){let a;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;const o=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<n.length;l++){const r=n[l];if(!o(r))return!1;const s=e[r],i=t[r];if(a=void 0,!1===a||void 0===a&&s!==i)return!1}return!0}function Ij(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Oj(e){return(t=null,r=null)=>{if(!ze.isValidElement(t)){const s=t;return e(s,r),s}const s=t;!function(e){if("string"==typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(s);return function(e,t){const r=e.ref;return oy("string"!=typeof r,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?ze.cloneElement(e,{ref:e=>{Lj(r,e),Lj(t,e)}}):ze.cloneElement(e,{ref:t})}(s,r?t=>e(t,r):e)}}function Tj(e){const t={};return Object.keys(e).forEach(r=>{const s=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{const e=Oj(s);t[r]=()=>e}}),t}function Lj(e,t){"function"==typeof e?e(t):e.current=t}class Aj{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();r&&this.disconnectDragPreview(),this.handlerId&&(t?r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Mj(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Mj(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Tj({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,Ij(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,Ij(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Dj{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Mj(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Tj({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,Ij(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Pj(){const{dragDropManager:e}=ze.useContext(ty);return oy(null!=e,"Expected drag drop context"),e}class Rj{beginDrag(){const e=this.spec,t=this.monitor;let r=null;return r="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{},null!=r?r:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const r=this.spec,s=this.monitor,{isDragging:a}=r;return a?a(s):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,r=this.connector,{end:s}=e;s&&s(t.getItem(),t),r.reconnect()}constructor(e,t,r){this.spec=e,this.monitor=t,this.connector=r}}function zj(e,t,r){const s=Pj(),a=function(e,t,r){const s=ze.useMemo(()=>new Rj(e,t,r),[t,r]);return ze.useEffect(()=>{s.spec=e},[e]),s}(e,t,r),n=function(e){return ze.useMemo(()=>{const t=e.type;return oy(null!=t,"spec.type must be defined"),t},[e])}(e);bj(function(){if(null!=n){const[e,i]=function(e,t,r){const s=r.getRegistry(),a=s.addSource(e,t);return[a,()=>s.removeSource(a)]}(n,a,s);return t.receiveHandlerId(e),r.receiveHandlerId(e),i}},[s,t,r,a,n])}function $j(e,t){const r=jj(e);oy(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const s=function(){const e=Pj();return ze.useMemo(()=>new Sj(e),[e])}(),a=function(e,t){const r=Pj(),s=ze.useMemo(()=>new Aj(r.getBackend()),[r]);return bj(()=>(s.dragSourceOptions=e||null,s.reconnect(),()=>s.disconnectDragSource()),[s,e]),bj(()=>(s.dragPreviewOptions=t||null,s.reconnect(),()=>s.disconnectDragPreview()),[s,t]),s}(r.options,r.previewOptions);return zj(r,s,a),[yj(r.collect,s,a),wj(a),Nj(a)]}function qj(e){return ze.useMemo(()=>e.hooks.dropTarget(),[e])}class Fj{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function Bj(e,t,r){const s=Pj(),a=function(e,t){const r=ze.useMemo(()=>new Fj(e,t),[t]);return ze.useEffect(()=>{r.spec=e},[e]),r}(e,t),n=function(e){const{accept:t}=e;return ze.useMemo(()=>(oy(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}(e);bj(function(){const[e,i]=function(e,t,r){const s=r.getRegistry(),a=s.addTarget(e,t);return[a,()=>s.removeTarget(a)]}(n,a,s);return t.receiveHandlerId(e),r.receiveHandlerId(e),i},[s,t,a,r,n.map(e=>e.toString()).join("|")])}function Wj(e,t){const r=jj(e),s=function(){const e=Pj();return ze.useMemo(()=>new _j(e),[e])}(),a=function(e){const t=Pj(),r=ze.useMemo(()=>new Dj(t.getBackend()),[t]);return bj(()=>(r.dropTargetOptions=e||null,r.reconnect(),()=>r.disconnectDropTarget()),[e]),r}(r.options);return Bj(r,s,a),[yj(r.collect,s,a),qj(a)]}function Vj(e){let t=null;return()=>(null==t&&(t=e()),t)}class Uj{enter(e){const t=this.entered.length;return this.entered=function(e,t){const r=new Set,s=e=>r.add(e);e.forEach(s),t.forEach(s);const a=[];return r.forEach(e=>a.push(e)),a}(this.entered.filter(t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var r,s;return this.entered=(r=this.entered.filter(this.isNodeInDocument),s=e,r.filter(e=>e!==s)),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Hj{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>null})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];null!=s&&(t[r]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Gj="__NATIVE_FILE__",Qj="__NATIVE_URL__",Xj="__NATIVE_TEXT__",Kj="__NATIVE_HTML__",Yj=Object.freeze(Object.defineProperty({__proto__:null,FILE:Gj,HTML:Kj,TEXT:Xj,URL:Qj},Symbol.toStringTag,{value:"Module"}));function Jj(e,t,r){const s=t.reduce((t,r)=>t||e.getData(r),"");return null!=s?s:r}const Zj={[Gj]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Kj]:{exposeProperties:{html:(e,t)=>Jj(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Qj]:{exposeProperties:{urls:(e,t)=>Jj(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Xj]:{exposeProperties:{text:(e,t)=>Jj(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function ew(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Zj).filter(e=>{const r=Zj[e];return!!(null==r?void 0:r.matchesTypes)&&r.matchesTypes.some(e=>t.indexOf(e)>-1)})[0]||null}const tw=Vj(()=>/firefox/i.test(navigator.userAgent)),rw=Vj(()=>Boolean(window.safari));class sw{interpolate(e){const{xs:t,ys:r,c1s:s,c2s:a,c3s:n}=this;let i=t.length-1;if(e===t[i])return r[i];let o,l=0,c=n.length-1;for(;l<=c;){o=Math.floor(.5*(l+c));const s=t[o];if(s<e)l=o+1;else{if(!(s>e))return r[o];c=o-1}}i=Math.max(0,c);const d=e-t[i],u=d*d;return r[i]+s[i]*d+a[i]*u+n[i]*d*u}constructor(e,t){const{length:r}=e,s=[];for(let m=0;m<r;m++)s.push(m);s.sort((t,r)=>e[t]<e[r]?-1:1);const a=[],n=[];let i,o;for(let m=0;m<r-1;m++)i=e[m+1]-e[m],o=t[m+1]-t[m],a.push(i),n.push(o/i);const l=[n[0]];for(let m=0;m<a.length-1;m++){const e=n[m],t=n[m+1];if(e*t<=0)l.push(0);else{i=a[m];const r=a[m+1],s=i+r;l.push(3*s/((s+r)/e+(s+i)/t))}}l.push(n[n.length-1]);const c=[],d=[];let u;for(let m=0;m<l.length-1;m++){u=n[m];const e=l[m],t=1/a[m],r=e+l[m+1]-u-u;c.push((u-e-r)*t),d.push(r*t*t)}this.xs=e,this.ys=t,this.c1s=l,this.c2s=c,this.c3s=d}}function aw(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return null;const{top:r,left:s}=t.getBoundingClientRect();return{x:s,y:r}}function nw(e){return{x:e.clientX,y:e.clientY}}function iw(e,t,r,s,a){const n="IMG"===(i=t).nodeName&&(tw()||!(null===(o=document.documentElement)||void 0===o?void 0:o.contains(i)));var i,o;const l=aw(n?e:t),c={x:r.x-l.x,y:r.y-l.y},{offsetWidth:d,offsetHeight:u}=e,{anchorX:m,anchorY:h}=s,{dragPreviewWidth:x,dragPreviewHeight:p}=function(e,t,r,s){let a=e?t.width:r,n=e?t.height:s;return rw()&&e&&(n/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:n}}(n,t,d,u),{offsetX:g,offsetY:f}=a,b=0===f||f;return{x:0===g||g?g:new sw([0,.5,1],[c.x,c.x/d*x,c.x+x-d]).interpolate(m),y:b?f:(()=>{let e=new sw([0,.5,1],[c.y,c.y/u*p,c.y+p-u]).interpolate(h);return rw()&&n&&(e+=(window.devicePixelRatio-1)*p),e})()}}let ow=class{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}};function lw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){lw(e,t,r[t])})}return e}class dw{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,r){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);const s=t=>this.handleDragStart(t,e),a=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",s),t.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",s),t.removeEventListener("selectstart",a),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const r=t=>this.handleDragEnter(t,e),s=t=>this.handleDragOver(t,e),a=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",r),t.addEventListener("dragover",s),t.addEventListener("drop",a),()=>{t.removeEventListener("dragenter",r),t.removeEventListener("dragover",s),t.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return cw({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return cw({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Yj).some(t=>Yj[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const r=Zj[e];if(!r)throw new Error(`native type ${e} has no configuration`);const s=new Hj(r);return s.loadDataTransfer(t),s}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout(()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&aw(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const r=nw(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});const{dataTransfer:s}=e,a=ew(s);if(this.monitor.isDragging()){if(s&&"function"==typeof s.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),a=this.sourcePreviewNodes.get(e)||t;if(a){const{anchorX:e,anchorY:n,offsetX:i,offsetY:o}=this.getCurrentSourcePreviewNodeOptions(),l=iw(t,a,r,{anchorX:e,anchorY:n},{offsetX:i,offsetY:o});s.setDragImage(a,l.x,l.y)}}try{null==s||s.setData("application/json",{})}catch(Kw){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(a)this.beginDragNativeItem(a);else{if(s&&!s.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:r}=e,s=ew(r);s&&this.beginDragNativeItem(s,r)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:nw(e)});t.some(e=>this.monitor.canDropOnTarget(e))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{var t;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=nw(e),this.scheduleHover(t);(t||[]).some(e=>this.monitor.canDropOnTarget(e))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;(this.dropTargetIds=[],this.isDraggingNativeItem())?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):ew(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:nw(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new ow(t,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Uj(this.isNodeInDocument)}}const uw=function(e,t,r){return new dw(e,t,r)};var mw,hw;(hw=mw||(mw={})).mouse="mouse",hw.touch="touch",hw.keyboard="keyboard";class xw{get delay(){var e;return null!==(e=this.args.delay)&&void 0!==e?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return null!==(e=this.args.ignoreContextMenu)&&void 0!==e&&e}get enableHoverOutsideTarget(){var e;return null!==(e=this.args.enableHoverOutsideTarget)&&void 0!==e&&e}get enableKeyboardEvents(){var e;return null!==(e=this.args.enableKeyboardEvents)&&void 0!==e&&e}get enableMouseEvents(){var e;return null!==(e=this.args.enableMouseEvents)&&void 0!==e&&e}get enableTouchEvents(){var e;return null===(e=this.args.enableTouchEvents)||void 0===e||e}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,t,r,s;return null!==(s=null!==(r=null===(e=this.args)||void 0===e?void 0:e.delayTouchStart)&&void 0!==r?r:null===(t=this.args)||void 0===t?void 0:t.delay)&&void 0!==s?s:0}get delayMouseStart(){var e,t,r,s;return null!==(s=null!==(r=null===(e=this.args)||void 0===e?void 0:e.delayMouseStart)&&void 0!==r?r:null===(t=this.args)||void 0===t?void 0:t.delay)&&void 0!==s?s:0}get window(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.context)||void 0===e?void 0:e.document)?this.context.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.args)||void 0===e?void 0:e.rootElement)||this.document}constructor(e,t){this.args=e,this.context=t}}const pw=1,gw=0;function fw(e){return void 0===e.button||e.button===gw}function bw(e){return!!e.targetTouches}function vw(e,t){return bw(e)?function(e,t){return 1===e.targetTouches.length?vw(e.targetTouches[0]):t&&1===e.touches.length&&e.touches[0].target===t.target?vw(e.touches[0]):void 0}(e,t):{x:e.clientX,y:e.clientY}}const yw=(()=>{let e=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get:()=>(e=!0,!0)}))}catch(Dn){}return e})(),jw={[mw.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[mw.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[mw.keyboard]:{keydown:"keydown"}};class ww{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:(null===(e=this.dragOverTargetIds)||void 0===e?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(oy(!ww.isSetUp,"Cannot have two Touch backends at the same time."),ww.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(ww.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,t,r,s=!1){const a=yw?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(s){const n=jw[s][t];n&&e.addEventListener(n,r,a)})}removeEventListener(e,t,r,s=!1){const a=yw?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(s){const n=jw[s][t];n&&e.removeEventListener(n,r,a)})}connectDragSource(e,t){const r=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",r),()=>{this.sourceNodes.delete(e),this.removeEventListener(t,"start",r)}}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,t){const r=this.options.rootElement;if(!this.document||!r)return()=>{};const s=s=>{if(!this.document||!r||!this.monitor.isDragging())return;let a;switch(s.type){case jw.mouse.move:a={x:s.clientX,y:s.clientY};break;case jw.touch.move:var n,i;a={x:(null===(n=s.touches[0])||void 0===n?void 0:n.clientX)||0,y:(null===(i=s.touches[0])||void 0===i?void 0:i.clientY)||0}}const o=null!=a?this.document.elementFromPoint(a.x,a.y):void 0,l=o&&t.contains(o);return o===t||l?this.handleMove(s,e):void 0};return this.addEventListener(this.document.body,"move",s),this.targetNodes.set(e,t),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",s))}}getTopMoveStartHandler(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,t,r){this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&function(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return;const{top:r,left:s}=t.getBoundingClientRect();return{x:s,y:r}}(t)},this.handleTopMoveStartCapture=e=>{fw(e)&&(this.moveStartSourceIds=[])},this.handleMoveStart=e=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(e)},this.handleTopMoveStart=e=>{if(!fw(e))return;const t=vw(e);t&&(bw(e)&&(this.lastTargetTouchFallback=e.targetTouches[0]),this._mouseClientOffset=t),this.waitingForDelay=!1},this.handleTopMoveStartDelay=e=>{if(!fw(e))return;const t=e.type===jw.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,e),t),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(e,t)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(t)},this.handleTopMove=e=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:t,dragOverTargetIds:r}=this,s=this.options.enableHoverOutsideTarget,a=vw(e,this.lastTargetTouchFallback);if(!a)return;if(this._isScrolling||!this.monitor.isDragging()&&function(e,t,r,s,a){if(!a)return!1;const n=180*Math.atan2(s-t,r-e)/Math.PI+180;for(let i=0;i<a.length;++i){const e=a[i];if(e&&(null==e.start||n>=e.start)&&(null==e.end||n<=e.end))return!0}return!1}(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,a.x,a.y,this.options.scrollAngleRanges))return void(this._isScrolling=!0);var n,i,o,l;if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&t&&(n=this._mouseClientOffset.x||0,i=this._mouseClientOffset.y||0,o=a.x,l=a.y,Math.sqrt(Math.pow(Math.abs(o-n),2)+Math.pow(Math.abs(l-i),2))>(this.options.touchSlop?this.options.touchSlop:0))&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(t,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const c=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(c),this.actions.publishDragSource(),e.cancelable&&e.preventDefault();const d=(r||[]).map(e=>this.targetNodes.get(e)).filter(e=>!!e),u=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(a.x,a.y,d):this.document.elementsFromPoint(a.x,a.y),m=[];for(const x in u){if(!u.hasOwnProperty(x))continue;let e=u[x];for(null!=e&&m.push(e);e;)e=e.parentElement,e&&-1===m.indexOf(e)&&m.push(e)}const h=m.filter(e=>d.indexOf(e)>-1).map(e=>this._getDropTargetId(e)).filter(e=>!!e).filter((e,t,r)=>r.indexOf(e)===t);if(s)for(const x in this.targetNodes){const e=this.targetNodes.get(x);if(c&&e&&e.contains(c)&&-1===h.indexOf(x)){h.unshift(x);break}}h.reverse(),this.actions.hover(h,{clientOffset:a})},this._getDropTargetId=e=>{const t=this.targetNodes.keys();let r=t.next();for(;!1===r.done;){const s=r.value;if(e===this.targetNodes.get(s))return s;r=t.next()}},this.handleTopMoveEndCapture=e=>{this._isScrolling=!1,this.lastTargetTouchFallback=void 0,function(e){return void 0===e.buttons||0===(e.buttons&pw)}(e)&&(this.monitor.isDragging()&&!this.monitor.didDrop()?(e.cancelable&&e.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()):this.moveStartSourceIds=void 0)},this.handleCancelOnEscape=e=>{"Escape"===e.key&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new xw(r,t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(mw.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(mw.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(mw.keyboard)}}const Nw=function(e,t={},r={}){return new ww(e,t,r)},kw=({question:e,answer:t,onAnswerChange:r,disabled:s=!1,showCorrectAnswer:a=!1,timeRemaining:n})=>{const[i,o]=ze.useState({isValid:!0});ze.useEffect(()=>{if(void 0!==t){const r=ey.validateAnswer(e,t);o({isValid:r,message:r?void 0:"Respuesta inválida"})}},[e,t]);const l=()=>{const n=t||"",i=a&&e.correct_answers.some(t=>e.case_sensitive?t===n:t.toLowerCase()===n.toLowerCase());return Br.jsxs("div",{className:"space-y-4",children:[Br.jsxs("div",{className:"relative",children:[Br.jsx("textarea",{value:n,onChange:e=>r(e.target.value),disabled:s,placeholder:"Escribe tu respuesta aquí...",className:`w-full p-3 border-2 rounded-lg resize-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${s?"bg-gray-100 cursor-not-allowed":""} ${a?i?"border-green-500 bg-green-50":"border-red-500 bg-red-50":"border-gray-300"}`,rows:3}),a&&Br.jsx("div",{className:"absolute top-2 right-2",children:i?Br.jsx($g,{className:"h-5 w-5 text-green-600"}):Br.jsx(db,{className:"h-5 w-5 text-red-600"})})]}),a&&Br.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[Br.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Respuestas correctas:"}),Br.jsx("ul",{className:"text-sm text-blue-800 space-y-1",children:e.correct_answers.map((e,t)=>Br.jsxs("li",{className:"flex items-center",children:[Br.jsx($g,{className:"h-4 w-4 mr-2 text-green-600"}),e]},t))}),e.explanation&&Br.jsx("p",{className:"mt-3 text-sm text-blue-800",children:e.explanation})]}),Br.jsx("div",{className:"text-sm text-gray-500",children:e.case_sensitive?"Sensible a mayúsculas y minúsculas":"No sensible a mayúsculas y minúsculas"})]})},c=({item:e,index:t,moveItem:r})=>{const[{isDragging:a},n]=$j({type:"item",item:{index:t},collect:e=>({isDragging:e.isDragging()})}),[,i]=Wj({accept:"item",hover:e=>{e.index!==t&&(r(e.index,t),e.index=t)}});return Br.jsx("div",{ref:e=>n(i(e)),className:`p-3 bg-white border-2 border-gray-300 rounded-lg cursor-move transition-all ${a?"opacity-50":"hover:border-primary-400"} ${s?"cursor-not-allowed opacity-60":""}`,children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(Mg,{className:"h-4 w-4 text-gray-400 mr-2"}),Br.jsxs("span",{className:"text-sm font-medium text-gray-600 mr-2",children:["#",t+1]}),Br.jsx("span",{children:e})]})})},d=()=>{const n=Array.isArray(t)?t:e.correct_answers.slice().sort(()=>Math.random()-.5),i=(e,t)=>{if(s)return;const a=[...n],[i]=a.splice(e,1);a.splice(t,0,i),r(a)},o="ontouchstart"in window||navigator.maxTouchPoints>0?Nw:uw;return Br.jsx(pj,{backend:o,children:Br.jsxs("div",{className:"space-y-4",children:[Br.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Arrastra los elementos para ordenarlos correctamente:"}),Br.jsx("div",{className:"space-y-2",children:n.map((e,t)=>Br.jsx(c,{item:e,index:t,moveItem:i},`${e}-${t}`))}),a&&Br.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[Br.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Orden correcto:"}),Br.jsx("ol",{className:"text-sm text-blue-800 space-y-1",children:e.correct_answers.map((e,t)=>Br.jsxs("li",{className:"flex items-center",children:[Br.jsxs("span",{className:"font-medium mr-2",children:[t+1,"."]}),e]},t))}),e.explanation&&Br.jsx("p",{className:"mt-3 text-sm text-blue-800",children:e.explanation})]})]})})};return Br.jsxs("div",{className:"space-y-4",children:[(()=>{switch(e.type){case Yv.MULTIPLE_CHOICE:return Br.jsx("div",{className:"space-y-3",children:e.options.map(n=>{const i=t===n.id,o=a&&n.is_correct,l=a&&i&&!n.is_correct;return Br.jsxs("label",{className:`flex items-start p-4 border-2 rounded-lg cursor-pointer transition-all ${s?"cursor-not-allowed opacity-60":"hover:bg-gray-50"} ${i?o?"border-green-500 bg-green-50":l?"border-red-500 bg-red-50":"border-primary-500 bg-primary-50":o&&a?"border-green-300 bg-green-50":"border-gray-300"}`,children:[Br.jsx("input",{type:"radio",name:`question-${e.id}`,value:n.id,checked:i,onChange:e=>r(e.target.value),disabled:s,className:"mt-1 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),Br.jsxs("div",{className:"ml-3 flex-1",children:[Br.jsx("span",{className:"text-gray-900",children:n.text}),a&&Br.jsxs("div",{className:"mt-2 flex items-center",children:[n.is_correct?Br.jsxs("div",{className:"flex items-center text-green-600",children:[Br.jsx($g,{className:"h-4 w-4 mr-1"}),Br.jsx("span",{className:"text-sm",children:"Respuesta correcta"})]}):i?Br.jsxs("div",{className:"flex items-center text-red-600",children:[Br.jsx(db,{className:"h-4 w-4 mr-1"}),Br.jsx("span",{className:"text-sm",children:"Respuesta incorrecta"})]}):null,n.explanation&&(n.is_correct||i)&&Br.jsx("div",{className:"mt-1 text-sm text-gray-600",children:n.explanation})]})]})]},n.id)})});case Yv.TRUE_FALSE:return(()=>{const n=e.options.find(e=>e.text.toLowerCase().includes("verdadero")||e.text.toLowerCase().includes("true")),i=e.options.find(e=>e.text.toLowerCase().includes("falso")||e.text.toLowerCase().includes("false"));return Br.jsxs("div",{className:"space-y-3",children:[[n,i].filter(Boolean).map(n=>{if(!n)return null;const i=t===n.id,o=a&&n.is_correct,l=a&&i&&!n.is_correct;return Br.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all ${s?"cursor-not-allowed opacity-60":"hover:bg-gray-50"} ${i?o?"border-green-500 bg-green-50":l?"border-red-500 bg-red-50":"border-primary-500 bg-primary-50":o&&a?"border-green-300 bg-green-50":"border-gray-300"}`,children:[Br.jsx("input",{type:"radio",name:`question-${e.id}`,value:n.id,checked:i,onChange:e=>r(e.target.value),disabled:s,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),Br.jsx("span",{className:"ml-3 text-lg font-medium",children:n.text}),a&&o&&Br.jsx($g,{className:"ml-auto h-5 w-5 text-green-600"})]},n.id)}),a&&e.explanation&&Br.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:Br.jsx("p",{className:"text-sm text-blue-800",children:e.explanation})})]})})();case Yv.FILL_IN_BLANK:return l();case Yv.ORDERING:return d();case Yv.MATCHING:return(()=>{const n=e.pairs||[],i=n.map(e=>Object.keys(e)[0]),o=n.map(e=>Object.values(e)[0]).sort(()=>Math.random()-.5),l="object"==typeof t?t:{};return Br.jsxs("div",{className:"space-y-4",children:[Br.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Conecta cada elemento de la izquierda con su pareja correcta de la derecha:"}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Br.jsxs("div",{className:"space-y-2",children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Elementos"}),i.map((e,t)=>Br.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-300 rounded-lg",children:[Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsx("span",{children:e}),Br.jsx(wf,{className:"h-4 w-4 text-gray-400"})]}),l[e]&&Br.jsxs("div",{className:"mt-2 text-sm text-primary-600 font-medium",children:["→ ",l[e]]})]},t))]}),Br.jsxs("div",{className:"space-y-2",children:[Br.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Opciones"}),o.map((e,t)=>{const i=Object.values(l).includes(e),o=a&&n.some(t=>Object.values(t)[0]===e);return Br.jsxs("button",{onClick:()=>{const t=Object.keys(l).find(t=>l[t]===e);if(t){const e=ke({},l);delete e[t],r(e)}},disabled:s,className:`w-full p-3 text-left border-2 rounded-lg transition-all ${s?"cursor-not-allowed opacity-60":"hover:border-primary-400"} ${i?a&&o?"border-green-500 bg-green-50":"border-primary-500 bg-primary-50":"border-gray-300 bg-white"}`,children:[e,i&&Br.jsx("div",{className:"mt-1 text-xs text-primary-600",children:"Emparejado"})]},t)})]})]}),a&&Br.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[Br.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Emparejamientos correctos:"}),Br.jsx("div",{className:"text-sm text-blue-800 space-y-1",children:n.map((e,t)=>{const[r,s]=Object.entries(e)[0];return Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("span",{className:"font-medium",children:r}),Br.jsx("span",{className:"mx-2",children:"↔"}),Br.jsx("span",{children:s})]},t)})}),e.explanation&&Br.jsx("p",{className:"mt-3 text-sm text-blue-800",children:e.explanation})]})]})})();case Yv.ESSAY:return l();default:return Br.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:Br.jsxs("p",{className:"text-yellow-800",children:["Tipo de pregunta no soportado: ",e.type]})})}})(),!i.isValid&&i.message&&Br.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:Br.jsx("p",{className:"text-sm text-red-800",children:i.message})}),n&&e.time_limit&&Br.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:Br.jsxs("p",{className:"text-sm text-orange-800",children:["Tiempo restante para esta pregunta: ",ey.formatTimeRemaining(n||0)]})})]})},Cw=({currentQuestion:e,totalQuestions:t,answeredQuestions:r,timeRemaining:s,duration:a})=>{const n=e/t*100,i=r/t*100;return Br.jsxs("div",{className:"space-y-3",children:[Br.jsxs("div",{className:"flex items-center justify-between text-sm",children:[Br.jsxs("div",{className:"flex items-center space-x-4",children:[Br.jsxs("span",{className:"font-medium text-gray-700",children:["Pregunta ",e," de ",t]}),Br.jsxs("div",{className:"flex items-center text-green-600",children:[Br.jsx($g,{className:"h-4 w-4 mr-1"}),Br.jsxs("span",{children:[r," respondidas"]})]})]}),s&&Br.jsxs("div",{className:`flex items-center ${(e=>{if(!e||!a)return"text-gray-600";const t=e/(60*a)*100;return t<=10?"text-red-600":t<=25?"text-orange-600":"text-gray-600"})(s)}`,children:[Br.jsx(tf,{className:"h-4 w-4 mr-1"}),Br.jsx("span",{className:"font-medium",children:(e=>{if(!e)return null;const t=Math.floor(e/3600),r=Math.floor(e%3600/60),s=e%60;return t>0?`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`:`${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`})(s)})]})]}),Br.jsxs("div",{className:"relative",children:[Br.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-2",children:[Br.jsx("div",{className:"bg-green-200 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}}),Br.jsx("div",{className:"absolute top-0 h-2 rounded-full transition-all duration-300 "+(n>=80?"bg-green-500":n>=50?"bg-blue-500":n>=25?"bg-yellow-500":"bg-primary-500"),style:{width:`${n}%`}})]}),Br.jsx("div",{className:"flex justify-between mt-1",children:Array.from({length:t},(t,s)=>{const a=s+1,n=a===e,i=a<=r,o=a<e;return Br.jsx("div",{className:"w-2 h-2 rounded-full transition-all duration-200 "+(n?"bg-primary-600 scale-125 ring-2 ring-primary-200":i?"bg-green-500":o?"bg-gray-400":"bg-gray-300")},s)})})]}),Br.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[Br.jsxs("span",{children:[Math.round(n),"% completado"]}),a&&s&&Br.jsxs("span",{children:[Math.round(s/(60*a)*100),"% tiempo restante"]})]})]})},Sw=({timeRemaining:e,onTimeUp:t,showWarnings:r=!0})=>{const[s,a]=ze.useState(e),[n,i]=ze.useState(!1),[o,l]=ze.useState(!1);ze.useEffect(()=>{a(e)},[e]),ze.useEffect(()=>{if(s<=0)return void t();const e=setInterval(()=>{a(e=>{const s=e-1;return r&&(s<=300&&s>60&&!n&&(i(!0),window.Notification&&"granted"===Notification.permission&&new Notification("Quiz Timer",{body:"⏰ Te quedan 5 minutos para completar el quiz",icon:"/favicon.ico"})),s<=60&&!o&&(l(!0),window.Notification&&"granted"===Notification.permission&&new Notification("Quiz Timer - ¡Urgente!",{body:"🚨 ¡Solo queda 1 minuto! Finaliza el quiz pronto",icon:"/favicon.ico"}))),s<=0?(t(),0):s})},1e3);return()=>clearInterval(e)},[s,t,r,n,o]);return Br.jsxs("div",{className:"inline-flex items-center px-3 py-2 rounded-lg border transition-all duration-300 "+(s<=60?"bg-red-50 border-red-200":s<=300?"bg-orange-50 border-orange-200":s<=900?"bg-yellow-50 border-yellow-200":"bg-white border-gray-200"),children:[r&&s<=300?Br.jsx(xf,{className:"h-4 w-4 mr-2 "+(s<=60?"text-red-600 animate-bounce":"text-orange-600")}):Br.jsx(tf,{className:"h-4 w-4 mr-2 text-gray-600"}),Br.jsxs("div",{className:"flex flex-col",children:[Br.jsx("span",{className:"font-mono text-sm font-semibold "+(s<=60?"text-red-600 animate-pulse":s<=300?"text-orange-600":s<=900?"text-yellow-600":"text-gray-700"),children:(e=>{if(e<=0)return"00:00";const t=Math.floor(e/3600),r=Math.floor(e%3600/60),s=e%60;return t>0?`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`:`${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`})(s)}),Br.jsx("div",{className:"w-16 h-1 bg-gray-200 rounded-full mt-1",children:Br.jsx("div",{className:"h-1 rounded-full transition-all duration-1000 "+(s<=60?"bg-red-500":s<=300?"bg-orange-500":"bg-green-500"),style:{width:(e<=0?0:s/e*100)+"%"}})})]})]})},Ew=({quiz:e,attempt:t,onRetake:r,onClose:s,onNavigateBack:a})=>{const n=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,i=(Array.isArray(t.answers)?t.answers:[]).filter(e=>e.is_correct).length,o=e.questions.length,l=(c=t.score_percentage,d=t.is_passing,c>=95?{title:"¡Excelente trabajo!",message:"Has demostrado un dominio excepcional del tema. ¡Felicitaciones!",color:"text-green-700"}:c>=85?{title:"¡Muy bien hecho!",message:"Tienes un muy buen entendimiento del material.",color:"text-green-700"}:c>=70?{title:d?"¡Buen trabajo!":"Resultado aceptable",message:d?"Has aprobado satisfactoriamente. Sigue así!":"Estás cerca de aprobar. Revisa algunos conceptos y vuelve a intentarlo.",color:d?"text-blue-700":"text-yellow-700"}:c>=50?{title:"Puedes mejorar",message:"Considera revisar el material y practicar más antes del siguiente intento.",color:"text-yellow-700"}:{title:"Necesitas más práctica",message:"Te recomendamos repasar el material del curso antes de volver a intentarlo.",color:"text-red-700"});var c,d;return Br.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:Br.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[Br.jsx("div",{className:`rounded-lg border-2 p-8 mb-8 ${(e=>e>=90?"bg-green-100 border-green-300":e>=70?"bg-blue-100 border-blue-300":e>=50?"bg-yellow-100 border-yellow-300":"bg-red-100 border-red-300")(t.score_percentage)}`,children:Br.jsxs("div",{className:"text-center",children:[Br.jsxs("div",{className:"flex justify-center items-center mb-4",children:[Br.jsx("div",{className:"text-6xl mr-4",children:(e=>e>=95?"🏆":e>=90?"🥇":e>=80?"🥈":e>=70?"🥉":e>=60?"👍":"📚")(t.score_percentage)}),Br.jsxs("div",{children:[Br.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Quiz Completado"}),Br.jsx("p",{className:"text-lg text-gray-700",children:e.title})]})]}),Br.jsxs("div",{className:"mb-6",children:[Br.jsxs("div",{className:`text-6xl font-bold mb-2 ${(e=>e>=90?"text-green-600":e>=70?"text-blue-600":e>=50?"text-yellow-600":"text-red-600")(t.score_percentage)}`,children:[Math.round(t.score_percentage),"%"]}),Br.jsxs("div",{className:"flex justify-center items-center space-x-6 text-sm text-gray-600",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx($g,{className:"h-4 w-4 mr-1 text-green-600"}),i," de ",o," correctas"]}),Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(tf,{className:"h-4 w-4 mr-1"}),n(t.time_spent)]}),Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(Dg,{className:"h-4 w-4 mr-1"}),t.points_earned.toFixed(1)," / ",t.total_points," puntos"]})]})]}),Br.jsx("div",{className:"mb-6",children:t.is_passing?Br.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-green-100 text-green-800 rounded-full",children:[Br.jsx(ab,{className:"h-5 w-5 mr-2"}),Br.jsx("span",{className:"font-semibold",children:"¡Aprobado!"})]}):Br.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-red-100 text-red-800 rounded-full",children:[Br.jsx(db,{className:"h-5 w-5 mr-2"}),Br.jsx("span",{className:"font-semibold",children:"No Aprobado"}),Br.jsxs("span",{className:"ml-2 text-sm",children:["(Mínimo: ",e.config.passing_score,"%)"]})]})}),Br.jsxs("div",{className:`text-center ${l.color}`,children:[Br.jsx("h2",{className:"text-xl font-semibold mb-2",children:l.title}),Br.jsx("p",{className:"text-base",children:l.message})]})]})}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 text-center",children:[Br.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-2",children:[Math.round(i/o*100),"%"]}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Precisión"})]}),Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 text-center",children:[Br.jsx("div",{className:"text-2xl font-bold text-green-600 mb-2",children:n(t.time_spent)}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Tiempo total"})]}),Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 text-center",children:[Br.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-2",children:t.attempt_number}),Br.jsx("div",{className:"text-sm text-gray-600",children:1===t.attempt_number?"Primer intento":`Intento #${t.attempt_number}`})]})]}),e.config.show_correct_answers&&Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border mb-8",children:[Br.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:Br.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[Br.jsx(pg,{className:"h-5 w-5 mr-2"}),"Revisión de Preguntas"]})}),Br.jsx("div",{className:"p-6 space-y-6",children:e.questions.map((r,s)=>{const a=(r=>{const s=t.answers.find(e=>e.question_id===r),a=e.questions.find(e=>e.id===r);return s&&a?{question:a,answer:s,isCorrect:s.is_correct||!1,pointsEarned:s.points_earned,timeSpent:s.time_spent}:null})(r.id);return a?Br.jsxs("div",{className:"border-l-4 border-gray-200 pl-4",children:[Br.jsxs("div",{className:"flex items-start justify-between mb-2",children:[Br.jsxs("div",{className:"flex-1",children:[Br.jsxs("div",{className:"flex items-center mb-2",children:[Br.jsxs("span",{className:"text-sm font-medium text-gray-500 mr-3",children:["Pregunta ",s+1]}),a.isCorrect?Br.jsxs("div",{className:"flex items-center text-green-600",children:[Br.jsx($g,{className:"h-4 w-4 mr-1"}),Br.jsx("span",{className:"text-sm font-medium",children:"Correcta"})]}):Br.jsxs("div",{className:"flex items-center text-red-600",children:[Br.jsx(db,{className:"h-4 w-4 mr-1"}),Br.jsx("span",{className:"text-sm font-medium",children:"Incorrecta"})]})]}),Br.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:r.title}),r.content&&Br.jsx("div",{className:"text-sm text-gray-600 mb-3 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:r.content}})]}),Br.jsxs("div",{className:"text-right ml-4",children:[Br.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[a.pointsEarned.toFixed(1)," / ",r.points," pts"]}),Br.jsx("div",{className:"text-xs text-gray-500",children:n(a.timeSpent)})]})]}),!a.isCorrect&&r.type!==Yv.ESSAY&&Br.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-3",children:Br.jsxs("p",{className:"text-sm text-red-800",children:[Br.jsx("span",{className:"font-medium",children:"Tu respuesta:"}),"string"==typeof a.answer.answer?Br.jsx("span",{className:"ml-2",children:a.answer.answer}):Br.jsx("span",{className:"ml-2",children:JSON.stringify(a.answer.answer)})]})}),r.explanation&&Br.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:Br.jsxs("p",{className:"text-sm text-blue-800",children:[Br.jsx("span",{className:"font-medium",children:"Explicación:"}),Br.jsx("span",{className:"ml-2",children:r.explanation})]})})]},r.id):null})})]}),Br.jsxs("div",{className:"flex space-x-4 justify-center",children:[r&&Br.jsxs("button",{onClick:r,className:"flex items-center justify-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[Br.jsx(Ng,{className:"h-5 w-5 mr-2"}),"Intentar Nuevamente"]}),a&&Br.jsxs("button",{onClick:a,className:"flex items-center justify-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[Br.jsx(pg,{className:"h-5 w-5 mr-2"}),"Regresar al Curso"]}),s&&Br.jsxs("button",{onClick:s,className:"flex items-center justify-center px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[Br.jsx(mb,{className:"h-5 w-5 mr-2"}),"Cerrar"]})]}),Br.jsxs("div",{className:"mt-8 bg-gray-100 rounded-lg p-6",children:[Br.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Información del Quiz"}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[Br.jsxs("div",{children:[Br.jsx("span",{className:"font-medium",children:"Estado del intento:"})," ",ey.getStatusLabel(t.status)]}),Br.jsxs("div",{children:[Br.jsx("span",{className:"font-medium",children:"Enviado:"})," ",t.submitted_at?new Date(t.submitted_at).toLocaleString("es-ES"):"No enviado"]}),e.config.max_attempts&&Br.jsxs("div",{children:[Br.jsx("span",{className:"font-medium",children:"Intentos permitidos:"})," ",e.config.max_attempts]}),e.config.time_limit&&Br.jsxs("div",{children:[Br.jsx("span",{className:"font-medium",children:"Límite de tiempo:"})," ",e.config.time_limit," minutos"]})]})]})]})})},_w=({quizId:e,onComplete:t,onError:r,onNavigateBack:s})=>{var a;const n=He();sv();const[i,o]=ze.useState({quiz:null,attempt:null,currentQuestionIndex:0,answers:new Map,isSubmitting:!1,showResults:!1}),[l,c]=ze.useState(!0),[d,u]=ze.useState(Date.now()),[m,h]=ze.useState(!1);ze.useEffect(()=>{x()},[e]),ze.useEffect(()=>{if(!m||!i.attempt)return;const e=setInterval(()=>{f()},3e4);return()=>clearInterval(e)},[m,i.attempt]),ze.useEffect(()=>{const e=e=>{var t;(null==(t=i.attempt)?void 0:t.status)===Zv.IN_PROGRESS&&m&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[null==(a=i.attempt)?void 0:a.status,m]);const x=()=>Ae(null,null,function*(){try{c(!0);const t=yield ey.getQuiz(e);if(!t.is_available)throw new Error("Este quiz no está disponible actualmente");o(e=>Ce(ke({},e),{quiz:t})),yield p(t)}catch(t){j(t.message||"Error al cargar el quiz")}finally{c(!1)}}),p=t=>Ae(null,null,function*(){try{const r=yield ey.startQuizAttempt(e);o(e=>Ce(ke({},e),{attempt:r,answers:new Map})),hl.trackEvent("quiz_started",{quiz_id:e,quiz_title:t.title,attempt_id:r.id})}catch(r){j(r.message||"Error al iniciar el quiz")}}),g=ze.useCallback(e=>{if(!i.quiz||!i.attempt)return;const t=i.quiz.questions[i.currentQuestionIndex];o(r=>Ce(ke({},r),{answers:new Map(r.answers).set(t.id,e)})),h(!0)},[i.quiz,i.attempt,i.currentQuestionIndex]),f=()=>Ae(null,null,function*(){if(!i.quiz||!i.attempt||!m)return;const e=i.quiz.questions[i.currentQuestionIndex],t=i.answers.get(e.id);if(void 0!==t)try{const r=Math.floor((Date.now()-d)/1e3),s={question_id:e.id,answer:t,time_spent:r,created_at:(new Date).toISOString()};yield ey.submitAnswer(i.quiz.id,e.id,s.answer),h(!1)}catch(r){}}),b=e=>Ae(null,null,function*(){!i.quiz||e<0||e>=i.quiz.questions.length||(yield f(),o(t=>Ce(ke({},t),{currentQuestionIndex:e})),u(Date.now()))}),v=()=>Ae(null,null,function*(){if(!i.attempt||i.isSubmitting)return;if(window.confirm("¿Estás seguro de que quieres enviar el quiz? No podrás hacer cambios después.")){o(e=>Ce(ke({},e),{isSubmitting:!0}));try{yield f();const r=Array.from(i.answers.entries()).map(([e,t])=>({question_id:e,answer:t,time_spent:0,created_at:(new Date).toISOString()})),s=yield ey.submitQuizAttempt(i.quiz.id,r);o(e=>Ce(ke({},e),{attempt:s,showResults:!0,isSubmitting:!1})),hl.trackEvent("quiz_completed",{quiz_id:e,attempt_id:i.attempt.id,score:s.percentage,is_passing:s.is_passing,time_spent:s.time_spent}),null==t||t(s)}catch(r){o(e=>Ce(ke({},e),{isSubmitting:!1})),j(r.message||"Error al enviar el quiz")}}}),y=()=>Ae(null,null,function*(){i.quiz&&(o(e=>Ce(ke({},e),{attempt:null,currentQuestionIndex:0,answers:new Map,showResults:!1,isSubmitting:!1})),yield p(i.quiz))}),j=e=>{o(t=>Ce(ke({},t),{error:e})),null==r||r(e)};if(l)return Br.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),Br.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando quiz..."})]})});if(i.error)return Br.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:Br.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md",children:[Br.jsxs("div",{className:"flex items-center text-red-600 mb-4",children:[Br.jsx(xf,{className:"h-6 w-6 mr-2"}),Br.jsx("h2",{className:"text-lg font-semibold",children:"Error"})]}),Br.jsx("p",{className:"text-gray-700 mb-6",children:i.error}),Br.jsx("button",{onClick:()=>n(-1),className:"w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700",children:"Volver"})]})});if(i.showResults&&i.quiz&&i.attempt)return Br.jsx(Ew,{quiz:i.quiz,attempt:i.attempt,onRetake:i.quiz.config.allow_retakes?y:void 0,onClose:()=>n(-1),onNavigateBack:s});const w=!i.quiz||i.currentQuestionIndex>=i.quiz.questions.length?null:i.quiz.questions[i.currentQuestionIndex];return i.quiz&&i.attempt&&w?Br.jsxs("div",{className:"min-h-screen bg-gray-50",children:[Br.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:Br.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Br.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:i.quiz.title}),i.attempt.time_remaining&&Br.jsxs("div",{className:"flex items-center text-orange-600",children:[Br.jsx(tf,{className:"h-5 w-5 mr-1"}),Br.jsx(Sw,{timeRemaining:i.attempt.time_remaining,onTimeUp:()=>Ae(null,null,function*(){i.attempt&&(alert("Se agotó el tiempo para completar el quiz. Se enviará automáticamente."),yield v())}),showWarnings:!0})]})]}),Br.jsx(Cw,{currentQuestion:i.currentQuestionIndex+1,totalQuestions:i.quiz.questions.length,answeredQuestions:Array.from(i.answers.keys()).length,timeRemaining:i.attempt.time_remaining,duration:i.quiz.config.time_limit})]})}),Br.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[Br.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Br.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Pregunta ",i.currentQuestionIndex+1," de ",i.quiz.questions.length]}),Br.jsxs("span",{className:"text-sm text-gray-500",children:[w.points," ",1===w.points?"punto":"puntos"]})]}),Br.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:w.title}),w.content&&Br.jsx("div",{className:"text-gray-700 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:w.content}})]}),Br.jsx("div",{className:"px-6 py-6",children:Br.jsx(kw,{question:w,answer:i.answers.get(w.id),onAnswerChange:g,disabled:i.isSubmitting,timeRemaining:w.time_limit})}),Br.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[Br.jsxs("button",{onClick:()=>{b(i.currentQuestionIndex-1)},disabled:!(i.currentQuestionIndex>0)||i.isSubmitting,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[Br.jsx(Ug,{className:"h-4 w-4 mr-1"}),"Anterior"]}),Br.jsxs("div",{className:"flex items-center space-x-3",children:[m&&Br.jsxs("span",{className:"text-sm text-amber-600 flex items-center",children:[Br.jsx("div",{className:"h-2 w-2 bg-amber-500 rounded-full mr-2"}),"Cambios no guardados"]}),i.currentQuestionIndex===((null==(N=i.quiz)?void 0:N.questions.length)||0)-1?Br.jsxs("button",{onClick:v,disabled:i.isSubmitting,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[Br.jsx($g,{className:"h-4 w-4 mr-2"}),i.isSubmitting?"Enviando...":"Enviar Quiz"]}):Br.jsxs("button",{onClick:()=>{b(i.currentQuestionIndex+1)},disabled:!(()=>{var e;return i.currentQuestionIndex<((null==(e=i.quiz)?void 0:e.questions.length)||0)-1})()||i.isSubmitting,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Siguiente",Br.jsx(Gg,{className:"h-4 w-4 ml-1"})]})]})]})]}),i.quiz.instructions&&Br.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[Br.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Instrucciones"}),Br.jsx("div",{className:"text-blue-800 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:i.quiz.instructions}})]})]})]}):null;var N},Mw=()=>{const{quizId:e}=Xe(),t=He(),r=$e(),{trackActivity:s}=sv(),[a,n]=ze.useState(null),[i,o]=ze.useState(!0),[l,c]=ze.useState(null);ze.useEffect(()=>{e?d():(c("ID de quiz no válido"),o(!1))},[e]);const d=()=>Ae(null,null,function*(){try{o(!0),c(null);const t=yield ey.getQuiz(e);n(t),s({activity_type:"quiz_started",course_id:t.course_id,metadata:{quiz_id:e,quiz_title:t.title}})}catch(t){c("Error al cargar el quiz. Verifica que tienes permisos para acceder.")}finally{o(!1)}}),u=()=>{const e=r.state;(null==e?void 0:e.returnTo)?t(e.returnTo):(null==a?void 0:a.course_id)?t(`/platform/courses/${a.course_id}/view`):t(-1)};return i?Br.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),Br.jsx("p",{className:"text-gray-600",children:"Cargando quiz..."})]})}):l||!a?Br.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:Br.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[Br.jsx("div",{className:"text-red-500 mb-4",children:Br.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Br.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error al cargar el quiz"}),Br.jsx("p",{className:"text-gray-600 mb-4",children:l}),Br.jsxs("div",{className:"flex gap-3 justify-center",children:[Br.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Volver al Curso"}),Br.jsx("button",{onClick:d,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Reintentar"})]})]})}):Br.jsxs("div",{className:"min-h-screen bg-gray-50",children:[Br.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:Br.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Br.jsx("div",{className:"flex items-center justify-between h-16",children:Br.jsxs("div",{className:"flex items-center space-x-4",children:[Br.jsx("button",{onClick:u,className:"p-2 text-gray-600 hover:text-gray-900 transition-colors rounded-lg hover:bg-gray-100",title:"Volver al curso",children:Br.jsx(jg,{className:"h-5 w-5"})}),Br.jsxs("div",{children:[Br.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:a.title}),Br.jsx("p",{className:"text-sm text-gray-600",children:"Evaluación del curso"})]})]})})})}),Br.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:Br.jsx(_w,{quizId:e,onComplete:t=>{s({activity_type:"quiz_completed",course_id:null==a?void 0:a.course_id,metadata:{quiz_id:e,quiz_title:null==a?void 0:a.title,score:t.score_percentage,passed:t.is_passing}})},onNavigateBack:u})})]})},Iw=({children:e,requireVerified:t=!0,allowedRoles:r})=>{const{isAuthenticated:s,isVerified:a,isLoading:n,user:i}=al(),o=$e();return n?Br.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:Br.jsxs("div",{className:"text-center",children:[Br.jsx(og,{size:"lg"}),Br.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):s?t&&!a?Br.jsx(Ke,{to:"/verify-reminder",replace:!0}):!(r&&r.length>0)||i&&r.includes((null==i?void 0:i.role)||"")?Br.jsx(Br.Fragment,{children:e}):Br.jsx(Ke,{to:"/",state:{from:o.pathname},replace:!0}):Br.jsx(Ke,{to:"/",state:{from:o.pathname},replace:!0})};const Ow=new class{getHeaders(){return Qo()}getDashboardStats(){return Ae(this,null,function*(){var e,t;try{const e=yield fetch(Go(`${Ho}/dashboard`),{headers:this.getHeaders()});if(!e.ok){yield e.text();throw new Error(`Error fetching dashboard stats: ${e.status}`)}return yield e.json()}catch(r){const s=(null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.detail)||r.message||"Error fetching dashboard stats";throw new Error(s)}})}getUsers(e=0,t=20){return Ae(this,null,function*(){var r,s;try{const r=yield fetch(Go(`${Ho}/users?skip=${e}&limit=${t}`),{headers:this.getHeaders()});if(!r.ok){yield r.text();throw new Error(`Error fetching users: ${r.status}`)}return yield r.json()}catch(a){const e=(null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||a.message||"Error fetching users";throw new Error(e)}})}getCourses(e=0,t=20,r){return Ae(this,null,function*(){var s,a;try{let s=Go(`${Ho}/courses?skip=${e}&limit=${t}`);void 0!==r&&(s+=`&is_published=${r}`);const a=yield fetch(s,{headers:this.getHeaders()});if(!a.ok){yield a.text();throw new Error(`Error fetching courses: ${a.status}`)}return yield a.json()}catch(n){const e=(null==(a=null==(s=n.response)?void 0:s.data)?void 0:a.detail)||n.message||"Error fetching courses";throw new Error(e)}})}getCoursesWithFilters(e){return Ae(this,null,function*(){var t,r;try{const t=new URLSearchParams;void 0!==(null==e?void 0:e.is_published)&&t.append("is_published",e.is_published.toString()),(null==e?void 0:e.category)&&t.append("category",e.category),(null==e?void 0:e.instructor_id)&&t.append("instructor_id",e.instructor_id),(null==e?void 0:e.skip)&&t.append("skip",e.skip.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString());const r=yield fetch(`${Go(`${Ho}/courses`)}?${t.toString()}`,{headers:this.getHeaders()});if(!r.ok){yield r.text();throw new Error(`Error fetching filtered courses: ${r.status}`)}return yield r.json()}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||s.message||"Error fetching filtered courses";throw new Error(e)}})}getCourse(e){return Ae(this,null,function*(){var t,r;try{const t=yield fetch(Go(`${Ho}/courses/${e}`),{headers:this.getHeaders()});if(!t.ok){yield t.text();throw new Error(`Error fetching course: ${t.status}`)}return yield t.json()}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||s.message||"Error fetching course";throw new Error(e)}})}createCourse(e){return Ae(this,null,function*(){var t,r;try{const t=yield fetch(Go(`${Ho}/courses`),{method:"POST",headers:{Authorization:Qo().Authorization},body:e});if(!t.ok){const e=yield t.json().catch(()=>({detail:"Unknown error"}));throw new Error(e.detail||`Error creating course: ${t.status}`)}return yield t.json()}catch(s){const e=(null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||s.message||"Error creating course";throw new Error(e)}})}updateCourse(e,t){return Ae(this,null,function*(){const r=yield fetch(Go(`${Ho}/courses/${e}`),{method:"PUT",headers:{Authorization:Qo().Authorization},body:t});if(!r.ok){const e=yield r.json();throw new Error(e.detail||"Error updating course")}return r.json()})}toggleCoursePublication(e){return Ae(this,null,function*(){const t=yield fetch(Go(`${Ho}/courses/${e}/publish`),{method:"POST",headers:this.getHeaders()});if(!t.ok){const e=yield t.json();throw new Error(e.detail||"Error toggling course publication")}return t.json()})}deleteCourse(e){return Ae(this,null,function*(){const t=yield fetch(Go(`${Ho}/courses/${e}`),{method:"DELETE",headers:this.getHeaders()});if(!t.ok){const e=yield t.json();throw new Error(e.detail||"Error deleting course")}return t.json()})}changeUserRole(e,t){return Ae(this,null,function*(){var r,s;try{const r=yield fetch(Go(`users/${e}/role?new_role=${encodeURIComponent(t)}`),{method:"PUT",headers:this.getHeaders()});if(!r.ok){const e=yield r.json().catch(()=>({detail:"Unknown error"}));throw new Error(e.detail||`Error changing user role: ${r.status}`)}return yield r.json()}catch(a){const e=(null==(s=null==(r=a.response)?void 0:r.data)?void 0:s.detail)||a.message||"Error changing user role";throw new Error(e)}})}},Tw=()=>{const[e,t]=ze.useState(null),[r,s]=ze.useState(!0),[a,n]=ze.useState(null);ze.useEffect(()=>{Ae(null,null,function*(){try{n(null);const e=yield Ow.getDashboardStats();t(e)}catch(e){const r=e instanceof Error?e.message:"Error cargando estadísticas del dashboard";n(r),t({users_total:0,courses_total:0,users_new_month:0,courses_published:0})}finally{s(!1)}})},[]);return r?Br.jsx("div",{className:"text-center py-8",children:"Cargando estadísticas..."}):Br.jsxs("div",{children:[Br.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Dashboard Administrativo"}),a&&Br.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:Br.jsxs("div",{className:"flex",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:Br.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),Br.jsxs("div",{className:"ml-3",children:[Br.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error al cargar estadísticas"}),Br.jsx("div",{className:"mt-2 text-sm text-red-700",children:Br.jsx("p",{children:a})}),Br.jsx("div",{className:"mt-4",children:Br.jsx("button",{type:"button",className:"bg-red-100 px-2 py-1 text-sm font-medium text-red-800 hover:bg-red-200 border border-transparent rounded",onClick:()=>{s(!0),n(null);Ae(null,null,function*(){try{const e=yield Ow.getDashboardStats();t(e),n(null)}catch(e){const r=e instanceof Error?e.message:"Error cargando estadísticas del dashboard";n(r),t({users_total:0,courses_total:0,users_new_month:0,courses_published:0})}finally{s(!1)}})},disabled:r,children:r?"Cargando...":"Reintentar"})})]})]})}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Usuarios"}),Br.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(null==e?void 0:e.users_total)||0})]}),Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Cursos"}),Br.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(null==e?void 0:e.courses_total)||0})]}),Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Nuevos Usuarios"}),Br.jsx("p",{className:"text-3xl font-bold text-green-600",children:(null==e?void 0:e.users_new_month)||0}),Br.jsx("p",{className:"text-sm text-gray-500",children:"Último mes"})]}),Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Cursos Publicados"}),Br.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(null==e?void 0:e.courses_published)||0})]})]}),Br.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[Br.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Acciones Rápidas"}),Br.jsxs("div",{className:"flex flex-wrap gap-4",children:[Br.jsx("a",{href:"/platform/admin/courses/new",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Crear Nuevo Curso"}),Br.jsx("a",{href:"/platform/users",className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md",children:"Ver Usuarios"}),Br.jsx("a",{href:"/platform/admin/analytics",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md",children:"Analytics"}),Br.jsx("a",{href:"/platform/admin/monitoring",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-md",children:"Monitoreo del Sistema"})]})]})]})},Lw=()=>{const[e,t]=ze.useState([]),[r,s]=ze.useState(!0),[a,n]=ze.useState(null),[i,o]=ze.useState(null),[l,c]=ze.useState(""),[d,u]=ze.useState(!1);ze.useEffect(()=>{Ae(null,null,function*(){try{const e=yield Ow.getUsers();t(e)}catch(Kw){n("No se pudieron cargar los usuarios")}finally{s(!1)}})},[]);const m=()=>{o(null),c("")};return r?Br.jsx("div",{className:"text-center py-8",children:"Cargando usuarios..."}):a?Br.jsx("div",{className:"text-center py-8 text-red-500",children:a}):Br.jsxs("div",{children:[Br.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Gestión de Usuarios"}),Br.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:Br.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(r=>Br.jsx("li",{children:Br.jsxs("div",{className:"px-4 py-4 flex items-center justify-between",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:Br.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:Br.jsx("span",{className:"text-sm font-medium text-gray-700",children:((null==r?void 0:r.full_name)||"U").charAt(0).toUpperCase()})})}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("div",{className:"text-sm font-medium text-gray-900",children:(null==r?void 0:r.full_name)||"No disponible"}),Br.jsx("div",{className:"text-sm text-gray-500",children:(null==r?void 0:r.email)||"No disponible"})]})]}),Br.jsxs("div",{className:"flex items-center space-x-2",children:[i===r.id?Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:d,children:[Br.jsx("option",{value:"student",children:"student"}),Br.jsx("option",{value:"instructor",children:"instructor"}),Br.jsx("option",{value:"admin",children:"admin"})]}),Br.jsx("button",{onClick:()=>{return s=r.id,Ae(null,null,function*(){var r;if(l!==(null==(r=e.find(e=>e.id===s))?void 0:r.role)){u(!0);try{yield Ow.changeUserRole(s,l),t(e=>e.map(e=>e.id===s?Ce(ke({},e),{role:l}):e)),o(null),c("")}catch(Kw){n("Error al cambiar el rol del usuario")}finally{u(!1)}}else m()});var s},disabled:d,className:"text-green-600 hover:text-green-800 disabled:opacity-50",title:"Guardar cambios",children:Br.jsx(Fg,{className:"h-4 w-4"})}),Br.jsx("button",{onClick:m,disabled:d,className:"text-red-600 hover:text-red-800 disabled:opacity-50",title:"Cancelar",children:Br.jsx(mb,{className:"h-4 w-4"})})]}):Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("admin"===r.role?"bg-purple-100 text-purple-800":"instructor"===r.role?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:r.role}),Br.jsx("button",{onClick:()=>{return e=r.id,t=r.role,o(e),void c(t);var e,t},className:"text-gray-500 hover:text-blue-600",title:"Editar rol",children:Br.jsx(zf,{className:"h-4 w-4"})})]}),Br.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(r.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:r.is_active?"Activo":"Inactivo"})]})]})},r.id))})}),0===e.length&&Br.jsx("div",{className:"text-center py-8 text-gray-500",children:"No se encontraron usuarios"})]})},Aw=()=>{const{courseId:e}=Xe(),t=He(),{user:r}=al(),[s,a]=ze.useState({title:"",description:"",level:"beginner",category:"occupational_safety",instructor_id:""}),[n,i]=ze.useState([]),[o,l]=ze.useState(null),[c,d]=ze.useState(!1),[u,m]=ze.useState(null),h=Boolean(e);ze.useEffect(()=>{Ae(null,null,function*(){try{const e=yield fetch("/api/v1/admin/users?role=instructor",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(e.ok){const t=yield e.json();i((Array.isArray(t)?t:[]).filter(e=>"instructor"===e.role||"admin"===e.role))}}catch(Kw){}})},[]),ze.useEffect(()=>{if(h&&e){(()=>Ae(null,null,function*(){try{d(!0);const t=yield fetch(`/api/v1/admin/courses/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(t.ok){const e=(yield t.json()).course;a({title:e.title,description:e.description,level:e.level,category:e.category,instructor_id:e.instructor_id})}else m("Error al cargar el curso")}catch(Kw){m("Error de conexión")}finally{d(!1)}}))()}},[h,e]);const x=e=>{const{name:t,value:r}=e.target;a(e=>Ce(ke({},e),{[t]:"price"===t?parseFloat(r)||0:r}))};return c&&h?Br.jsx("div",{className:"text-center py-8",children:"Cargando curso..."}):Br.jsxs("div",{className:"max-w-2xl mx-auto",children:[Br.jsxs("div",{className:"mb-6",children:[Br.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:h?"Editar Curso":"Crear Nuevo Curso"}),Br.jsx("p",{className:"text-gray-600 mt-1",children:h?"Modifica los datos del curso":"Completa la información básica del curso"})]}),u&&Br.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),Br.jsxs("form",{onSubmit:r=>Ae(null,null,function*(){if(r.preventDefault(),s.title.trim())if(s.description.trim())if(s.instructor_id)try{d(!0),m(null);const r=new FormData;r.append("title",s.title),r.append("description",s.description),r.append("level",s.level),r.append("category",s.category),r.append("instructor_id",s.instructor_id),o&&r.append("cover_image",o);const a=h?`/api/v1/admin/courses/${e}`:"/api/v1/admin/courses",n=h?"PUT":"POST",i=yield fetch(a,{method:n,headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:r});if(i.ok){const e=yield i.json();alert(e.message),e.redirect_url?t(e.redirect_url):t("/platform/admin/dashboard")}else{const e=yield i.json();m(e.detail||"Error al guardar el curso")}}catch(Kw){m("Error de conexión")}finally{d(!1)}else alert("Debes seleccionar un instructor");else alert("La descripción es requerida");else alert("El título es requerido")}),className:"bg-white shadow rounded-lg p-6",children:[Br.jsxs("div",{className:"mb-6",children:[Br.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Título del curso *"}),Br.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:x,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Introducción a React.js",required:!0})]}),Br.jsxs("div",{className:"mb-6",children:[Br.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción *"}),Br.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:x,rows:4,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe qué aprenderán los estudiantes en este curso...",required:!0})]}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"level",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel *"}),Br.jsxs("select",{id:"level",name:"level",value:s.level,onChange:x,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[Br.jsx("option",{value:"beginner",children:"Principiante"}),Br.jsx("option",{value:"intermediate",children:"Intermedio"}),Br.jsx("option",{value:"advanced",children:"Avanzado"})]})]}),Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría *"}),Br.jsx("select",{id:"category",name:"category",value:s.category,onChange:x,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:Ub()&&Object.entries(Ub()).map(([e,t])=>Br.jsx("optgroup",{label:e,children:t.map(e=>Br.jsx("option",{value:e.value,children:e.label},e.value))},e))})]})]}),Br.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:Br.jsxs("div",{children:[Br.jsx("label",{htmlFor:"instructor_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor *"}),Br.jsxs("select",{id:"instructor_id",name:"instructor_id",value:s.instructor_id,onChange:x,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[Br.jsx("option",{value:"",children:"Seleccionar instructor"}),n.map(e=>Br.jsxs("option",{value:e.id,children:[e.full_name," (",e.email,")"]},e.id))]})]})}),Br.jsxs("div",{className:"mb-6",children:[Br.jsx("label",{htmlFor:"cover_image",className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen de portada"}),Br.jsx("input",{type:"file",id:"cover_image",name:"cover_image",accept:"image/*",onChange:e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r){if(!r.type.startsWith("image/"))return void alert("Por favor, selecciona un archivo de imagen válido");if(r.size>5242880)return void alert("La imagen no debe superar los 5MB");l(r)}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),Br.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Formatos permitidos: JPG, PNG, GIF. Tamaño máximo: 5MB"}),o&&Br.jsxs("div",{className:"mt-2 text-sm text-green-600",children:["Archivo seleccionado: ",o.name]})]}),Br.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-200",children:[Br.jsx("button",{type:"button",onClick:()=>t("/platform/admin/dashboard"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancelar"}),Br.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Guardando...":h?"Actualizar Curso":"Crear Curso"})]})]}),h&&Br.jsxs("div",{className:"mt-8 space-y-6",children:[Br.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:Br.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Br.jsxs("div",{children:[Br.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Módulos del curso"}),Br.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Organiza tu curso en módulos temáticos para una mejor estructura de aprendizaje."})]}),Br.jsx("button",{onClick:()=>t(`/platform/admin/courses/${e}/modules`),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm",children:"Gestionar Módulos"})]})}),Br.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:Br.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Br.jsxs("div",{children:[Br.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lecciones del curso"}),Br.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Crea y organiza las lecciones individuales de tu curso."})]}),Br.jsx("button",{onClick:()=>t(`/platform/admin/courses/${e}/lessons`),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm",children:"Gestionar Lecciones"})]})})]})]})};const Dw=new class{uploadVideo(e,t,r,s){return Ae(this,null,function*(){var a,n;const i=new FormData;i.append("file",e),i.append("title",t),r&&i.append("description",r);try{return(yield Oo.post(Go(`${Wo}/upload/video`),i,{headers:Ce(ke({},Qo()),{"Content-Type":"multipart/form-data"}),onUploadProgress:e=>{if(s&&e.total){const t=e.loaded,r=e.total,a=Math.round(100*t/r);s({loaded:t,total:r,percentage:a})}}})).data}catch(o){throw new Error((null==(n=null==(a=o.response)?void 0:a.data)?void 0:n.detail)||"Error al subir video")}})}uploadImage(e,t="general",r){return Ae(this,null,function*(){var s,a;const n=new FormData;n.append("file",e),n.append("purpose",t);try{return(yield Oo.post(Go(`${Wo}/upload/image`),n,{headers:Ce(ke({},Qo()),{"Content-Type":"multipart/form-data"}),onUploadProgress:e=>{if(r&&e.total){const t=e.loaded,s=e.total,a=Math.round(100*t/s);r({loaded:t,total:s,percentage:a})}}})).data}catch(i){throw new Error((null==(a=null==(s=i.response)?void 0:s.data)?void 0:a.detail)||"Error al subir imagen")}})}getVideoInfo(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Wo}/video/${e}/info`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener información del video")}})}getImageInfo(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.get(Go(`${Wo}/image/${e}/info`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al obtener información de la imagen")}})}getVideoStreamUrl(e){const t=localStorage.getItem("auth_token");return Go(`${Wo}/video/${e}/stream?token=${t}`)}getImageUrl(e){const t=localStorage.getItem("auth_token");return Go(`${Wo}/image/${e}?token=${t}`)}deleteVideo(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.delete(Go(`${Wo}/video/${e}`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al eliminar video")}})}deleteImage(e){return Ae(this,null,function*(){var t,r;try{return(yield Oo.delete(Go(`${Wo}/image/${e}`),{headers:Qo()})).data}catch(s){throw new Error((null==(r=null==(t=s.response)?void 0:t.data)?void 0:r.detail)||"Error al eliminar imagen")}})}listVideos(){return Ae(this,null,function*(){var e,t;try{return(yield Oo.get(Go(`${Wo}/videos`),{headers:Qo()})).data}catch(r){throw new Error((null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.detail)||"Error al listar videos")}})}validateVideoFile(e){return["video/mp4","video/mpeg","video/quicktime","video/webm"].includes(e.type)?e.size>104857600?{isValid:!1,error:"El archivo es demasiado grande. Tamaño máximo: 100MB"}:{isValid:!0}:{isValid:!1,error:"Tipo de archivo no válido. Tipos permitidos: MP4, MPEG, MOV, WebM"}}validateImageFile(e){return["image/jpeg","image/png","image/webp","image/gif"].includes(e.type)?e.size>10485760?{isValid:!1,error:"El archivo es demasiado grande. Tamaño máximo: 10MB"}:{isValid:!0}:{isValid:!1,error:"Tipo de archivo no válido. Tipos permitidos: JPEG, PNG, WebP, GIF"}}formatFileSize(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}formatDuration(e){if(!e)return"00:00";const t=Math.floor(e/3600),r=Math.floor(e%3600/60),s=e%60;return t>0?`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`:`${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}},Pw=({onUploadSuccess:e,onUploadError:t,className:r="",maxFiles:s=5,showUploadForm:a=!0})=>{const[n,i]=ze.useState(!1),[o,l]=ze.useState([]),c=ze.useCallback(e=>{e.preventDefault(),e.stopPropagation(),i(!0)},[]),d=ze.useCallback(e=>{e.preventDefault(),e.stopPropagation(),i(!1)},[]),u=ze.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]),m=ze.useCallback(e=>{e.preventDefault(),e.stopPropagation(),i(!1);const t=Array.from(e.dataTransfer.files);x(t)},[]),h=ze.useCallback(e=>{if(e.target.files){const t=Array.from(e.target.files);x(t)}},[]),x=ze.useCallback(e=>{const r=(Array.isArray(e)?e:[]).filter(e=>{const r=Dw.validateVideoFile(e);return!!r.isValid||(null==t||t(r.error||"Archivo no válido"),!1)});if(o.length+r.length>s)return void(null==t||t(`Máximo ${s} archivos permitidos`));const a=r.map(e=>({id:`${Date.now()}-${Math.random()}`,file:e,title:e.name.replace(/\.[^/.]+$/,""),description:"",progress:{loaded:0,total:0,percentage:0},status:"pending"}));l(e=>[...e,...a])},[o.length,s,t]),p=ze.useCallback((e,t)=>{l(r=>r.map(r=>r.id===e?ke(ke({},r),t):r))},[]),g=ze.useCallback(r=>Ae(null,null,function*(){if(r.title.trim()){p(r.id,{status:"uploading"});try{const t=yield Dw.uploadVideo(r.file,r.title,r.description||void 0,e=>{p(r.id,{progress:e})});p(r.id,{status:"success",videoId:t.video_id}),null==e||e(t.video_id,t)}catch(s){p(r.id,{status:"error",error:s.message}),null==t||t(s.message)}}else p(r.id,{status:"error",error:"El título es requerido"})}),[p,e,t]),f=ze.useCallback(e=>{l(t=>(Array.isArray(t)?t:[]).filter(t=>t.id!==e))},[]),b=e=>{switch(e){case"success":return Br.jsx($g,{className:"h-5 w-5 text-green-500"});case"error":return Br.jsx(xf,{className:"h-5 w-5 text-red-500"});case"uploading":return Br.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"});default:return Br.jsx(lb,{className:"h-5 w-5 text-gray-400"})}};return Br.jsxs("div",{className:`space-y-6 ${r}`,children:[Br.jsx("div",{className:`\n          relative border-2 border-dashed rounded-lg p-6 transition-colors\n          ${n?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}\n        `,onDragEnter:c,onDragLeave:d,onDragOver:u,onDrop:m,children:Br.jsxs("div",{className:"text-center",children:[Br.jsx(sf,{className:"mx-auto h-12 w-12 text-gray-400"}),Br.jsxs("div",{className:"mt-4",children:[Br.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[Br.jsxs("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:["Arrastra videos aquí o"," ",Br.jsx("span",{className:"text-blue-600 hover:text-blue-500",children:"selecciona archivos"})]}),Br.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",multiple:!0,accept:"video/mp4,video/mpeg,video/quicktime,video/webm",onChange:h})]}),Br.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"MP4, MPEG, MOV, WebM hasta 100MB"})]})]})}),o.length>0&&Br.jsxs("div",{className:"space-y-4",children:[Br.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Videos a subir (",o.length,")"]}),Br.jsx("div",{className:"space-y-3",children:o.map(e=>Br.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:Br.jsxs("div",{className:"flex items-start space-x-4",children:[Br.jsx("div",{className:"flex-shrink-0",children:b(e.status)}),Br.jsxs("div",{className:"flex-1 min-w-0",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Br.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.name}),Br.jsx("button",{onClick:()=>f(e.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600",disabled:"uploading"===e.status,children:Br.jsx(mb,{className:"h-4 w-4"})})]}),Br.jsx("p",{className:"text-xs text-gray-500 mb-3",children:Dw.formatFileSize(e.file.size)}),a&&"success"!==e.status&&Br.jsxs("div",{className:"space-y-3",children:[Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Título del video *"}),Br.jsx("input",{type:"text",value:e.title,onChange:t=>p(e.id,{title:t.target.value}),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Título del video",disabled:"uploading"===e.status})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Descripción (opcional)"}),Br.jsx("textarea",{value:e.description,onChange:t=>p(e.id,{description:t.target.value}),rows:2,className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Descripción del video",disabled:"uploading"===e.status})]})]}),"uploading"===e.status&&Br.jsxs("div",{className:"mt-3",children:[Br.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-1",children:[Br.jsx("span",{children:"Subiendo..."}),Br.jsxs("span",{children:[e.progress.percentage,"%"]})]}),Br.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:Br.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.progress.percentage}%`}})})]}),"error"===e.status&&e.error&&Br.jsx("div",{className:"mt-2 text-xs text-red-600",children:e.error}),"success"===e.status&&Br.jsx("div",{className:"mt-2 text-xs text-green-600",children:"Video subido exitosamente"}),"pending"===e.status&&Br.jsx("div",{className:"mt-3",children:Br.jsx("button",{onClick:()=>g(e),disabled:!e.title.trim(),className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Subir Video"})})]})]})},e.id))})]})]})},Rw=({videoId:e,className:t="",autoPlay:r=!1,controls:s=!0,poster:a,onLoadStart:n,onLoadedMetadata:i,onTimeUpdate:o,onEnded:l,onError:c})=>{const d=ze.useRef(null),u=ze.useRef(null),[m,h]=ze.useState(!1),[x,p]=ze.useState(0),[g,f]=ze.useState(0),[b,v]=ze.useState(1),[y,j]=ze.useState(!1),[w,N]=ze.useState(!1),[k,C]=ze.useState(!0),[S,E]=ze.useState(null),[_,M]=ze.useState(!0),I=Dw.getVideoStreamUrl(e);ze.useEffect(()=>{let e;const t=()=>{M(!0),clearTimeout(e),m&&(e=setTimeout(()=>M(!1),3e3))},r=u.current;return r&&(r.addEventListener("mousemove",t),r.addEventListener("mouseleave",()=>M(!1))),()=>{clearTimeout(e),r&&(r.removeEventListener("mousemove",t),r.removeEventListener("mouseleave",()=>M(!1)))}},[m]);const O=()=>{const e=d.current;e&&(m?(e.pause(),h(!1)):(e.play(),h(!0)))};ze.useEffect(()=>{const e=()=>{N(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]);const T=e=>{const t=Math.floor(e/60),r=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},L=x>0?g/x*100:0;return S?Br.jsx("div",{className:`bg-gray-100 rounded-lg flex items-center justify-center p-8 ${t}`,children:Br.jsxs("div",{className:"text-center",children:[Br.jsx(xf,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),Br.jsx("p",{className:"text-gray-600",children:S}),Br.jsx("button",{onClick:()=>{E(null),C(!0)},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Reintentar"})]})}):Br.jsxs("div",{ref:u,className:`relative bg-black rounded-lg overflow-hidden group ${t}`,children:[Br.jsx("video",{ref:d,src:I,poster:a,className:"w-full h-full object-contain",autoPlay:r,onLoadStart:()=>{C(!0),E(null),null==n||n()},onLoadedMetadata:()=>{const e=d.current;e&&(p(e.duration),C(!1),null==i||i(e.duration))},onTimeUpdate:()=>{const e=d.current;e&&(f(e.currentTime),null==o||o(e.currentTime))},onEnded:()=>{h(!1),null==l||l()},onError:()=>{const e="Error al cargar el video";E(e),C(!1),null==c||c(e)},onClick:O}),k&&Br.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:Br.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}),s&&!k&&!S&&Br.jsxs("div",{className:`\n            absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4\n            transition-opacity duration-300\n            ${_||!m?"opacity-100":"opacity-0"}\n          `,children:[Br.jsx("div",{className:"mb-4",children:Br.jsx("input",{type:"range",min:"0",max:"100",value:L,onChange:e=>{const t=d.current;if(t){const r=parseFloat(e.target.value)/100*x;t.currentTime=r,f(r)}},className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #3B82F6 0%, #3B82F6 ${L}%, #4B5563 ${L}%, #4B5563 100%)`}})}),Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{className:"flex items-center space-x-4",children:[Br.jsx("button",{onClick:O,className:"text-white hover:text-blue-400 transition-colors",children:m?Br.jsx(Pf,{className:"h-6 w-6"}):Br.jsx(Bf,{className:"h-6 w-6"})}),Br.jsxs("div",{className:"flex items-center space-x-2",children:[Br.jsx("button",{onClick:()=>{const e=d.current;e&&(y?(e.volume=b,j(!1)):(e.volume=0,j(!0)))},className:"text-white hover:text-blue-400 transition-colors",children:y||0===b?Br.jsx(Jf,{className:"h-5 w-5"}):Br.jsx(Kf,{className:"h-5 w-5"})}),Br.jsx("input",{type:"range",min:"0",max:"100",value:y?0:100*b,onChange:e=>{const t=d.current,r=parseFloat(e.target.value)/100;t&&(t.volume=r,v(r),j(0===r))},className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]}),Br.jsxs("div",{className:"text-white text-sm",children:[T(g)," / ",T(x)]})]}),Br.jsx("button",{onClick:()=>{const e=u.current;e&&(w?document.exitFullscreen&&document.exitFullscreen():e.requestFullscreen&&e.requestFullscreen())},className:"text-white hover:text-blue-400 transition-colors",children:w?Br.jsx(Cg,{className:"h-5 w-5"}):Br.jsx(Eg,{className:"h-5 w-5"})})]})]}),!m&&!k&&!S&&Br.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:Br.jsx("button",{onClick:O,className:"bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full p-4 transition-all duration-200",children:Br.jsx(Bf,{className:"h-12 w-12 text-white ml-1"})})})]})};const zw=new class{getHeaders(){return Qo()}getCourseLessons(e){return Ae(this,null,function*(){try{const t=Date.now(),r=yield fetch(Go(`${$o}/course/${e}`),{method:"GET",headers:this.getHeaders()});Date.now();if(!r.ok){const e=yield r.text();let t;try{t=JSON.parse(e)}catch(Dn){t={detail:e}}throw new Error(t.detail||`Error fetching lessons: ${r.status}`)}const s=yield r.json();return s&&s.length>0&&s.forEach((e,t)=>{}),s||[]}catch(t){throw t}})}getLessonById(e){return Ae(this,null,function*(){const t=yield fetch(Go(`${$o}/${e}`),{headers:this.getHeaders()});if(!t.ok)throw new Error("Error fetching lesson");return yield t.json()})}createLesson(e,t){return Ae(this,null,function*(){const r=yield fetch(Go(`${$o}/course/${e}`),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(t)});if(!r.ok){const e=yield r.json();throw new Error(e.detail||"Error creating lesson")}return yield r.json()})}updateLesson(e,t){return Ae(this,null,function*(){const r=yield fetch(Go(`${$o}/${e}`),{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(t)});if(!r.ok){const e=yield r.json();throw new Error(e.detail||"Error updating lesson")}return yield r.json()})}deleteLesson(e){return Ae(this,null,function*(){const t=yield fetch(Go(`${$o}/${e}`),{method:"DELETE",headers:this.getHeaders()});if(!t.ok){const e=yield t.json();throw new Error(e.detail||"Error deleting lesson")}})}reorderLessons(e,t){return Ae(this,null,function*(){const r=yield fetch(Go(`${$o}/course/${e}/reorder`),{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(t)});if(!r.ok){const e=yield r.json();throw new Error(e.detail||"Error reordering lessons")}})}},$w=()=>{const{courseId:e}=Xe(),t=He(),{user:r}=al(),[s,a]=ze.useState(null),[n,i]=ze.useState([]),[o,l]=ze.useState(!0),[c,d]=ze.useState(!1),[u,m]=ze.useState(null),[h,x]=ze.useState(!1),[p,g]=ze.useState(!1),[f,b]=ze.useState({title:"",description:"",content_type:"text",is_free:!1});ze.useEffect(()=>{e&&v()},[e]);const v=()=>Ae(null,null,function*(){if(e)try{l(!0);const t=yield Ow.getCourse(e),r={id:t.id,title:t.title,instructor:t.instructor||"Sin instructor",lessons_count:t.lessons_count||0};a(r);const s=yield zw.getCourseLessons(e);i(s||[])}catch(t){An.error("Error al cargar el curso y lecciones")}finally{l(!1)}});return o?Br.jsx("div",{className:"flex items-center justify-center h-64",children:Br.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s?Br.jsxs("div",{className:"space-y-6",children:[Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{className:"flex items-center space-x-4",children:[Br.jsx("button",{onClick:()=>t("/platform/courses"),className:"text-gray-400 hover:text-gray-600",children:Br.jsx(jg,{className:"h-6 w-6"})}),Br.jsxs("div",{children:[Br.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Lecciones"}),Br.jsx("p",{className:"text-gray-600",children:s.title})]})]}),Br.jsxs("div",{className:"flex space-x-3",children:[Br.jsxs("button",{onClick:()=>d(!c),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[Br.jsx(lb,{className:"h-4 w-4 mr-2"}),"Subir Video"]}),Br.jsxs("button",{onClick:()=>g(!p),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[Br.jsx(Vf,{className:"h-4 w-4 mr-2"}),"Nueva Lección"]})]})]}),Br.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Lecciones"}),Br.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:n.length})]}),Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Lecciones de Video"}),Br.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:(Array.isArray(n)?n:[]).filter(e=>"video"===e.content_type).length})]}),Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Lecciones de Texto"}),Br.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:(Array.isArray(n)?n:[]).filter(e=>"text"===e.content_type).length})]}),Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Assignments"}),Br.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:(Array.isArray(n)?n:[]).filter(e=>"assignment"===e.lesson_type).length})]})]})}),c&&Br.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Subir Videos para Lecciones"}),Br.jsx(Pw,{onUploadSuccess:(e,t)=>Ae(null,null,function*(){try{An.success("Video subido exitosamente"),d(!1),yield v()}catch(e){An.error("Error al crear lección de video")}}),onUploadError:e=>An.error(e),maxFiles:3})]}),p&&Br.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Crear Nueva Lección"}),Br.jsxs("div",{className:"space-y-4",children:[Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de Lección"}),Br.jsxs("select",{value:f.content_type,onChange:e=>b(t=>Ce(ke({},t),{content_type:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[Br.jsx("option",{value:"text",children:"Lección de Texto"}),Br.jsx("option",{value:"video",children:"Lección de Video"})]})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Título *"}),Br.jsx("input",{type:"text",value:f.title,onChange:e=>b(t=>Ce(ke({},t),{title:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Título de la lección"})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción"}),Br.jsx("textarea",{value:f.description,onChange:e=>b(t=>Ce(ke({},t),{description:e.target.value})),rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Descripción de la lección"})]}),Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("input",{type:"checkbox",checked:f.is_free,onChange:e=>b(t=>Ce(ke({},t),{is_free:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),Br.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Lección gratuita"})]}),Br.jsxs("div",{className:"flex space-x-3",children:[Br.jsx("button",{onClick:()=>Ae(null,null,function*(){if(e&&f.title.trim())try{const t={title:f.title.trim(),course_id:e,order:n.length+1,content_type:f.content_type,content_text:f.description.trim(),duration:0,is_free_preview:f.is_free,attachments:[]};yield zw.createLesson(e,t);An.success("Lección creada exitosamente"),g(!1),b({title:"",description:"",content_type:"text",is_free:!1}),yield v()}catch(t){An.error(t.message||"Error al crear lección")}else An.error("El título es requerido")}),disabled:!f.title.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-300",children:"Crear Lección"}),Br.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancelar"})]})]})]}),Br.jsxs("div",{className:"bg-white shadow rounded-lg",children:[Br.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:Br.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Lecciones del Curso"})}),0===n.length?Br.jsxs("div",{className:"text-center py-12",children:[Br.jsx(df,{className:"mx-auto h-12 w-12 text-gray-400"}),Br.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay lecciones"}),Br.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comienza creando la primera lección de este curso."})]}):Br.jsx("div",{className:"divide-y divide-gray-200",children:n.map((e,r)=>Br.jsx("div",{className:"p-6",children:Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{className:"flex items-center space-x-4",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-gray-100 text-sm font-medium text-gray-500",children:r+1})}),Br.jsxs("div",{className:"flex items-center space-x-2",children:["video"===e.content_type?Br.jsx(lb,{className:"h-5 w-5 text-blue-500"}):"assignment"===e.lesson_type||"assignment"===e.content_type?Br.jsx(Zg,{className:"h-5 w-5 text-purple-500"}):Br.jsx(df,{className:"h-5 w-5 text-green-500"}),Br.jsxs("div",{children:[Br.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e.title}),Br.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})]})]}),Br.jsxs("div",{className:"flex items-center space-x-2",children:["video"===e.content_type&&e.video_url&&Br.jsx("button",{onClick:()=>{m(e),x(!0)},className:"text-blue-600 hover:text-blue-500",title:"Ver video",children:Br.jsx(Bf,{className:"h-5 w-5"})}),("assignment"===e.lesson_type||"assignment"===e.content_type)&&e.assignment_id&&Br.jsx("button",{onClick:()=>t(`/platform/admin/assignments/${e.assignment_id}/grading`),className:"text-purple-600 hover:text-purple-500",title:"Calificar assignment",children:Br.jsx(Zg,{className:"h-5 w-5"})}),Br.jsx("button",{onClick:()=>{},className:"text-gray-400 hover:text-gray-600",title:"Editar lección",children:Br.jsx(zf,{className:"h-5 w-5"})}),Br.jsx("button",{onClick:()=>{return t=e.id,Ae(null,null,function*(){if(confirm("¿Estás seguro de que quieres eliminar esta lección?"))try{yield zw.deleteLesson(t),An.success("Lección eliminada exitosamente"),yield v()}catch(e){An.error(e.message||"Error al eliminar lección")}});var t},className:"text-red-400 hover:text-red-600",title:"Eliminar lección",children:Br.jsx(rb,{className:"h-5 w-5"})})]})]})},e.id))})]}),h&&u&&u.video_url&&Br.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:Br.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Br.jsx("h3",{className:"text-lg font-medium text-gray-900",children:u.title}),Br.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),Br.jsx("div",{className:"aspect-video",children:Br.jsx(Rw,{videoId:(e=>{if(!e)return null;const t=e.match(/\/video\/([^\/]+)\/stream/);return t?t[1]:null})(u.video_url)||"",className:"w-full h-full"})})]})})]}):Br.jsxs("div",{className:"text-center py-12",children:[Br.jsx("p",{className:"text-gray-500",children:"Curso no encontrado"}),Br.jsx("button",{onClick:()=>t("/platform/courses"),className:"mt-4 text-blue-600 hover:text-blue-500",children:"Volver a cursos"})]})},qw=()=>{const{courseId:e}=Xe(),t=He(),[r,s]=ze.useState(null),[a,n]=ze.useState([]),[i,o]=ze.useState(!1),[l,c]=ze.useState(null),[d,u]=ze.useState(!1),[m,h]=ze.useState(null),[x,p]=ze.useState({title:"",description:"",estimated_duration:0,is_required:!0,unlock_previous:!0}),[g,f]=ze.useState({}),[b,v]=ze.useState(!1),[y,j]=ze.useState(!1);ze.useEffect(()=>{e&&w()},[e]);const w=()=>Ae(null,null,function*(){if(e){o(!0),c(null);try{const[t,r]=yield Promise.all([Wb.getCourse(e),nv.getCourseModules(e)]);s(t),n(r)}catch(Kw){c("Error al cargar los módulos del curso")}finally{o(!1)}}}),N=()=>{h(null),p({title:"",description:"",estimated_duration:0,is_required:!0,unlock_previous:!0}),f({}),u(!0)},k=(t,r)=>Ae(null,null,function*(){const s=a.findIndex(e=>e.id===t);if(-1===s)return;const n="up"===r?s-1:s+1;if(!(n<0||n>=a.length)){j(!0);try{const t=a.map((e,t)=>{let r=t+1;return t===s?r=n+1:t===n&&(r=s+1),{id:e.id,order:r}});yield nv.reorderModules(e,t),yield w()}catch(Kw){c("Error al reordenar los módulos")}finally{j(!1)}}});return i?Br.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:Br.jsx("div",{className:"max-w-6xl mx-auto",children:Br.jsxs("div",{className:"animate-pulse",children:[Br.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-6"}),Br.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>Br.jsx("div",{className:"h-24 bg-gray-300 rounded"},e))})]})})}):Br.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:Br.jsxs("div",{className:"max-w-6xl mx-auto",children:[Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{children:[Br.jsx("button",{onClick:()=>t("/platform/courses"),className:"text-blue-600 hover:text-blue-800 mb-2 text-sm font-medium",children:"← Volver a Cursos"}),Br.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Módulos"}),r&&Br.jsxs("p",{className:"text-gray-600 mt-1",children:["Curso: ",Br.jsx("span",{className:"font-medium",children:r.title})]})]}),Br.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Br.jsx(Vf,{className:"w-5 h-5 mr-2"}),"Nuevo Módulo"]})]}),l&&Br.jsxs("div",{className:"mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[l,Br.jsx("button",{onClick:()=>c(null),className:"ml-2 text-red-800 hover:text-red-900",children:"✕"})]})]}),Br.jsx("div",{className:"space-y-4",children:0===a.length?Br.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[Br.jsx(Og,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Br.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay módulos creados"}),Br.jsx("p",{className:"text-gray-600 mb-6",children:"Crea el primer módulo para estructurar tu curso"}),Br.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Br.jsx(Vf,{className:"w-5 h-5 mr-2"}),"Crear Primer Módulo"]})]}):a.map((e,t)=>{return Br.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:Br.jsx("div",{className:"p-6",children:Br.jsxs("div",{className:"flex items-start justify-between",children:[Br.jsxs("div",{className:"flex-1",children:[Br.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Br.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded",children:["Módulo ",e.order]}),e.is_required&&Br.jsx("span",{className:"bg-red-100 text-red-800 text-xs font-medium px-2 py-0.5 rounded",children:"Obligatorio"}),e.unlock_previous?Br.jsx(kf,{className:"w-4 h-4 text-gray-400",title:"Requiere módulo anterior"}):Br.jsx(Sf,{className:"w-4 h-4 text-green-600",title:"Acceso libre"})]}),Br.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),Br.jsx("p",{className:"text-gray-600 mb-4",children:e.description||Br.jsx("span",{className:"italic text-gray-400",children:"Sin descripción - Puedes agregar una editando el módulo"})}),Br.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[Br.jsxs("div",{className:"flex items-center gap-1",children:[Br.jsx(Og,{className:"w-4 h-4"}),Br.jsxs("span",{children:[e.lessons.length," lecciones"]})]}),Br.jsxs("div",{className:"flex items-center gap-1",children:[Br.jsx(tf,{className:"w-4 h-4"}),Br.jsx("span",{children:(r=e.estimated_duration,0===r?"No especificada":nv.formatDuration(r))})]})]})]}),Br.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[Br.jsxs("div",{className:"flex flex-col",children:[Br.jsx("button",{onClick:()=>k(e.id,"up"),disabled:0===t||y,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed",title:"Mover arriba",children:Br.jsx(Xg,{className:"w-4 h-4"})}),Br.jsx("button",{onClick:()=>k(e.id,"down"),disabled:t===a.length-1||y,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed",title:"Mover abajo",children:Br.jsx(Wg,{className:"w-4 h-4"})})]}),Br.jsx("button",{onClick:()=>(e=>{h(e),p({title:e.title,description:e.description,estimated_duration:e.estimated_duration,is_required:e.is_required,unlock_previous:e.unlock_previous}),f({}),u(!0)})(e),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded",title:"Editar módulo",children:Br.jsx(zf,{className:"w-4 h-4"})}),Br.jsx("button",{onClick:()=>(e=>Ae(null,null,function*(){if(window.confirm(`¿Estás seguro de que quieres eliminar el módulo "${e.title}"?`))try{yield nv.deleteModule(e.id),yield w()}catch(Kw){c("Error al eliminar el módulo")}}))(e),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded",title:"Eliminar módulo",children:Br.jsx(rb,{className:"w-4 h-4"})})]})]})})},e.id);var r})}),d&&Br.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:Br.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-screen overflow-y-auto",children:Br.jsxs("div",{className:"p-6",children:[Br.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m?"Editar Módulo":"Crear Nuevo Módulo"}),Br.jsxs("form",{onSubmit:t=>Ae(null,null,function*(){if(t.preventDefault(),e&&(()=>{const e={};return x.title.trim()?x.title.length<3&&(e.title="El título debe tener al menos 3 caracteres"):e.title="El título es requerido",x.description.trim()&&x.description.length<10&&(e.description="La descripción debe tener al menos 10 caracteres si se proporciona"),x.estimated_duration<0&&(e.estimated_duration="La duración no puede ser negativa"),f(e),0===Object.keys(e).length})()){v(!0);try{if(m){const e={title:x.title.trim(),description:x.description.trim(),estimated_duration:x.estimated_duration,is_required:x.is_required,unlock_previous:x.unlock_previous};yield nv.updateModule(m.id,e)}else{const t=Ce(ke({title:x.title.trim()},x.description.trim()&&{description:x.description.trim()}),{estimated_duration:x.estimated_duration,is_required:x.is_required,unlock_previous:x.unlock_previous,order:a.length+1});yield nv.createModule(e,t)}u(!1),yield w()}catch(Kw){c(m?"Error al actualizar el módulo":"Error al crear el módulo")}finally{v(!1)}}}),className:"space-y-4",children:[Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título *"}),Br.jsx("input",{type:"text",value:x.title,onChange:e=>p(Ce(ke({},x),{title:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(g.title?"border-red-500":"border-gray-300"),placeholder:"Ej: Módulo 1: Introducción a SICMON"}),g.title&&Br.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.title})]}),Br.jsxs("div",{children:[Br.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Descripción ",Br.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),Br.jsx("textarea",{value:x.description,onChange:e=>p(Ce(ke({},x),{description:e.target.value})),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(g.description?"border-red-500":"border-gray-300"),placeholder:"Describe el contenido y objetivos del módulo (opcional)..."}),g.description&&Br.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.description}),Br.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Puedes agregar la descripción más tarde si prefieres crear el módulo primero"})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duración estimada (minutos)"}),Br.jsx("input",{type:"number",value:x.estimated_duration,onChange:e=>p(Ce(ke({},x),{estimated_duration:parseInt(e.target.value)||0})),min:"0",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(g.estimated_duration?"border-red-500":"border-gray-300"),placeholder:"120"}),g.estimated_duration&&Br.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.estimated_duration})]}),Br.jsxs("div",{className:"space-y-3",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("input",{type:"checkbox",id:"is_required",checked:x.is_required,onChange:e=>p(Ce(ke({},x),{is_required:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),Br.jsx("label",{htmlFor:"is_required",className:"ml-2 text-sm text-gray-700",children:"Módulo obligatorio para completar el curso"})]}),Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("input",{type:"checkbox",id:"unlock_previous",checked:x.unlock_previous,onChange:e=>p(Ce(ke({},x),{unlock_previous:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),Br.jsx("label",{htmlFor:"unlock_previous",className:"ml-2 text-sm text-gray-700",children:"Requiere completar el módulo anterior"})]})]}),Br.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Br.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:b,children:"Cancelar"}),Br.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:b?"Guardando...":m?"Actualizar":"Crear"})]})]})]})})})]})})},Fw=()=>{var e,t,r,s,a,n,i,o,l,c,d,u,m,h,x,p,g,f,b,v,y;const{user:j,isLoading:w,isAuthenticated:N}=al(),[k,C]=ze.useState(null),[S,E]=ze.useState([]),[_,M]=ze.useState(null),[I,O]=ze.useState(!0),[T,L]=ze.useState(null),[A,D]=ze.useState("30"),[P,R]=ze.useState("overview");ze.useEffect(()=>{if(!w&&N&&"admin"===(null==j?void 0:j.role)&&(null==j?void 0:j.id)){const e=localStorage.getItem("auth_token");e&&"null"!==e&&"undefined"!==e?z():(L("No se encontró token de autenticación"),O(!1))}else w||N&&"admin"===(null==j?void 0:j.role)||(L("Acceso denegado: Se requieren permisos de administrador"),O(!1))},[w,N,null==j?void 0:j.id,null==j?void 0:j.role,A]);const z=()=>Ae(null,null,function*(){try{O(!0),L(null);const[e,t,r]=yield Promise.all([hl.getPlatformMetrics().catch(e=>null),hl.getPopularCourses(A).catch(e=>({courses:[]})),hl.getRevenueData().catch(e=>null)]);C(e),E(t.courses),M(r)}catch(Kw){L("Error cargando datos de analytics")}finally{O(!1)}}),$=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return w||N&&"admin"===(null==j?void 0:j.role)&&I?Br.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),Br.jsx("p",{className:"text-gray-600",children:"Cargando analytics..."})]})}):w||N&&j&&"admin"===j.role?T?Br.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Br.jsxs("div",{className:"text-center",children:[Br.jsx("div",{className:"text-red-500 mb-4",children:Br.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Br.jsx("p",{className:"text-gray-600 mb-4",children:T}),Br.jsx("button",{onClick:z,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Intentar de nuevo"})]})}):Br.jsxs("div",{className:"min-h-screen bg-gray-50",children:[Br.jsx("div",{className:"bg-white shadow",children:Br.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Br.jsxs("div",{className:"flex justify-between items-center py-6",children:[Br.jsxs("div",{children:[Br.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),Br.jsx("p",{className:"mt-1 text-gray-600",children:"Métricas y estadísticas de la plataforma"})]}),Br.jsxs("div",{className:"flex items-center space-x-4",children:[Br.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Período:"}),Br.jsxs("select",{value:A,onChange:e=>D(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[Br.jsx("option",{value:"7",children:"Últimos 7 días"}),Br.jsx("option",{value:"30",children:"Últimos 30 días"}),Br.jsx("option",{value:"90",children:"Últimos 90 días"}),Br.jsx("option",{value:"365",children:"Último año"})]})]})]}),Br.jsx("div",{className:"border-b border-gray-200",children:Br.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",name:"Vista General",icon:"📊"},{id:"users",name:"Usuarios",icon:"👥"},{id:"courses",name:"Cursos",icon:"📚"},{id:"revenue",name:"Ingresos",icon:"💰"}].map(e=>Br.jsxs("button",{onClick:()=>R(e.id),className:(P===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center",children:[Br.jsx("span",{className:"mr-2",children:e.icon}),e.name]},e.id))})})]})}),Br.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===P&&Br.jsxs("div",{className:"space-y-6",children:[Br.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[Br.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[Br.jsx("div",{className:"p-5",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center",children:Br.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})}),Br.jsx("div",{className:"ml-5 w-0 flex-1",children:Br.jsxs("dl",{children:[Br.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Usuarios"}),Br.jsx("dd",{className:"text-lg font-medium text-gray-900",children:null!=(t=null==(e=null==k?void 0:k.users.total_users)?void 0:e.toLocaleString())?t:"0"})]})})]})}),Br.jsx("div",{className:"bg-gray-50 px-5 py-3",children:Br.jsxs("div",{className:"text-sm",children:[Br.jsxs("span",{className:"text-green-600 font-medium",children:["+",(null==k?void 0:k.users.new_users)||0]}),Br.jsx("span",{className:"text-gray-600",children:" nuevos este período"})]})})]}),Br.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[Br.jsx("div",{className:"p-5",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center",children:Br.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),Br.jsx("div",{className:"ml-5 w-0 flex-1",children:Br.jsxs("dl",{children:[Br.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Usuarios Activos"}),Br.jsx("dd",{className:"text-lg font-medium text-gray-900",children:null!=(s=null==(r=null==k?void 0:k.users.active_users)?void 0:r.toLocaleString())?s:"0"})]})})]})}),Br.jsx("div",{className:"bg-gray-50 px-5 py-3",children:Br.jsx("div",{className:"text-sm",children:Br.jsxs("span",{className:"text-gray-600",children:[((null!=(a=null==k?void 0:k.users.active_users)?a:0)/(null!=(n=null==k?void 0:k.users.total_users)?n:1)*100).toFixed(1),"% del total"]})})})]}),Br.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[Br.jsx("div",{className:"p-5",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center",children:Br.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})}),Br.jsx("div",{className:"ml-5 w-0 flex-1",children:Br.jsxs("dl",{children:[Br.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Cursos"}),Br.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(null==k?void 0:k.content.total_courses)||0})]})})]})}),Br.jsx("div",{className:"bg-gray-50 px-5 py-3",children:Br.jsx("div",{className:"text-sm",children:Br.jsxs("span",{className:"text-gray-600",children:[(null==k?void 0:k.content.total_enrollments)||0," enrollments totales"]})})})]}),Br.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[Br.jsx("div",{className:"p-5",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"flex-shrink-0",children:Br.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-md flex items-center justify-center",children:Br.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),Br.jsx("div",{className:"ml-5 w-0 flex-1",children:Br.jsxs("dl",{children:[Br.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Tasa de Finalización"}),Br.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:[(()=>{var e;const t=null==(e=null==k?void 0:k.content)?void 0:e.completion_rate;return("number"!=typeof t||isNaN(t)?0:t).toFixed(1)})(),"%"]})]})})]})}),Br.jsx("div",{className:"bg-gray-50 px-5 py-3",children:Br.jsx("div",{className:"text-sm",children:Br.jsxs("span",{className:"text-gray-600",children:[(null==k?void 0:k.content.completed_enrollments)||0," cursos completados"]})})})]})]}),Br.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[Br.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tiempo de Visualización"}),Br.jsxs("div",{className:"text-center py-8",children:[Br.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:(q=(null==k?void 0:k.engagement.total_watch_time_seconds)||0,`${Math.floor(q/3600)}h ${Math.floor(q%3600/60)}m`)}),Br.jsx("p",{className:"text-gray-600",children:"Total acumulado"}),Br.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Promedio por usuario: ",null!=(o=null==(i=null==k?void 0:k.engagement.average_watch_time_per_user)?void 0:i.toFixed(1))?o:"0","h"]})]})]}),Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[Br.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cursos Más Populares"}),Br.jsx("div",{className:"space-y-3",children:(Array.isArray(S)?S.slice(0,5).filter(e=>e&&e.course_id):[]).map((e,t)=>Br.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-sm font-medium text-blue-600 mr-3",children:t+1}),Br.jsxs("div",{children:[Br.jsx("p",{className:"font-medium text-gray-900 truncate max-w-xs",title:(null==e?void 0:e.course_title)||"Sin título",children:(null==e?void 0:e.course_title)||"Sin título"}),Br.jsxs("p",{className:"text-sm text-gray-500",children:[(()=>{const t=null==e?void 0:e.completion_rate;return("number"!=typeof t||isNaN(t)?0:t).toFixed(1)})(),"% completado"]})]})]}),Br.jsx("div",{className:"text-right",children:Br.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(null==e?void 0:e.enrollment_count)||0," estudiantes"]})})]},e.course_id))})]})]})]}),"users"===P&&Br.jsx("div",{className:"space-y-6",children:Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[Br.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Estadísticas de Usuarios"}),Br.jsx("div",{className:"h-80",children:Br.jsx(tt,{width:"100%",height:"100%",children:Br.jsxs(rt,{data:[{name:"Sem 1",usuarios:(null!=(l=null==k?void 0:k.users.total_users)?l:0)-(null!=(c=null==k?void 0:k.users.new_users)?c:0)},{name:"Sem 2",usuarios:(null!=(d=null==k?void 0:k.users.total_users)?d:0)-Math.floor(.7*(null!=(u=null==k?void 0:k.users.new_users)?u:0))},{name:"Sem 3",usuarios:(null!=(m=null==k?void 0:k.users.total_users)?m:0)-Math.floor(.4*(null!=(h=null==k?void 0:k.users.new_users)?h:0))},{name:"Actual",usuarios:null!=(x=null==k?void 0:k.users.total_users)?x:0}],children:[Br.jsx(st,{strokeDasharray:"3 3"}),Br.jsx(at,{dataKey:"name"}),Br.jsx(nt,{}),Br.jsx(it,{}),Br.jsx(ot,{type:"monotone",dataKey:"usuarios",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.6})]})})}),Br.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[Br.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[Br.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[null!=(g=null==(p=null==k?void 0:k.users.user_growth_rate)?void 0:p.toFixed(1))?g:"0","%"]}),Br.jsx("div",{className:"text-sm text-blue-800",children:"Tasa de Crecimiento"})]}),Br.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[Br.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[((null!=(f=null==k?void 0:k.users.active_users)?f:0)/(null!=(b=null==k?void 0:k.users.total_users)?b:1)*100).toFixed(1),"%"]}),Br.jsx("div",{className:"text-sm text-green-800",children:"Usuarios Activos"})]}),Br.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[Br.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(null==k?void 0:k.users.new_users)||0}),Br.jsx("div",{className:"text-sm text-purple-800",children:"Nuevos Usuarios"})]})]})]})}),"courses"===P&&Br.jsx("div",{className:"space-y-6",children:Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[Br.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Estadísticas de Cursos"}),Br.jsx("div",{className:"overflow-x-auto",children:Br.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[Br.jsx("thead",{className:"bg-gray-50",children:Br.jsxs("tr",{children:[Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Curso"}),Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estudiantes"}),Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tasa de Finalización"}),Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating Promedio"})]})}),Br.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(Array.isArray(S)?S:[]).filter(e=>e&&e.course_id).map(e=>{var t;return Br.jsxs("tr",{className:"hover:bg-gray-50",children:[Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Br.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.course_title||"Sin título"})}),Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.enrollment_count||0}),Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:Br.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${(()=>{if(!e)return 0;const t=e.completion_rate;let r=0;return null==t||isNaN(Number(t))||(r=Math.max(0,Math.min(100,Number(t)))),r})()}%`}})}),Br.jsxs("span",{className:"text-sm text-gray-900",children:[(()=>{if(!e)return"0%";const t=e.completion_rate;let r=0;return null==t||isNaN(Number(t))||(r=Math.max(0,Math.min(100,Number(t)))),r.toFixed(1)})(),"%"]})]})}),Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Br.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(t=>{var r;const s=null!=(r=null==e?void 0:e.average_rating)?r:0;return Br.jsx("svg",{className:"h-4 w-4 "+(t<=s?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:Br.jsx("path",{fillRule:"evenodd",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t)}),Br.jsx("span",{className:"ml-1 text-sm text-gray-500",children:(null!=(t=null==e?void 0:e.average_rating)?t:0).toFixed(1)})]})})]},e.course_id)})})]})})]})}),"revenue"===P&&Br.jsxs("div",{className:"space-y-6",children:[Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:[Br.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:$((null==_?void 0:_.total_revenue)||0)}),Br.jsx("div",{className:"text-gray-600",children:"Ingresos Totales"})]}),Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:[Br.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:(null==_?void 0:_.monthly_revenue)||0}),Br.jsx("div",{className:"text-gray-600",children:"Ingresos Mensuales"})]}),Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:[Br.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[(null==(v=null==_?void 0:_.revenue_growth)?void 0:v.toFixed(1))||0,"%"]}),Br.jsx("div",{className:"text-gray-600",children:"Crecimiento %"})]})]}),Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[Br.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cursos Más Vendidos"}),(null==(y=null==_?void 0:_.top_earning_courses)?void 0:y.length)?Br.jsx("div",{className:"space-y-4",children:(Array.isArray(null==_?void 0:_.top_earning_courses)?_.top_earning_courses:[]).filter(e=>e&&e.course_id).map((e,t)=>Br.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[Br.jsxs("div",{className:"flex items-center",children:[Br.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-sm font-medium text-green-600 mr-3",children:t+1}),Br.jsxs("div",{children:[Br.jsx("p",{className:"font-medium text-gray-900",children:(null==e?void 0:e.course_title)||"Sin título"}),Br.jsxs("p",{className:"text-sm text-gray-500",children:[(null==e?void 0:e.enrollments)||0," enrollments"]})]})]}),Br.jsx("div",{className:"text-right",children:Br.jsx("p",{className:"text-lg font-bold text-green-600",children:$((null==e?void 0:e.revenue)||0)})})]},e.course_id))}):Br.jsx("div",{className:"text-center py-8 text-gray-500",children:Br.jsx("p",{children:"No hay datos de ventas disponibles"})})]})]})]})]}):Br.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Br.jsxs("div",{className:"text-center",children:[Br.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acceso Denegado"}),Br.jsx("p",{className:"text-gray-600",children:"Solo los administradores pueden acceder a este panel"})]})});var q},Bw=()=>{const e=He(),[t,r]=ze.useState([]),[s,a]=ze.useState([]),[n,i]=ze.useState(!0),[o,l]=ze.useState(""),[c,d]=ze.useState(""),[u,m]=ze.useState(""),[h,x]=ze.useState(!1);ze.useEffect(()=>{p()},[c,u]);const p=()=>Ae(null,null,function*(){try{i(!0);const e=yield Ow.getCourses(0,100);a(e);const t={};c&&(t.course_id=c),u&&(t.status=u);const s=yield ey.getQuizzes(t);r(s)}catch(e){}finally{i(!1)}}),g=(Array.isArray(t)?t:[]).filter(e=>e.title.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase())),f=e=>{const t=ey.getStatusColor(e),r={green:"bg-green-100 text-green-800",yellow:"bg-yellow-100 text-yellow-800",gray:"bg-gray-100 text-gray-800",red:"bg-red-100 text-red-800",blue:"bg-blue-100 text-blue-800"};return Br.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r[t]||r.gray}`,children:e})};return n?Br.jsx("div",{className:"flex justify-center items-center h-64",children:Br.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):Br.jsxs("div",{className:"space-y-6",children:[Br.jsxs("div",{className:"flex justify-between items-center",children:[Br.jsxs("div",{children:[Br.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Quizzes"}),Br.jsx("p",{className:"text-gray-600",children:"Administra los quizzes de evaluación"})]}),Br.jsxs("button",{onClick:()=>e("/platform/admin/quizzes/new"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[Br.jsx(Vf,{className:"h-5 w-5"}),Br.jsx("span",{children:"Nuevo Quiz"})]})]}),Br.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[Br.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[Br.jsxs("div",{className:"flex-1 relative",children:[Br.jsx(_f,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),Br.jsx("input",{type:"text",placeholder:"Buscar quizzes...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Br.jsxs("button",{onClick:()=>x(!h),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[Br.jsx(bf,{className:"h-5 w-5"}),Br.jsx("span",{children:"Filtros"})]})]}),h&&Br.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4 pt-4 border-t",children:[Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Curso"}),Br.jsxs("select",{value:c,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[Br.jsx("option",{value:"",children:"Todos los cursos"}),s.map(e=>Br.jsx("option",{value:e.id,children:e.title},e.id))]})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),Br.jsxs("select",{value:u,onChange:e=>m(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[Br.jsx("option",{value:"",children:"Todos los estados"}),Br.jsx("option",{value:"draft",children:"Borrador"}),Br.jsx("option",{value:"published",children:"Publicado"}),Br.jsx("option",{value:"archived",children:"Archivado"})]})]})]})]}),Br.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:0===g.length?Br.jsxs("div",{className:"text-center py-12",children:[Br.jsx("div",{className:"text-gray-400 mb-4",children:Br.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Br.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),Br.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay quizzes"}),Br.jsx("p",{className:"text-gray-600 mb-4",children:"Comienza creando tu primer quiz de evaluación"}),Br.jsxs("button",{onClick:()=>e("/platform/admin/quizzes/new"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg inline-flex items-center space-x-2 transition-colors",children:[Br.jsx(Vf,{className:"h-5 w-5"}),Br.jsx("span",{children:"Crear Quiz"})]})]}):Br.jsx("div",{className:"overflow-x-auto",children:Br.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[Br.jsx("thead",{className:"bg-gray-50",children:Br.jsxs("tr",{children:[Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quiz"}),Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Curso"}),Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preguntas"}),Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiempo Límite"}),Br.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Creado"}),Br.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),Br.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(a=>{var n;const i=s.find(e=>e.id===a.course_id);return Br.jsxs("tr",{className:"hover:bg-gray-50",children:[Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.title}),Br.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:a.description})]})}),Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Br.jsx("div",{className:"text-sm text-gray-900",children:(null==i?void 0:i.title)||"Curso no encontrado"})}),Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f(a.status)}),Br.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(null==(n=a.questions)?void 0:n.length)||0," preguntas"]}),Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ey.formatTimeLimit(a.time_limit_minutes)}),Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.created_at).toLocaleDateString()}),Br.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Br.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[Br.jsx("button",{onClick:()=>e(`/platform/admin/quizzes/${a.id}/preview`),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"Vista previa",children:Br.jsx(gf,{className:"h-4 w-4"})}),Br.jsx("button",{onClick:()=>e(`/platform/admin/quizzes/${a.id}/statistics`),className:"text-green-600 hover:text-green-900 p-1 rounded",title:"Estadísticas",children:Br.jsx(Dg,{className:"h-4 w-4"})}),Br.jsx("button",{onClick:()=>e(`/platform/admin/quizzes/${a.id}/edit`),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded",title:"Editar",children:Br.jsx(zf,{className:"h-4 w-4"})}),Br.jsx("button",{onClick:()=>{return e=a.id,Ae(null,null,function*(){if(window.confirm("¿Estás seguro de que quieres eliminar este quiz?"))try{yield ey.deleteQuiz(e),r((Array.isArray(t)?t:[]).filter(t=>t.id!==e))}catch(s){alert("Error al eliminar el quiz")}});var e},className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Eliminar",children:Br.jsx(rb,{className:"h-4 w-4"})})]})})]},a.id)})})]})})}),g.length>0&&Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[Br.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[Br.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g.length}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Total Quizzes"})]}),Br.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[Br.jsx("div",{className:"text-2xl font-bold text-green-600",children:(Array.isArray(g)?g:[]).filter(e=>"published"===e.status).length}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Publicados"})]}),Br.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[Br.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(Array.isArray(g)?g:[]).filter(e=>"draft"===e.status).length}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Borradores"})]}),Br.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[Br.jsx("div",{className:"text-2xl font-bold text-gray-600",children:g.reduce((e,t)=>{var r;return e+((null==(r=t.questions)?void 0:r.length)||0)},0)}),Br.jsx("div",{className:"text-sm text-gray-600",children:"Total Preguntas"})]})]})]})},Ww=()=>{const e=He(),{quizId:t}=Xe(),r=!!t,[s,a]=ze.useState(!1),[n,i]=ze.useState([]),[o,l]=ze.useState({title:"",description:"",course_id:"",lesson_id:"",instructions:"",time_limit_minutes:0,max_attempts:3,passing_score:70,shuffle_questions:!1,show_results:!0,allow_review:!0,tags:[],status:Jv.DRAFT}),[c,d]=ze.useState([]),[u,m]=ze.useState({type:Yv.MULTIPLE_CHOICE,text:"",options:[{id:"1",text:"",is_correct:!1,order:0},{id:"2",text:"",is_correct:!1,order:1},{id:"3",text:"",is_correct:!1,order:2},{id:"4",text:"",is_correct:!1,order:3}],correct_answers:[],explanation:"",points:1,tags:[]}),[h,x]=ze.useState(!1),[p,g]=ze.useState(null);ze.useEffect(()=>{f()},[t]);const f=()=>Ae(null,null,function*(){try{a(!0);const e=yield Ow.getCourses(0,100);if(i(e),r&&t){const e=yield ey.getQuiz(t);l({title:e.title,description:e.description,course_id:e.course_id,lesson_id:e.lesson_id||"",instructions:e.instructions||"",time_limit_minutes:e.time_limit_minutes||0,max_attempts:e.max_attempts,passing_score:e.passing_score,shuffle_questions:e.shuffle_questions,show_results:e.show_results,allow_review:e.allow_review,tags:e.tags||[],status:e.status}),d(e.questions||[])}}catch(e){}finally{a(!1)}}),b=(e,t)=>{l(r=>Ce(ke({},r),{[e]:t}))},v=(e,t)=>{m(r=>Ce(ke({},r),{[e]:t}))},y=()=>{m({type:Yv.MULTIPLE_CHOICE,text:"",options:[{id:"1",text:"",is_correct:!1,order:0},{id:"2",text:"",is_correct:!1,order:1},{id:"3",text:"",is_correct:!1,order:2},{id:"4",text:"",is_correct:!1,order:3}],correct_answers:[],explanation:"",points:1,tags:[]}),x(!1),g(null)},j=(...s)=>Ae(null,[...s],function*(s=Jv.DRAFT){try{if(!o.title.trim()||!o.description.trim()||!o.course_id)return void alert("Por favor completa todos los campos requeridos");if(s===Jv.PUBLISHED&&0===c.length)return void alert("No puedes publicar un quiz sin preguntas");a(!0);const n=Ce(ke({},o),{questions:c,question_pool:[],question_ids:(Array.isArray(c)?c:[]).map(e=>e.id).filter(Boolean),config:{shuffle_questions:o.shuffle_questions||!1,shuffle_answers:!1,show_correct_answers:o.show_results||!0,allow_review:o.allow_review||!0,time_limit_enabled:!!o.time_limit_minutes,proctoring_enabled:!1,require_webcam:!1,prevent_copy_paste:!1,randomize_order:!1},estimated_duration:o.time_limit_minutes||30,status:s});if(r&&t)yield ey.updateQuiz(t,{status:s});else{const e=yield ey.createQuiz(n);s===Jv.PUBLISHED&&(yield ey.updateQuiz(e.id,{status:Jv.PUBLISHED}))}e("/platform/admin/quizzes")}catch(n){alert("Error al guardar el quiz")}finally{a(!1)}});return s&&r?Br.jsx("div",{className:"flex justify-center items-center h-64",children:Br.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):Br.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[Br.jsx("div",{className:"flex items-center justify-between",children:Br.jsxs("div",{className:"flex items-center space-x-4",children:[Br.jsx("button",{onClick:()=>e("/platform/admin/quizzes"),className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",children:Br.jsx(jg,{className:"h-5 w-5"})}),Br.jsxs("div",{children:[Br.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Editar Quiz":"Nuevo Quiz"}),Br.jsx("p",{className:"text-gray-600",children:r?"Modifica los detalles del quiz":"Crea un nuevo quiz de evaluación"})]})]})}),Br.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[Br.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información General"}),Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Br.jsxs("div",{className:"md:col-span-2",children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título del Quiz *"}),Br.jsx("input",{type:"text",value:o.title,onChange:e=>b("title",e.target.value),placeholder:"Título del quiz...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Br.jsxs("div",{className:"md:col-span-2",children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción *"}),Br.jsx("textarea",{value:o.description,onChange:e=>b("description",e.target.value),placeholder:"Descripción del quiz...",rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Curso *"}),Br.jsxs("select",{value:o.course_id,onChange:e=>b("course_id",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[Br.jsx("option",{value:"",children:"Selecciona un curso"}),n.map(e=>Br.jsx("option",{value:e.id,children:e.title},e.id))]})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiempo límite (minutos)"}),Br.jsx("input",{type:"number",min:"0",value:o.time_limit_minutes,onChange:e=>b("time_limit_minutes",parseInt(e.target.value)||0),placeholder:"0 = sin límite",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Máximo intentos"}),Br.jsx("input",{type:"number",min:"1",value:o.max_attempts,onChange:e=>b("max_attempts",parseInt(e.target.value)||1),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puntaje mínimo para aprobar (%)"}),Br.jsx("input",{type:"number",min:"0",max:"100",value:o.passing_score,onChange:e=>b("passing_score",parseInt(e.target.value)||0),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Br.jsxs("div",{className:"md:col-span-2",children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instrucciones (opcional)"}),Br.jsx("textarea",{value:o.instructions,onChange:e=>b("instructions",e.target.value),placeholder:"Instrucciones especiales para el quiz...",rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Br.jsxs("div",{className:"md:col-span-2 space-y-2",children:[Br.jsxs("label",{className:"flex items-center space-x-2",children:[Br.jsx("input",{type:"checkbox",checked:o.shuffle_questions,onChange:e=>b("shuffle_questions",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),Br.jsx("span",{className:"text-sm text-gray-700",children:"Mezclar preguntas"})]}),Br.jsxs("label",{className:"flex items-center space-x-2",children:[Br.jsx("input",{type:"checkbox",checked:o.show_results,onChange:e=>b("show_results",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),Br.jsx("span",{className:"text-sm text-gray-700",children:"Mostrar resultados al finalizar"})]}),Br.jsxs("label",{className:"flex items-center space-x-2",children:[Br.jsx("input",{type:"checkbox",checked:o.allow_review,onChange:e=>b("allow_review",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),Br.jsx("span",{className:"text-sm text-gray-700",children:"Permitir revisión de respuestas"})]})]})]})]}),Br.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[Br.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Br.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Preguntas (",c.length,")"]}),Br.jsxs("button",{onClick:()=>x(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[Br.jsx(Vf,{className:"h-4 w-4"}),Br.jsx("span",{children:"Agregar Pregunta"})]})]}),h&&Br.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[Br.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:null!==p?"Editar Pregunta":"Nueva Pregunta"}),Br.jsxs("div",{className:"space-y-4",children:[Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pregunta *"}),Br.jsx("textarea",{value:u.text,onChange:e=>v("text",e.target.value),placeholder:"Escribe tu pregunta aquí...",rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Pregunta *"}),Br.jsxs("select",{value:u.type,onChange:e=>v("type",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[Br.jsx("option",{value:"multiple_choice",children:"Opción Múltiple"}),Br.jsx("option",{value:"true_false",children:"Verdadero/Falso"}),Br.jsx("option",{value:"short_answer",children:"Respuesta Corta"}),Br.jsx("option",{value:"multiple_select",children:"Selección Múltiple"})]})]}),Br.jsxs("div",{children:[Br.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puntos"}),Br.jsx("input",{type:"number",min:"1",value:u.points,onChange:e=>v("points",parseInt(e.target.value)||1),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Br.jsxs("div",{className:"flex justify-end space-x-3",children:[Br.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),Br.jsxs("button",{type:"button",onClick:()=>{var e,t;if(!(null==(e=u.text)?void 0:e.trim()))return void alert("El texto de la pregunta es requerido");if(u.type===Yv.MULTIPLE_CHOICE||u.type===Yv.MULTIPLE_SELECT){const e=Array.isArray(u.options)?u.options.filter(e=>{var t;return null==(t=e.text)?void 0:t.trim()}):[];if(e.length<2)return void alert("Debes proporcionar al menos 2 opciones válidas");u.options=e}if(!(null==(t=u.correct_answers)?void 0:t.length))return void alert("Debes especificar al menos una respuesta correcta");const r=Ce(ke({},u),{order:null!==p?p+1:c.length+1});if(null!==p){const e=[...c];e[p]=r,d(e),g(null)}else d([...c,r]);y()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[null!==p?"Actualizar":"Agregar"," Pregunta"]})]})]})]}),c.length>0&&Br.jsx("div",{className:"space-y-4",children:c.map((e,t)=>Br.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:Br.jsxs("div",{className:"flex items-start justify-between",children:[Br.jsxs("div",{className:"flex-1",children:[Br.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Br.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded",children:ey.getQuestionTypeLabel(e.type)}),Br.jsxs("span",{className:"text-sm text-gray-500",children:[e.points," ",1===e.points?"punto":"puntos"]})]}),Br.jsxs("p",{className:"text-gray-900 font-medium",children:[t+1,". ",e.text]})]}),Br.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[Br.jsx("button",{onClick:()=>(e=>{m(c[e]),g(e),x(!0)})(t),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded",title:"Editar",children:Br.jsx(zf,{className:"h-4 w-4"})}),Br.jsx("button",{onClick:()=>(e=>{window.confirm("¿Estás seguro de que quieres eliminar esta pregunta?")&&d((Array.isArray(c)?c:[]).filter((t,r)=>r!==e))})(t),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Eliminar",children:Br.jsx(rb,{className:"h-4 w-4"})})]})]})},t))}),0===c.length&&!h&&Br.jsxs("div",{className:"text-center py-8 text-gray-500",children:[Br.jsx("p",{className:"mb-4",children:"No hay preguntas en este quiz"}),Br.jsx("button",{onClick:()=>x(!0),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Agregar la primera pregunta"})]})]}),Br.jsxs("div",{className:"flex justify-end space-x-4",children:[Br.jsx("button",{onClick:()=>e("/admin/quizzes"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),Br.jsxs("button",{onClick:()=>j(Jv.DRAFT),disabled:s,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[Br.jsx(Fg,{className:"h-4 w-4"}),Br.jsx("span",{children:"Guardar Borrador"})]}),Br.jsx("button",{onClick:()=>j(Jv.PUBLISHED),disabled:s||0===c.length,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:"Publicar Quiz"})]})]})},Vw=()=>{const{assignmentId:e}=Xe(),t=He(),[r,s]=ze.useState(null),[a,n]=ze.useState([]),[i,o]=ze.useState(!0),[l,c]=ze.useState(null);ze.useEffect(()=>{e&&d()},[e]);const d=()=>Ae(null,null,function*(){if(e)try{o(!0);const t=yield ov.getAssignment(e);s(t);const r=yield ov.getAssignmentSubmissions(e);n(r)}catch(t){c("Error al cargar el assignment y submissions"),An.error("Error al cargar datos del assignment")}finally{o(!1)}});return i?Br.jsx("div",{className:"flex items-center justify-center h-64",children:Br.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):l||!r?Br.jsxs("div",{className:"text-center py-12",children:[Br.jsx("p",{className:"text-red-500 mb-4",children:l||"Assignment no encontrado"}),Br.jsx("button",{onClick:()=>t(-1),className:"text-blue-600 hover:text-blue-500",children:"Volver"})]}):Br.jsxs("div",{className:"space-y-6",children:[Br.jsxs("div",{className:"flex items-center justify-between",children:[Br.jsxs("div",{className:"flex items-center space-x-4",children:[Br.jsx("button",{onClick:()=>t(-1),className:"text-gray-400 hover:text-gray-600",children:Br.jsx(jg,{className:"h-6 w-6"})}),Br.jsxs("div",{children:[Br.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Calificación de Assignment"}),Br.jsx("p",{className:"text-gray-600",children:r.title})]})]}),Br.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[Br.jsxs("span",{children:["Total submissions: ",a.length]}),Br.jsxs("span",{children:["Calificadas: ",(Array.isArray(a)?a:[]).filter(e=>"graded"===e.status).length]}),Br.jsxs("span",{children:["Pendientes: ",(Array.isArray(a)?a:[]).filter(e=>"submitted"===e.status).length]})]})]}),Br.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Fecha límite"}),Br.jsx("div",{className:"mt-1 text-lg font-medium text-gray-900",children:r.due_date?new Date(r.due_date).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Sin fecha límite"})]}),Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Puntuación máxima"}),Br.jsxs("div",{className:"mt-1 text-lg font-medium text-gray-900",children:[r.max_points," puntos"]})]}),Br.jsxs("div",{children:[Br.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Submissions múltiples"}),Br.jsx("div",{className:"mt-1 text-lg font-medium text-gray-900",children:r.allow_multiple_submissions?"Permitidas":"No permitidas"})]})]}),r.instructions&&Br.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[Br.jsx("div",{className:"text-sm font-medium text-gray-500 mb-2",children:"Instrucciones"}),Br.jsx("div",{className:"text-gray-900 whitespace-pre-wrap",children:r.instructions})]})]}),Br.jsx("div",{className:"bg-white shadow rounded-lg",children:Br.jsx(mv,{assignment:r,submissions:a,onGradeUpdate:()=>Ae(null,null,function*(){yield d(),An.success("Calificación actualizada exitosamente")})})})]})},Uw=()=>{const[e,t]=ze.useState([]),[r,s]=ze.useState(null),[a,n]=ze.useState([]),[i,o]=ze.useState([]),[l,c]=ze.useState(!0),[d,u]=ze.useState("1h");ze.useEffect(()=>{m();const e=setInterval(m,3e4);return()=>clearInterval(e)},[d]);const m=()=>Ae(null,null,function*(){try{const[e,r,a]=yield Promise.all([fetch(`/api/v1/monitoring/metrics?range=${d}`),fetch("/api/v1/monitoring/health"),fetch("/api/v1/monitoring/alerts")]);if(e.ok){const r=yield e.json();t(r.historical||[]),s(r.current||null)}if(r.ok){const e=yield r.json();n(Object.entries(e.services||{}).map(([e,t])=>({service:e,status:t.status,response_time_ms:t.response_time_ms,message:t.message,details:t.details})))}if(a.ok){const e=yield a.json();o(e.alerts||[])}}catch(e){}finally{c(!1)}}),h=e=>{switch(e){case"healthy":return"text-green-600 bg-green-100";case"degraded":return"text-yellow-600 bg-yellow-100";case"unhealthy":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},x=e=>{switch(e){case"healthy":return Br.jsx($g,{className:"h-5 w-5"});case"degraded":return Br.jsx(xf,{className:"h-5 w-5"});case"unhealthy":return Br.jsx(db,{className:"h-5 w-5"});default:return Br.jsx(tf,{className:"h-5 w-5"})}},p=e=>{switch(e){case"critical":return"border-l-red-600 bg-red-50";case"error":return"border-l-red-400 bg-red-25";case"warning":return"border-l-yellow-400 bg-yellow-50";case"info":return"border-l-blue-400 bg-blue-50";default:return"border-l-gray-400 bg-gray-50"}};return l?Br.jsx("div",{className:"flex items-center justify-center h-64",children:Br.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):Br.jsxs("div",{className:"space-y-6",children:[Br.jsxs("div",{className:"flex justify-between items-center",children:[Br.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Monitoring"}),Br.jsx("div",{className:"flex space-x-2",children:["1h","6h","24h","7d"].map(e=>Br.jsx("button",{onClick:()=>u(e),className:"px-3 py-1 rounded text-sm font-medium "+(d===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e},e))})]}),r&&Br.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Br.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(lf,{className:"h-8 w-8 text-blue-600"}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("p",{className:"text-sm font-medium text-gray-500",children:"CPU Usage"}),Br.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.cpu_usage_percent.toFixed(1),"%"]})]})]})}),Br.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(Yg,{className:"h-8 w-8 text-green-600"}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Memory Usage"}),Br.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.memory_usage_percent.toFixed(1),"%"]})]})]})}),Br.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(Qf,{className:"h-8 w-8 text-purple-600"}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Response Time"}),Br.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.response_time_ms.toFixed(0),"ms"]})]})]})}),Br.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:Br.jsxs("div",{className:"flex items-center",children:[Br.jsx(xf,{className:"h-8 w-8 text-orange-600"}),Br.jsxs("div",{className:"ml-4",children:[Br.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Error Rate"}),Br.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.error_rate_percent.toFixed(2),"%"]})]})]})})]}),Br.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[Br.jsx("h3",{className:"text-lg font-semibold mb-4",children:"System Resources"}),Br.jsx(tt,{width:"100%",height:300,children:Br.jsxs(lt,{data:e,children:[Br.jsx(st,{strokeDasharray:"3 3"}),Br.jsx(at,{dataKey:"timestamp",tickFormatter:e=>new Date(e).toLocaleTimeString()}),Br.jsx(nt,{domain:[0,100]}),Br.jsx(it,{labelFormatter:e=>new Date(e).toLocaleString(),formatter:(e,t)=>[`${e.toFixed(1)}%`,t]}),Br.jsx(ct,{}),Br.jsx(dt,{type:"monotone",dataKey:"cpu_usage_percent",stroke:"#3B82F6",name:"CPU",strokeWidth:2}),Br.jsx(dt,{type:"monotone",dataKey:"memory_usage_percent",stroke:"#10B981",name:"Memory",strokeWidth:2}),Br.jsx(dt,{type:"monotone",dataKey:"disk_usage_percent",stroke:"#8B5CF6",name:"Disk",strokeWidth:2})]})})]}),Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[Br.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Performance"}),Br.jsx(tt,{width:"100%",height:300,children:Br.jsxs(rt,{data:e,children:[Br.jsx(st,{strokeDasharray:"3 3"}),Br.jsx(at,{dataKey:"timestamp",tickFormatter:e=>new Date(e).toLocaleTimeString()}),Br.jsx(nt,{}),Br.jsx(it,{labelFormatter:e=>new Date(e).toLocaleString(),formatter:(e,t)=>"Response Time"===t?[`${e.toFixed(0)}ms`,t]:"Error Rate"===t?[`${e.toFixed(2)}%`,t]:[e,t]}),Br.jsx(ct,{}),Br.jsx(ot,{type:"monotone",dataKey:"response_time_ms",stroke:"#F59E0B",fill:"#FEF3C7",name:"Response Time"}),Br.jsx(ot,{type:"monotone",dataKey:"error_rate_percent",stroke:"#EF4444",fill:"#FEE2E2",name:"Error Rate"})]})})]})]}),Br.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[Br.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Service Health"}),Br.jsx("div",{className:"space-y-3",children:a.map(e=>Br.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${h(e.status)}`,children:[Br.jsxs("div",{className:"flex items-center",children:[x(e.status),Br.jsxs("div",{className:"ml-3",children:[Br.jsx("p",{className:"font-medium",children:e.service}),Br.jsx("p",{className:"text-sm",children:e.message})]})]}),Br.jsxs("div",{className:"text-right",children:[Br.jsxs("p",{className:"text-sm font-medium",children:[e.response_time_ms.toFixed(0),"ms"]}),Br.jsx("p",{className:"text-xs",children:e.status})]})]},e.service))})]}),Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[Br.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Active Alerts"}),Br.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:0===(Array.isArray(i)?i:[]).filter(e=>!e.resolved).length?Br.jsxs("div",{className:"text-center py-8 text-gray-500",children:[Br.jsx($g,{className:"h-12 w-12 mx-auto mb-2"}),Br.jsx("p",{children:"No active alerts"})]}):(Array.isArray(i)?i:[]).filter(e=>!e.resolved).map(e=>Br.jsx("div",{className:`border-l-4 p-3 rounded ${p(e.level)}`,children:Br.jsxs("div",{className:"flex justify-between items-start",children:[Br.jsxs("div",{children:[Br.jsx("p",{className:"font-medium text-sm",children:e.title}),Br.jsx("p",{className:"text-xs text-gray-600",children:e.message}),Br.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]}),Br.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium "+("critical"===e.level?"bg-red-100 text-red-800":"error"===e.level?"bg-red-50 text-red-700":"warning"===e.level?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.level})]})},e.id))})]})]}),Br.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[Br.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Request Volume"}),Br.jsx(tt,{width:"100%",height:200,children:Br.jsxs(ut,{data:e,children:[Br.jsx(st,{strokeDasharray:"3 3"}),Br.jsx(at,{dataKey:"timestamp",tickFormatter:e=>new Date(e).toLocaleTimeString()}),Br.jsx(nt,{}),Br.jsx(it,{labelFormatter:e=>new Date(e).toLocaleString(),formatter:e=>[`${e} req/min`,"Requests"]}),Br.jsx(mt,{dataKey:"requests_per_minute",fill:"#3B82F6",name:"Requests per minute"})]})})]}),Br.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:Br.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[Br.jsxs("span",{children:["Last updated: ",r?new Date(r.timestamp).toLocaleString():"Never"]}),Br.jsx("span",{children:"Auto-refresh: Every 30 seconds"})]})})]})},Hw=()=>{const{user:e}=al();return"admin"===(null==e?void 0:e.role)?Br.jsx(Ke,{to:"/platform/courses",replace:!0}):Br.jsx(Xv,{})},Gw=()=>Br.jsxs(Ye,{children:[Br.jsxs(Je,{element:Br.jsx(sg,{}),children:[Br.jsx(Je,{path:"/",element:Br.jsx(Qw,{})}),Br.jsx(Je,{path:"/consultorias",element:Br.jsx(Bb,{})}),Br.jsx(Je,{path:"/empresa",element:Br.jsx(Db,{})}),Br.jsx(Je,{path:"/register",element:Br.jsx(dg,{})}),Br.jsx(Je,{path:"/resend-verification",element:Br.jsx(hg,{})}),Br.jsx(Je,{path:"/verify-email",element:Br.jsx(hb,{})}),Br.jsx(Je,{path:"/404",element:Br.jsx(xb,{})})]}),Br.jsxs(Je,{path:"/platform",element:Br.jsx(Iw,{children:Br.jsx(up,{})}),children:[Br.jsx(Je,{index:!0,element:Br.jsx(Hw,{})}),Br.jsx(Je,{path:"courses",element:Br.jsx(Kb,{})}),Br.jsx(Je,{path:"courses/list",element:Br.jsx(Yb,{})}),Br.jsx(Je,{path:"courses/:courseId",element:Br.jsx(rv,{})}),Br.jsx(Je,{path:"courses/:courseId/view",element:Br.jsx(pv,{})}),Br.jsx(Je,{path:"my-courses",element:Br.jsx(bv,{})}),Br.jsx(Je,{path:"users",element:Br.jsx(Lw,{})}),Br.jsx(Je,{path:"admin/dashboard",element:Br.jsx(Tw,{})}),Br.jsx(Je,{path:"admin/courses/new",element:Br.jsx(Aw,{})}),Br.jsx(Je,{path:"admin/courses/:courseId/edit",element:Br.jsx(Aw,{})}),Br.jsx(Je,{path:"admin/courses/:courseId/lessons",element:Br.jsx($w,{})}),Br.jsx(Je,{path:"admin/courses/:courseId/modules",element:Br.jsx(qw,{})}),Br.jsx(Je,{path:"admin/assignments/:assignmentId/grading",element:Br.jsx(Vw,{})}),Br.jsx(Je,{path:"admin/quizzes",element:Br.jsx(Bw,{})}),Br.jsx(Je,{path:"admin/quizzes/new",element:Br.jsx(Ww,{})}),Br.jsx(Je,{path:"admin/quizzes/:quizId/edit",element:Br.jsx(Ww,{})}),Br.jsx(Je,{path:"profile",element:Br.jsx(vv,{})}),Br.jsx(Je,{path:"settings",element:Br.jsx(yv,{})}),Br.jsx(Je,{path:"certificates",element:Br.jsx(wv,{})}),Br.jsx(Je,{path:"progress",element:Br.jsx(Nv,{})}),Br.jsx(Je,{path:"my-progress",element:Br.jsx(Xv,{})}),Br.jsx(Je,{path:"support",element:Br.jsx(Kv,{})}),Br.jsx(Je,{path:"admin/analytics",element:Br.jsx(Fw,{})}),Br.jsx(Je,{path:"admin/monitoring",element:Br.jsx(Uw,{})}),Br.jsx(Je,{path:"quiz/take/:quizId",element:Br.jsx(Mw,{})}),!1]}),Br.jsx(Je,{path:"*",element:Br.jsx(Ke,{to:"/404",replace:!0})})]}),Qw=()=>Br.jsxs(Br.Fragment,{children:[Br.jsx(Ha,{}),Br.jsx(Za,{}),Br.jsx(sn,{}),Br.jsx(ln,{}),Br.jsx(ii,{})]}),Xw=()=>Br.jsx(ul,{onError:(e,t)=>{try{fetch(Go("/analytics/activity"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({activity_type:"critical_error",metadata:{error_message:e.message,error_stack:e.stack,component_stack:t.componentStack,timestamp:(new Date).toISOString()}})}).catch(()=>{})}catch(r){}},children:Br.jsx(sl,{children:Br.jsx(cl,{children:Br.jsx(Ze,{children:Br.jsx(Gw,{})})})})});"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{e.forEach(e=>{e.unregister()})}).catch(e=>{}),Vr.createRoot(document.getElementById("root")).render(Br.jsx(We.StrictMode,{children:Br.jsx($s,{client:xl,children:Br.jsx(sl,{children:Br.jsxs(ap,{children:[Br.jsx(Xw,{}),Br.jsx(Us,{initialIsOpen:!1})]})})})}));
